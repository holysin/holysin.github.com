<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[holysin's blog]]></title>
  
  <link href="/atom.xml" rel="self"/>
  <link href="http://devliu.com/"/>
  <updated>2016-04-13T02:11:37.000Z</updated>
  <id>http://devliu.com/</id>
  
  <author>
    <name><![CDATA[holysin]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title></title>
    <link href="http://devliu.com/2016/04/13/charles%E4%BB%8B%E7%BB%8D/"/>
    <id>http://devliu.com/2016/04/13/charlesä»‹ç»/</id>
    <published>2016-04-13T02:12:07.000Z</published>
    <updated>2016-04-13T02:11:37.000Z</updated>
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹">ç®€ä»‹</h1><p>Charles æ˜¯ä¸€æ¬¾ç½‘ç»œæŠ“åŒ…åˆ†æå·¥å…·ï¼Œæ˜¯ä¸€æ¬¾æ”¶è´¹è½¯ä»¶ï¼Œåœ¨ä¸ä¸ä»˜è´¹çš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯æ¯æ¬¡å¯åŠ¨è¦ç­‰å¾… 10 ç§’ã€‚åœ¨å®¢æˆ·ç«¯ç ”å‘è¿‡ç¨‹ä¸­ï¼Œå¦‚æœèƒ½å–„ç”¨ Charles å¯ä»¥å¾ˆå¤§çš„æé«˜å¼€å‘æ•ˆç‡ã€‚</p>
<p>Charles ä¸»è¦æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>æŠ“å–ç”µè„‘ç«¯çš„ç½‘ç»œè¯·æ±‚</li>
<li>å°†ç”µè„‘ä½œä¸ºä»£ç†æŠ“å–æ‰‹æœºç«¯çš„ç½‘ç»œè¯·æ±‚</li>
<li>æŠ“å– http å’Œ https è¯·æ±‚</li>
<li>è¿‡æ»¤ç½‘ç»œè¯·æ±‚</li>
<li>æ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œ</li>
<li>é»‘åå•åŠŸèƒ½</li>
<li>ä¿®æ”¹ç½‘ç»œè¯·æ±‚</li>
<li>æ˜ å°„ç½‘ç»œè¯·æ±‚å†…å®¹</li>
<li>æ–­ç‚¹è°ƒè¯•ç½‘ç»œè¯·æ±‚</li>
</ul>
<a id="more"></a>
<hr>
<h1 id="å®‰è£…_Charles">å®‰è£… Charles</h1><p>è¿›å…¥ <a href="http://www.charlesproxy.com/download/" target="_blank" rel="external">Charles ä¸‹è½½é“¾æ¥</a>ï¼Œé€‰æ‹©å¯¹åº”çš„å¹³å°ä¸‹è½½ã€‚ä¸‹è½½å®Œæˆä¹‹åï¼ŒåŒå‡»å®‰è£…ï¼Œå®‰è£…ä¹‹åä¼šæç¤ºæˆæƒï¼Œè¾“å…¥ç™»å½•å¯†ç å°±å¯ä»¥äº†ã€‚</p>
<p>Charles å®‰è£…ä¹‹åä¼šé»˜è®¤ä½œä¸º Mac çš„ä»£ç†ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨è®¾ç½®ï¼Œå¦‚ä¸‹å›¾<br><img src="charles_1.png" alt="å°†charlesè®¾ç½®ä¸ºmacçš„ä»£ç†"></p>
<p>è¿™æ · Mac ä¸Šæ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚å°±ä¼šèµ° Charlesã€‚</p>
<p>Charles æä¾›ä¸¤ç§æ ·å¼æŸ¥çœ‹ç½‘è·¯è¯·æ±‚ï¼ŒStructure å’Œ Sequenceã€‚</p>
<p>Structure æ ·å¼ä¼šæŠŠç½‘ç»œè¯·æ±‚æŒ‰åŸŸåæ¥åˆ†ç±»ã€‚åŒä¸€ä¸ªåŸŸåçš„ç½‘è·¯è¯·æ±‚ï¼Œæ”¾åœ¨ç›¸åŒæ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<p><img src="charles_2.png" alt="structure æ ·å¼"></p>
<p>Sequence æ ·å¼ä¼šæŒ‰ç…§æ—¶é—´é¡ºåºæ¥å±•ç¤ºç½‘ç»œè¯·æ±‚ï¼Œå¯ä»¥ç”¨ filter æ¥è¿‡æ»¤ç½‘ç»œè¯·æ±‚ã€‚</p>
<p><img src="charles_3.png" alt="sequence æ ·å¼"></p>
<hr>
<h1 id="æŠ“å–æ‰‹æœºç«¯çš„ç½‘ç»œè¯·æ±‚">æŠ“å–æ‰‹æœºç«¯çš„ç½‘ç»œè¯·æ±‚</h1><p>è¦æŠ“å–æ‰‹æœºç«¯çš„ç½‘ç»œè¯·æ±‚ï¼Œå¿…é¡»ä¿è¯ä½ çš„ç”µè„‘å’Œæ‰‹æœºåœ¨åŒä¸€ä¸ª wifi ç½‘ç»œã€‚åŒæ—¶åœ¨ç”µè„‘ç«¯å’Œæ‰‹æœºç«¯è¿›è¡Œç›¸åº”çš„é…ç½®ã€‚</p>
<h2 id="æ‰‹æœºé…ç½®">æ‰‹æœºé…ç½®</h2><p>è®¾ç½® -&gt; æ— çº¿å±€åŸŸç½‘ -&gt; æ‰¾åˆ°å½“å‰è¿æ¥çš„ wifi -&gt; ç‚¹å‡»å³ä¾§çš„å¹å·</p>
<p>æ»‘åˆ°æœ€åº•éƒ¨ -&gt; è®¾ç½® http ä»£ç†ä¸ºæ‰‹åŠ¨</p>
<p>æŠŠæœåŠ¡å™¨è®¾ç½®ä¸º Mac çš„ IP åœ°å€ï¼Œç«¯å£ä¸º 8888</p>
<p><img src="charles_4.png" alt="æ‰‹æœºç«¯è®¾ç½®"></p>
<p>Mac çš„ IP åœ°å€å¯ä»¥ä» Charles çš„ Help èœå•ä¸‹çš„ local address è·å–ã€‚</p>
<p><img src="charles_5.png" alt="mac ipåœ°å€"></p>
<h2 id="ç”µè„‘ç«¯é…ç½®">ç”µè„‘ç«¯é…ç½®</h2><p>åœ¨ç”µè„‘ç«¯è¦æŠŠ Charles ç›‘å¬çš„ç«¯å£å’Œä¸Šä¸€æ­¥æ‰‹æœºç«¯è®¾ç½®çš„ç«¯å£ä¸€è‡´ï¼Œç«¯å£é»˜è®¤å€¼æ˜¯ 8888ï¼Œå¦‚æœå’Œå…¶ä»–ç«¯å£æœ‰å†²çªå¯ä»¥æ‰‹åŠ¨ä¿®æ”¹ã€‚ç‚¹å‡» Proxy -&gt; Proxy settings</p>
<p><img src="charles_6.png" alt="ç”µè„‘ç«¯é…ç½®"></p>
<p>è¿™æ ·åœ¨ Charles ä¸­å°±å¯ä»¥çœ‹åˆ°æ‰‹æœºç«¯çš„ç½‘ç»œè¯·æ±‚äº†ã€‚</p>
<hr>
<h1 id="æŠ“å–_https_ç½‘ç»œè¯·æ±‚">æŠ“å– https ç½‘ç»œè¯·æ±‚</h1><p>iOS 9ä¹‹åï¼Œè‹¹æœå¼ºçƒˆå»ºè®®æœåŠ¡ç«¯å¼€å‘è€…æŠŠè¯·æ±‚æ”¹ä¸º httpsã€‚åœ¨æ²¡æœ‰é…ç½® SSL ä¹‹å‰ï¼ŒCharles è™½ç„¶å¯ä»¥æŠ“å– https çš„è¯·æ±‚ï¼Œä½†æ˜¯è¯·æ±‚çš„ response éƒ½æ˜¾ç¤ºä¸ºä¹±ç ï¼Œè¿™æ ·å¯¹æˆ‘ä»¬å¼€å‘è°ƒè¯•æ˜¯æ²¡æœ‰ä½œç”¨çš„ã€‚</p>
<p><img src="charles_7.png" alt="è¯·æ±‚ä¹±ç "></p>
<p>å¹¸è¿çš„æ˜¯ charles å¯ä»¥è§£æ https è¯·æ±‚ï¼Œåªéœ€è¦ä¸¤æ­¥è®¾ç½®å°±å¯ä»¥ã€‚</p>
<p><em>æ³¨ï¼šæœ‰äº›ç½‘ç«™ï¼Œæ¯”å¦‚ githubï¼Œapple è¿‡æ»¤äº† Charles è¯ä¹¦ï¼Œæ‰€ä»¥åšäº†ç›¸åº”é…ç½®ï¼Œä¹Ÿä¸èƒ½çœ‹åˆ°ç½‘ç»œè¯·æ±‚çš„ response</em></p>
<ul>
<li>åœ¨æ‰‹æœºç«¯å’Œ Mac ç«¯å®‰è£… Charles è¯ä¹¦</li>
<li>æŠŠç›¸åº”çš„ https è¯·æ±‚æ·»åŠ åˆ° SSL proxy setting ä¸­</li>
</ul>
<h2 id="å®‰è£…_Charles_è¯ä¹¦">å®‰è£… Charles è¯ä¹¦</h2><p>æ‰“å¼€ Charlesï¼Œç‚¹å‡» Help -&gt; SSLProxyï¼Œä¼šçœ‹åˆ° SSL çš„é…ç½®</p>
<p><img src="charles_8.png" alt="ssl mac é…ç½®"></p>
<p>ç‚¹å‡» <em>Install Charles Root Certificate</em> ä¼šåœ¨ Mac ç«¯å®‰è£…è¯ä¹¦ã€‚</p>
<p>åœ¨æ‰‹æœºç«¯ç”¨ Safari æ‰“å¼€<a href="http://charlesproxy.com/getssl" target="_blank" rel="external">http://charlesproxy.com/getssl</a>ï¼ŒiPhone ä¼šè‡ªåŠ¨ä¸‹è½½è¯ä¹¦ï¼Œç‚¹å‡»å®‰è£…å³å¯ã€‚</p>
<p><img src="charles_9.png" alt="SSL iphne é…ç½®"></p>
<h2 id="è®¾ç½®_Charles_çš„_SSL_proxy_setting">è®¾ç½® Charles çš„ SSL proxy setting</h2><p>æ‰“å¼€ Charlesï¼Œç‚¹å‡» SSL -&gt; Proxy settings</p>
<p><img src="charles_10.png" alt="æ‰“å¼€ proxy setting"></p>
<p>ç„¶åæ·»åŠ å¯¹åº”çš„åŸŸåï¼ŒåŸŸåæ”¯æŒé€šé…ç¬¦</p>
<p><img src="charles_11.png" alt="proxy setting"></p>
<p>ä»¥æˆ‘å¸çš„ API ä¸ºä¾‹ï¼Œä¸Šé¢çš„é…ç½®åšå¥½åï¼Œå°±å¯ä»¥çœ‹åˆ° https è¯·æ±‚çš„ response äº†ã€‚</p>
<p><img src="charles_12.png" alt="https response"></p>
<hr>
<h1 id="è¿‡æ»¤ç½‘ç»œè¯·æ±‚">è¿‡æ»¤ç½‘ç»œè¯·æ±‚</h1><p>ç”±äº charles ç›‘å¬çš„æ˜¯ç”µè„‘å’Œæ‰‹æœºä¸Šæ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚ï¼Œéå¸¸å¤šï¼Œæ‰€ä»¥æˆ‘ä»¬ç»å¸¸éœ€è¦è¿‡æ»¤ç½‘ç»œè¯·æ±‚ã€‚è¿‡æ»¤ç½‘ç»œè¯·æ±‚æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯åœ¨ Sequence è§†å›¾ä¸‹è¾“å…¥å­—ç¬¦ä¸²ï¼Œæ¥è¿‡æ»¤ç½‘ç»œè¯·æ±‚ï¼Œå¦ä¸€ç§æ˜¯å³é”®ç‚¹å‡»ç½‘ç»œè¯·æ±‚ï¼Œç‚¹å‡» focusï¼Œç„¶ååœ¨ Sequence è§†å›¾ä¸‹ç‚¹å‡» Focusedï¼Œè¿™æ ·å°±å¯ä»¥çœ‹åˆ°æ‰€æœ‰ focus çš„è¯·æ±‚ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º Charles åªæ˜¾ç¤º github å’Œ â€˜åœ¨ç›´æ’­â€™ çš„ç½‘ç»œè¯·æ±‚äº†ã€‚</p>
<p><img src="charles_13.png" alt="è¿‡æ»¤ç½‘ç»œè¯·æ±‚"></p>
<hr>
<h1 id="æ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œ">æ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œ</h1><p>åœ¨å®¢æˆ·ç«¯ç ”å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸è¦æµ‹è¯• app åœ¨æ…¢é€Ÿç½‘ç»œæ—¶æ˜¯å¦å·¥ä½œæ­£å¸¸ï¼Œæ¯”å¦‚æµ‹è¯•ç½‘ç»œè¶…æ—¶ï¼Œæˆ–è€… UI åœ¨æ…¢é€Ÿç½‘ç»œä¸‹æ˜¯å¦æ­£å¸¸ã€‚ç”¨ Charles å¯ä»¥æ¨¡æ‹Ÿå„ç§ç½‘ç»œæƒ…å†µï¼ŒåŒ…æ‹¬ 2Gï¼Œ3G å’Œ æ‹¨å·ç½‘ç»œç­‰ã€‚è¿™æ ·å°±éå¸¸æ–¹ä¾¿æˆ‘ä»¬è°ƒè¯•äº†ã€‚</p>
<p>æ‰“å¼€ Charlesï¼Œç‚¹å‡» Proxy -&gt; Throttle settingsï¼Œå‹¾é€‰ Enable Throttlingï¼Œè¿™é‡Œå¯ä»¥æŒ‡å®šåŸŸåï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬è¦ throttle â€˜åœ¨ç›´æ’­â€™ çš„æ‰€æœ‰ç½‘ç»œè¯·æ±‚ã€‚</p>
<p><img src="charles_14.png" alt="èŠ‚æµç½‘ç»œè¯·æ±‚"></p>
<p>è®¾ç½®å¥½ä¹‹åï¼Œç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼Œé‡æ–°æ‰§è¡Œç½‘ç»œè¯·æ±‚ï¼Œçœ‹åˆ°ç½‘ç»œè¯·æ±‚çš„æ—¶é—´è¾¾åˆ°äº†6ç§’ã€‚</p>
<p><img src="charles_15.png" alt="é™æµæ•ˆæœ"></p>
<p>PS: è®°å¾—åœ¨ä¸éœ€è¦çš„æ—¶å€™ï¼ŒæŠŠé™æµå…³æ‰ã€‚</p>
<hr>
<h1 id="é»‘åå•åŠŸèƒ½">é»‘åå•åŠŸèƒ½</h1><p>æœ‰æ—¶æˆ‘ä»¬éœ€è¦è®©æŸä¸ªæ¥å£ç›´æ¥è¿”å›å¤±è´¥ï¼Œæ¥æµ‹è¯•ç›¸åº”çš„é€»è¾‘ï¼ˆæ¯”å¦‚æ— æ•°æ®çš„æƒ…å†µï¼‰æ˜¯å¦æ­£å¸¸ã€‚å¯ä»¥ç”¨ Charles çš„é»‘åå•åŠŸèƒ½åšåˆ°ã€‚</p>
<p>å³é”®ç‚¹å‡»æƒ³åŠ å…¥é»‘åå•çš„ç½‘ç»œè¯·æ±‚ï¼Œç‚¹å‡» black listï¼Œä¹Ÿå¯ä»¥åœ¨ tools -&gt; blacklist ä¸­æ·»åŠ ç½‘ç»œè¯·æ±‚ã€‚ç‚¹å‡»åˆ·æ–°ï¼Œå¯ä»¥çœ‹åˆ°ç½‘ç»œè¯·æ±‚å¤±è´¥äº†ã€‚</p>
<p><img src="charles_16.png" alt="é»‘åå•"></p>
<p>PS: è®°å¾—åœ¨ä¸éœ€è¦çš„æ—¶å€™ï¼ŒæŠŠé»‘åå•å…³æ‰ã€‚</p>
<hr>
<h1 id="ä¿®æ”¹ç½‘ç»œè¯·æ±‚">ä¿®æ”¹ç½‘ç»œè¯·æ±‚</h1><p>é€šè¿‡ Charlesï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ç½‘ç»œè¯·æ±‚ requestï¼Œæ¯”å¦‚å¢åŠ å­—æ®µï¼Œä¿®æ”¹å‚æ•°å€¼ç­‰ï¼›ä¹Ÿå¯ä»¥ä¿®æ”¹ç½‘ç»œè¯·æ±‚çš„ responseã€‚è¿™ä¸€èŠ‚ä»‹ç»å¦‚ä½•ä¿®æ”¹ requestã€‚</p>
<p>å³é”®ç‚¹å‡»æƒ³ä¿®æ”¹çš„ç½‘ç»œè¯·æ±‚ï¼Œç‚¹å‡» Editï¼Œåœ¨å³ä¾§å°±å¯ä»¥ç¼–è¾‘ç½‘ç»œè¯·æ±‚äº†ã€‚æ¯”å¦‚æœ‰çš„æ¥å£æœ‰ç‰ˆæœ¬å·é™åˆ¶ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¿®æ”¹å¯¹åº”çš„å­—æ®µï¼ŒæŸ¥çœ‹è¿”å›ç»“æœæ˜¯å¦æ­£ç¡®äº†ã€‚ç‚¹å‡»å³ä¸‹æ–¹çš„ Execute é‡å‘è¯·æ±‚ã€‚</p>
<p><img src="charles_17.png" alt="ä¿®æ”¹ç½‘ç»œè¯·æ±‚"></p>
<h1 id="æ˜ å°„ç½‘ç»œè¯·æ±‚å†…å®¹">æ˜ å°„ç½‘ç»œè¯·æ±‚å†…å®¹</h1><p>æ˜ å°„ç½‘ç»œè¯·æ±‚åˆ†ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯ map localï¼Œä¸€ç§æ˜¯ map remoteã€‚æˆ‘ä»¬å¯ä»¥æŒ‰éœ€é€‰æ‹©ç”¨å“ªä¸€ç§ã€‚</p>
<h2 id="æ˜ å°„æœ¬åœ°æ•°æ®">æ˜ å°„æœ¬åœ°æ•°æ®</h2><p>æ˜ å°„æœ¬åœ°æ•°æ®æ˜¯æŠŠæ¥å£çš„è¿”å›å†…å®¹æ˜ å°„æˆæœ¬åœ°çš„ json æ–‡ä»¶ã€‚è¿™ä¸ªåŠŸèƒ½å¯ä»¥å¾ˆå¤§çš„æé«˜å·¥ä½œæ•ˆç‡ã€‚åœ¨æ²¡ç”¨ Charles ä¹‹å‰ï¼Œå¼€å‘æµç¨‹å¾€å¾€æ˜¯è¿™æ ·çš„ï¼Œäº§å“ç»ç†å®£è®²éœ€æ±‚ï¼Œç ”å‘åŒå­¦è®¨è®ºï¼Œå¤§å®¶é£é£ç«ç«å¼€å¹²ã€‚å®¢æˆ·ç«¯åŒå­¦ä¼šå…ˆæ­å»ºç•Œé¢ï¼Œå†™åŠ¨ç”»ï¼Œç„¶åå†™å’ŒæœåŠ¡ç«¯äº¤äº’çš„é€»è¾‘ï¼Œè¿™é‡Œå¯èƒ½ä¼šç”¨ä¸€äº›å‡æ•°æ®æ¥ä¿è¯é€»è¾‘èµ°é€šã€‚å’ŒæœåŠ¡ç«¯äº¤äº’çš„ä»£ç å¾€å¾€è¦ç­‰æœåŠ¡ç«¯åŒå­¦å¼€å‘å®Œä¹‹åï¼Œå†å¼€å§‹è”è°ƒã€‚ç”±äºæœåŠ¡ç«¯åŒå­¦ç»å¸¸ä¼šè¢«å…¶ä»–åŒå­¦æ‰“æ–­å»ä¸´æ—¶å¤„ç†ä¸€äº›é—®é¢˜ï¼Œå¯¼è‡´æ²¡æœ‰æ—¶é—´ç¼–å†™æ–°çš„æ¥å£ï¼Œè¿™æ—¶å®¢æˆ·ç«¯åŒå­¦ä¼šå¤„åœ¨ç­‰å¾…çš„çœŸç©ºæœŸã€‚å½“æœåŠ¡ç«¯åŒå­¦æŠ½å‡ºæ—¶é—´æŠŠæ¥å£å†™å®Œï¼Œå‘ç° deadline å°±è¦åˆ°äº†ã€‚åœ¨è”è°ƒçš„è¿‡ç¨‹ä¸­åˆä¼šå‘ç°å¾ˆå¤š bugï¼ˆä¸è¦ç›¸ä¿¡è‡ªå·±èƒ½ä¸€æ¬¡æ€§å†™å‡ºæ²¡æœ‰bugçš„ä»£ç ï¼‰ï¼Œç„¶åï¼Œä½ æ‡‚å¾—ï¼Œå¼€å§‹åŠ ç­äº†ğŸ˜œï¼ˆè¿˜è®°å¾—æ´›æ‰çŸ¶å‡Œæ™¨4ç‚¹çš„é˜³å…‰å—ï¼‰ã€‚å¹¸è¿çš„æ˜¯ç”¨ Charles èƒ½æ”¹å–„è¿™ç§å°´å°¬ã€‚</p>
<p>å…·ä½“çš„æµç¨‹æ˜¯è¿™æ ·çš„ï¼Œç ”å‘åŒå­¦åœ¨å¬å®Œéœ€æ±‚å®£è®²ä¹‹åï¼Œå®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨éƒ½ä¼šæ€è€ƒè¦æ–°åŠ ä»€ä¹ˆæ¥å£ï¼Œæ–°å¢ä»€ä¹ˆå­—æ®µã€‚å½“ç†æ¸…é€»è¾‘ä¹‹åï¼Œå®¢æˆ·ç«¯æœåŠ¡å™¨å¯¹æ¥æ¥å£ï¼Œå¤§æˆ˜ä¸‰ç™¾å›åˆä¹‹åï¼Œå®¢æˆ·ç«¯æœåŠ¡å™¨å®šä¸‹äº†æ–°å¢çš„æ¥å£å’Œå­—æ®µã€‚å½“ç„¶ï¼Œä½œä¸ºå®¢æˆ·ç«¯çš„ä½ è‚¯å®šè¦è®©æœåŠ¡ç«¯ç«‹ä¸‹å­—æ®ï¼Œä¸è¦å†æ”¹äº†ï¼ˆå…¶å®å°±æ˜¯æŠŠæ–‡æ¡£å†™æ¸…æ¥šï¼Œåé¢è¢«å“å“­çš„å°æœ‹å‹ä¸è¦å®³æ€•å•Šï¼‰ã€‚</p>
<p>ä»¥ä¸Šéƒ½æ˜¯å‡†å¤‡å·¥ä½œï¼Œåœ¨æ¥å£å¯¹å®Œä¹‹åï¼Œæˆ‘ä»¬æŒ‰ç…§å¯¹æ¥çš„æ¥å£æ‹¼è£…å‡ºéœ€è¦çš„ json æ–‡ä»¶æ¥æ¨¡æ‹ŸæœåŠ¡ç«¯è¿”å›ï¼Œæ¯”å¦‚å« test.jsonã€‚ç”¨ Charles çš„ map local åŠŸèƒ½ï¼Œå³é”®ç‚¹å‡»éœ€è¦ map çš„æ¥å£ï¼Œç‚¹å‡» map localï¼Œé€‰æ‹©åˆšæ‰æ‹¼å¥½çš„ json æ–‡ä»¶ã€‚</p>
<p><img src="charles_18.png" alt="map local"></p>
<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æå‰å†™å’ŒæœåŠ¡ç«¯äº¤äº’çš„é€»è¾‘äº†ã€‚</p>
<h2 id="æ˜ å°„è¿œç¨‹æ•°æ®">æ˜ å°„è¿œç¨‹æ•°æ®</h2><p>åœ¨ç ”å‘æ—¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šæœ‰æµ‹è¯•æœåŠ¡å™¨å’Œè¿œç¨‹æœåŠ¡å™¨ä¸¤ä¸ªåœ°å€ã€‚æœ‰çš„æ—¶å€™ä¸¤ä¸ªæœåŠ¡å™¨çš„è¡Œä¸ºä¼šå‡ºç°ä¸€äº›å·®å¼‚ï¼Œå¯¼è‡´å®¢æˆ·ç«¯çš„è¡Œä¸ºä¹Ÿä¸å¤ªæ­£å¸¸ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ Charles çš„ map remote åŠŸèƒ½æ¥æ˜ å°„æ¥å£ï¼ŒæŠŠçº¿ä¸ŠæœåŠ¡å™¨æ˜ å°„åˆ°æµ‹è¯•æœåŠ¡å™¨ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹å®¢æˆ·ç«¯çš„ä»£ç å°±å¯ä»¥è½»æ¾è°ƒè¯•äº†ã€‚é‚®ä»¶ç‚¹å‡»ç½‘ç»œè¯·æ±‚ï¼Œç‚¹å‡» map remoteï¼Œé…ç½®å¥½ä¹‹åï¼Œè¿™ä¸ªè¯·æ±‚å°±æ˜ å°„åˆ°å…¶ä»–åŸŸåäº†ã€‚</p>
<p><img src="charles_19.png" alt="map remote"></p>
<hr>
<h1 id="æ–­ç‚¹è°ƒè¯•">æ–­ç‚¹è°ƒè¯•</h1><p>æˆ‘ä»¬å¯ä»¥ç”¨ Charles çš„æ–­ç‚¹è°ƒè¯•åŠŸèƒ½æ¥ä¿®æ”¹ç½‘ç»œè¯·æ±‚çš„è¿”å›å€¼ï¼Œå³é”®ç‚¹å‡»ç½‘ç»œè¯·æ±‚ï¼Œç‚¹å‡» Breakpointsã€‚å½“é‡å‘ç½‘ç»œè¯·æ±‚æ—¶ï¼Œä¼šè§¦å‘æ–­ç‚¹ï¼Œå‘é€ç½‘ç»œè¯·æ±‚å’Œæ”¶åˆ°ç½‘ç»œè¯·æ±‚å›å¤éƒ½ä¼šæ–­ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç½‘ç»œè¯·æ±‚å›å¤ä¸­ä¿®æ”¹æˆ‘ä»¬æƒ³è¦çš„å€¼ã€‚</p>
<p><img src="charles_20.png" alt="Breakpoints"></p>
<p>æ–­ç‚¹ä¼šå»¶é•¿è¯·æ±‚æ—¶é—´ï¼Œå¦‚æœå®¢æˆ·ç«¯è®¾ç½®çš„è¶…æ—¶å¾ˆçŸ­çš„è¯ï¼Œæ˜¯ç­‰ä¸åˆ°æ–­ç‚¹æ‰§è¡Œç»“æŸçš„ã€‚</p>
<h1 id="æ€»ç»“">æ€»ç»“</h1><p>ä»¥ä¸Šæ˜¯ Charles çš„ä¸€äº›å¸¸ç”¨åŠŸèƒ½ï¼Œè¿™ç¯‡åšå®¢ä¸»è¦å‚è€ƒäº†å”å·§å¤§ç¥çš„ <a href="http://devtang.com/2015/11/14/charles-introduction/" target="_blank" rel="external">Charles ä»å…¥é—¨åˆ°ç²¾é€š</a>ï¼ŒåŠ ä¸Šäº†è‡ªå·±çš„ä¸€äº›ç†è§£ï¼Œå¸Œæœ›å¤§å®¶å–œæ¬¢ã€‚</p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="ç®€ä»‹">ç®€ä»‹</h1><p>Charles æ˜¯ä¸€æ¬¾ç½‘ç»œæŠ“åŒ…åˆ†æå·¥å…·ï¼Œæ˜¯ä¸€æ¬¾æ”¶è´¹è½¯ä»¶ï¼Œåœ¨ä¸ä¸ä»˜è´¹çš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯æ¯æ¬¡å¯åŠ¨è¦ç­‰å¾… 10 ç§’ã€‚åœ¨å®¢æˆ·ç«¯ç ”å‘è¿‡ç¨‹ä¸­ï¼Œå¦‚æœèƒ½å–„ç”¨ Charles å¯ä»¥å¾ˆå¤§çš„æé«˜å¼€å‘æ•ˆç‡ã€‚</p>
<p>Charles ä¸»è¦æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>æŠ“å–ç”µè„‘ç«¯çš„ç½‘ç»œè¯·æ±‚</li>
<li>å°†ç”µè„‘ä½œä¸ºä»£ç†æŠ“å–æ‰‹æœºç«¯çš„ç½‘ç»œè¯·æ±‚</li>
<li>æŠ“å– http å’Œ https è¯·æ±‚</li>
<li>è¿‡æ»¤ç½‘ç»œè¯·æ±‚</li>
<li>æ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œ</li>
<li>é»‘åå•åŠŸèƒ½</li>
<li>ä¿®æ”¹ç½‘ç»œè¯·æ±‚</li>
<li>æ˜ å°„ç½‘ç»œè¯·æ±‚å†…å®¹</li>
<li>æ–­ç‚¹è°ƒè¯•ç½‘ç»œè¯·æ±‚</li>
</ul>]]>
    
    </summary>
    
  </entry>
  
  <entry>
    <title><![CDATA[æ–° MacbookPro è£…æœºè®°]]></title>
    <link href="http://devliu.com/2015/11/11/%E6%96%B0-MacbookPro-%E8%A3%85%E6%9C%BA%E8%AE%B0/"/>
    <id>http://devliu.com/2015/11/11/æ–°-MacbookPro-è£…æœºè®°/</id>
    <published>2015-11-11T07:10:53.000Z</published>
    <updated>2015-11-11T11:25:57.000Z</updated>
    <content type="html"><![CDATA[<p>å…¬å¸æ–°é…çš„ Macbook Pro 13ï¼Œåœ¨æ­¤è®°ä¸€ä¸‹é…ç½®ç¯å¢ƒçš„è¿‡ç¨‹ã€‚ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>å¼€å‘ç¯å¢ƒæ­å»º</li>
<li>Mac å¸¸ç”¨ App å®‰è£…</li>
</ol>
<a id="more"></a>
<h1 id="å¼€å‘ç¯å¢ƒæ­å»º">å¼€å‘ç¯å¢ƒæ­å»º</h1><hr>
<h2 id="å¸¸ç”¨_App">å¸¸ç”¨ App</h2><ul>
<li>Xcode</li>
<li>iTerm</li>
<li>Reveal</li>
<li>Charles</li>
<li>Atom</li>
<li>Quiver</li>
<li>SourceTree</li>
<li>Dash</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">brew </span>cask install <span class="keyword">iterm2 </span><span class="keyword">reveal </span>atom sourcetree dash --appdir=/Applications</span><br></pre></td></tr></table></figure>
<p>charlesã€quiver ç”¨ AppStore è£…</p>
<hr>
<h2 id="oh-my-zsh">oh-my-zsh</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c <span class="string">"<span class="variable">$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>"</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Xcode_æ’ä»¶">Xcode æ’ä»¶</h2><h3 id="Alcatraz_æ’ä»¶ç®¡ç†å™¨">Alcatraz æ’ä»¶ç®¡ç†å™¨</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL http<span class="variable">s:</span>//raw.githubusercontent.<span class="keyword">com</span>/supermarin/Alcatraz/deploy/Scripts/install.<span class="keyword">sh</span> | <span class="keyword">sh</span></span><br></pre></td></tr></table></figure>
<h3 id="æ’ä»¶">æ’ä»¶</h3><ul>
<li>VVDocumenter-Xcode</li>
<li>XVim</li>
<li>XAlign</li>
<li>RSImageOptimPlugin</li>
<li>RTImageAssets</li>
<li>KSImageNamed</li>
</ul>
<hr>
<h2 id="CocoaPods">CocoaPods</h2><h3 id="æ›´æ¢_ruby_gems_æº">æ›´æ¢ ruby gems æº</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem sources --<span class="built_in">add</span> http<span class="variable">s:</span>//<span class="keyword">ruby</span>.taobao.org/ --<span class="built_in">remove</span> http<span class="variable">s:</span>//rubygems.org/</span><br></pre></td></tr></table></figure>
<h3 id="å®‰è£…_cocoapods">å®‰è£… cocoapods</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem <span class="keyword">install</span> cocoapods</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="atom_æ’ä»¶">atom æ’ä»¶</h2><ul>
<li>autocomplete</li>
<li>pretty-json</li>
<li>atom-runner</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apm <span class="operator"><span class="keyword">install</span> autocomplete pretty-<span class="keyword">json</span> atom-runner</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="git">git</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">brew </span>install git</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="brew">brew</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby <span class="operator">-e</span> <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span></span><br></pre></td></tr></table></figure>
<h3 id="homebrew-cask">homebrew-cask</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">brew </span>update &amp;&amp; <span class="keyword">brew </span>upgrade <span class="keyword">brew-cask </span>&amp;&amp; <span class="keyword">brew </span>cleanup &amp;&amp; <span class="keyword">brew </span>cask cleanup</span><br><span class="line"><span class="keyword">brew </span>install caskroom/cask/<span class="keyword">brew-cask</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="node-js">node.js</h2><h3 id="å®‰è£…_nvm">å®‰è£… nvm</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">brew </span>install nvm</span><br></pre></td></tr></table></figure>
<p>åœ¨ .zshrc ä¸­é…ç½®<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> NVM_DIR=~/.nvm</span><br><span class="line"><span class="built_in">source</span> $(brew --prefix nvm)/nvm.sh</span><br></pre></td></tr></table></figure></p>
<p>ä½¿ .zshrc ç”Ÿæ•ˆ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> .zshrc</span><br></pre></td></tr></table></figure></p>
<h3 id="ç”¨_nvm_å®‰è£…_node-js">ç”¨ nvm å®‰è£… node.js</h3><p>åˆ—å‡ºè¿œç«¯ node.js ç‰ˆæœ¬<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm <span class="keyword">ls</span>-remote</span><br></pre></td></tr></table></figure></p>
<p>å®‰è£…æŒ‡å®šç‰ˆæœ¬<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install <span class="number">5.0</span><span class="number">.0</span></span><br></pre></td></tr></table></figure></p>
<p>åˆ¶å®šä½¿ç”¨çš„ç‰ˆæœ¬<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use <span class="number">5.0</span><span class="number">.0</span></span><br></pre></td></tr></table></figure></p>
<p>è®¾ä¸ºé»˜è®¤ç‰ˆæœ¬<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm alias <span class="keyword">default</span> <span class="number">5.0</span><span class="number">.0</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="Hexo">Hexo</h2><p>å…ˆå®‰è£… node.js<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="operator"><span class="keyword">install</span> hexo-cli -<span class="keyword">g</span></span></span><br></pre></td></tr></table></figure></p>
<hr>
<h1 id="Mac_è½¯ä»¶">Mac è½¯ä»¶</h1><hr>
<ul>
<li>Alfred</li>
<li>Evernote</li>
<li>Dropbox</li>
<li>MonoDraw</li>
<li>WeChat</li>
<li>QQ</li>
<li>Chrome</li>
<li>Spectacle</li>
<li>Pocket</li>
<li>Reeder</li>
<li>ReadKit</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew cask <span class="operator"><span class="keyword">install</span> evernote dropbox monodraw wechat qq google-chrome spectacle <span class="comment">--appdir=/Applications</span></span></span><br></pre></td></tr></table></figure>
<p>Alfred ä»å®˜ç½‘ä¸‹è½½<br>WeChatã€Pocketã€Reederã€readKit ç”¨ AppStore è£…</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>å…¬å¸æ–°é…çš„ Macbook Pro 13ï¼Œåœ¨æ­¤è®°ä¸€ä¸‹é…ç½®ç¯å¢ƒçš„è¿‡ç¨‹ã€‚ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>å¼€å‘ç¯å¢ƒæ­å»º</li>
<li>Mac å¸¸ç”¨ App å®‰è£…</li>
</ol>]]>
    
    </summary>
    
      <category term="MacbookPro" scheme="http://devliu.com/tags/MacbookPro/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Objective-C é¢è¯•é¢˜é›†é”¦-å†…å­˜ç®¡ç†ç¯‡]]></title>
    <link href="http://devliu.com/2015/10/19/Objective-C-%E9%9D%A2%E8%AF%95%E9%A2%98-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E7%AF%87/"/>
    <id>http://devliu.com/2015/10/19/Objective-C-é¢è¯•é¢˜-å†…å­˜ç®¡ç†ç¯‡/</id>
    <published>2015-10-19T06:22:46.000Z</published>
    <updated>2015-11-11T12:53:48.000Z</updated>
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1><p><a href="http://weibo.com/u/1364395395" target="_blank" rel="external">å¾®åš@æˆ‘å°±å«Sunnyæ€ä¹ˆäº†</a>å‘å¸ƒäº†ä¸€å¥—éš¾åº¦å¾ˆå¤§çš„<a href="http://blog.sunnyxx.com/2015/07/04/ios-interview/" target="_blank" rel="external">iOSé¢è¯•é¢˜</a>ï¼Œ<a href="http://weibo.com/luohanchenyilong" target="_blank" rel="external">å¾®åš@iOSç¨‹åºçŠ­è¢</a>ç»™å‡ºäº†ä¸€ä»½ä¼˜ç§€çš„<a href="https://github.com/ChenYilong/iOSInterviewQuestions" target="_blank" rel="external">ç­”æ¡ˆ</a>ï¼Œç”±äºé¢è¯•é¢˜ä¸­æœ‰å¾ˆå¤šé—®é¢˜å…·æœ‰ç›¸å…³æ€§ï¼Œæ‰€ä»¥æˆ‘å‡†å¤‡å°†è¿™å¥—é¢è¯•é¢˜æ€»ç»“ä¸€ä¸‹ï¼Œå…¶ä¸­ä¸ä¹è‡ªå·±çš„ç†è§£ï¼Œå¦‚æœ‰ä¸å½“ä¹‹å¤„ï¼Œè¿˜æœ›æŒ‡å‡ºã€‚</p>
<p>è¿™ä»½é¢è¯•é¢˜ä¸»è¦æ¶‰åŠäº†å››ä¸ªæ–¹å‘çš„çŸ¥è¯†ç‚¹ï¼š</p>
<ol>
<li>Objective-C åŸºæœ¬æ¦‚å¿µï¼Œå…¶ä¸­åŒ…æ‹¬ propertyï¼Œkvoï¼Œå¯¹è±¡å†…å­˜å¸ƒå±€ç­‰</li>
<li>runtime ç›¸å…³çŸ¥è¯†ç‚¹</li>
<li>runloop ç›¸å…³çŸ¥è¯†ç‚¹</li>
<li>GCD å’Œ block ç›¸å…³çŸ¥è¯†ç‚¹</li>
</ol>
<p>æœ¬é—®ä¸»è¦æ€»ç»“äº† property ç›¸å…³çš„çŸ¥è¯†ç‚¹ã€‚å†…å®¹æ¶‰åŠ property è¯­æ³•ï¼Œweak å…³é”®å­—çš„æ„ä¹‰åŠå¦‚ä½•å®ç°ï¼Œåœ¨ category å’Œ protocol ä¸­å¦‚ä½•ä½¿ç”¨ propertyã€‚<br><a id="more"></a></p>
<hr>
<h1 id="property_è¯­æ³•çŸ¥è¯†ç‚¹">property è¯­æ³•çŸ¥è¯†ç‚¹</h1><h2 id="å®šä¹‰">å®šä¹‰</h2><p>property çš„æœ¬è´¨æ˜¯å®ä¾‹å˜é‡çš„ getter å’Œ setter æ–¹æ³•ã€‚å³ @property = ivar + getter + setterã€‚getterã€setter åˆç§°ä¸ºå˜é‡çš„å­˜å–æ–¹æ³•ï¼Œå³ accessorã€‚ å±æ€§å®šä¹‰ä¹‹åï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆå®ä¾‹å˜é‡å’Œå¯¹åº”çš„ accessorï¼Œå¹¶å°†ä¸¤è€…è¿›è¡Œç»‘å®šã€‚</p>
<h2 id="property_å…³é”®å­—">property å…³é”®å­—</h2><h3 id="property_çš„å…³é”®å­—ä¸»è¦åˆ†ä¸ºå››ç±»ï¼š">property çš„å…³é”®å­—ä¸»è¦åˆ†ä¸ºå››ç±»ï¼š</h3><ol>
<li><p>åŸå­æ€§ nonatomic, atomic</p>
<p> åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œç”±ç¼–è¯‘å™¨åˆæˆçš„æ–¹æ³•ä¼šé€šè¿‡é”å®šæœºåˆ¶ç¡®ä¿å…¶åŸå­æ€§(atomicity)ã€‚å¦‚æœå±æ€§å…·å¤‡nonatomic ç‰¹è´¨ï¼Œåˆ™ä¸ä½¿ç”¨åŒæ­¥<br> é”ã€‚è¯·æ³¨æ„ï¼Œå°½ç®¡æ²¡æœ‰åä¸ºâ€œatomicâ€çš„ç‰¹è´¨(å¦‚æœæŸå±æ€§ä¸å…·å¤‡nonatomic ç‰¹è´¨ï¼Œé‚£å®ƒå°±æ˜¯â€œåŸå­çš„â€ ( atomic) )ï¼Œä½†æ˜¯ä»ç„¶<br> å¯ä»¥åœ¨å±æ€§ç‰¹è´¨ä¸­å†™æ˜è¿™ä¸€ç‚¹ï¼Œç¼–è¯‘å™¨ä¸ä¼šæŠ¥é”™ã€‚è‹¥æ˜¯è‡ªå·±å®šä¹‰å­˜å–æ–¹æ³•ï¼Œé‚£ä¹ˆå°±åº”è¯¥éµä»ä¸å±æ€§ç‰¹è´¨ç›¸ç¬¦çš„åŸå­æ€§ã€‚</p>
</li>
<li><p>è¯»å†™æƒé™ readonly, readwrite</p>
</li>
<li><p>å†…å­˜ç®¡ç† assign, strong, weak, unsafe_unretained, copy</p>
</li>
<li><p>æ–¹æ³•å getter, setter</p>
</li>
<li><p>ä¸å¸¸ç”¨çš„ nonnull, null_resettable, nullable</p>
</li>
</ol>
<p>property å„ä¸ªå…³é”®å­—çš„ä½œç”¨ä¼šåœ¨ä¸‹é¢è¯¦ç»†è®¨è®ºã€‚</p>
<h3 id="property_é»˜è®¤å…³é”®å­—">property é»˜è®¤å…³é”®å­—</h3><p>åœ¨å£°æ˜ property æ—¶ï¼Œå¦‚æœä¸æŒ‡å®šå…³é”®å­—ï¼Œç¼–è¯‘å™¨ä¼šä¸º property ç”Ÿæˆé»˜è®¤çš„å…³é”®å­—ã€‚</p>
<ol>
<li><p>å¯¹åº”åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé»˜è®¤å…³é”®å­—ä¸º<br>atomic, assign, readwrite</p>
</li>
<li><p>å¯¹åº”å¯¹è±¡ç±»å‹ï¼Œé»˜è®¤å…³é”®å­—ä¸º<br>atomic, strong, readwrite</p>
</li>
</ol>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<ol>
<li><p><a href="http://stackoverflow.com/questions/8927727/objective-c-arc-strong-vs-retain-and-weak-vs-assign/15541801#15541801" target="_blank" rel="external">Objective-C ARC: strong vs retain and weak vs assign</a></p>
</li>
<li><p><a href="http://rdcworld-iphone.blogspot.in/2012/12/variable-property-attributes-or.html" target="_blank" rel="external">Variable property attributes or Modifiers in iOS</a></p>
</li>
</ol>
<h2 id="property_åˆæˆè§„åˆ™">property åˆæˆè§„åˆ™</h2><p>æˆ‘ä»¬ç”¨è¿™æ ·ä¸€ä¸ªç±»æ¥è¯´æ˜</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@interface</span> <span class="attribute">Person </span>: NSObject</span><br><span class="line"></span><br><span class="line"><span class="variable">@property</span> (nonatomic, copy) NSString *name;</span><br><span class="line"></span><br><span class="line"><span class="variable">@end</span></span><br></pre></td></tr></table></figure>
<h4 id="é»˜è®¤è§„åˆ™">é»˜è®¤è§„åˆ™</h4><p>setter<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">-</span> (<span class="tag">void</span>)<span class="rule"><span class="attribute">setName</span>:<span class="value">(NSString *)name</span></span>;</span><br></pre></td></tr></table></figure></p>
<p>getter<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (NSString *)<span class="property">name</span>;</span><br></pre></td></tr></table></figure></p>
<p>è‡ªåŠ¨ç”Ÿæˆçš„ ivar æ˜¯ _nameã€‚</p>
<h4 id="ç‰¹æ®Šæƒ…å†µä¸€">ç‰¹æ®Šæƒ…å†µä¸€</h4><p>åœ¨ .m ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@implementation</span> Person</span><br><span class="line"></span><br><span class="line"><span class="variable">@synthesize</span> name;</span><br><span class="line"></span><br><span class="line"><span class="variable">@end</span></span><br></pre></td></tr></table></figure></p>
<p>setter å’Œ getter ä¸å˜ï¼Œivar å˜ä¸º name;</p>
<h4 id="ç‰¹æ®Šæƒ…å†µäºŒ">ç‰¹æ®Šæƒ…å†µäºŒ</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Person</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *_name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>ç³»ç»Ÿä¼šè‡ªåŠ¨æŠŠ name å’Œ _name å…³è”</p>
<h4 id="ç‰¹æ®Šæƒ…å†µä¸‰">ç‰¹æ®Šæƒ…å†µä¸‰</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Person</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>ä¸è¦è¢«è¿™ç§æƒ…å†µè’™è”½ï¼Œç³»ç»Ÿä¸ä¼šè‡ªåŠ¨æŠŠ name property å’Œ name ivar å…³è”ï¼Œéœ€è¦æ‰‹åŠ¨å…³è”<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@synthesize <span class="property">name</span> = <span class="property">name</span>;</span><br></pre></td></tr></table></figure></p>
<p>æˆ–è€…<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="at_rule">@<span class="keyword">synthesize</span> name</span>;</span><br></pre></td></tr></table></figure></p>
<p>æ ¹æ®ä»¥ä¸Šæƒ…å†µæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºï¼šç¼–è¯‘å™¨åªä¼šæŠŠ name å’Œ _name ï¼ˆè‡ªå®šä¹‰ä¹Ÿå¯ä»¥ï¼‰ è¿›è¡Œè‡ªåŠ¨å…³è”ï¼Œå…¶<br>ä»–æƒ…å†µéƒ½éœ€è¦æ‰‹åŠ¨åˆæˆã€‚</p>
<hr>
<h1 id="property_åœ¨_protocol_å’Œ_category_çš„ç”¨æ³•">property åœ¨ protocol å’Œ category çš„ç”¨æ³•</h1><h2 id="åœ¨_protocol_ä¸­ä½¿ç”¨_property">åœ¨ protocol ä¸­ä½¿ç”¨ property</h2><p>ç¬”è€…æ›¾ç»åœ¨ä¸€æ¬¡é¢è¯•ä¸­è¢«é—®åˆ°äº†è¿™ä¸ªçŸ¥è¯†ç‚¹ï¼Œå½“æ—¶å°±æ‡µäº†ï¼Œå› ä¸ºè‡ªå·±ä»æ¥å°±æ²¡æœ‰è¿™ä¹ˆç”¨è¿‡ã€‚é¢è¯•ç»“æŸï¼Œä»”ç»†æƒ³æƒ³ï¼Œå…¶å®é¢è¯•å®˜å°±æ˜¯æƒ³è€ƒå¯Ÿ property çš„æœ¬è´¨ã€‚property çš„æœ¬è´¨å°±æ˜¯å®ä¾‹å˜é‡çš„ accessor æ–¹æ³•ã€‚æ‰€ä»¥åœ¨ protocol ä¸­ç”¨ propertyï¼Œæ— éå°±æ˜¯è®©å®ç°è¯¥ protocol çš„å¯¹è±¡å®ç°ç›¸åº”çš„ accessor æ–¹æ³•ã€‚å…¶å® iOS å†…éƒ¨å°±æœ‰åœ¨ protocol ä¸­å®šä¹‰ property çš„ä¾‹å­ï¼Œæ¯”å¦‚ <strong>CAMediaTiming</strong> ã€‚</p>
<p>é‚£ä¹ˆåœ¨å®ç°å®šä¹‰äº† property çš„ protocol éœ€è¦æ³¨æ„ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬è¿˜æ˜¯ç”¨ä»£ç äº²è‡ªè¯•éªŒä¸€ä¸‹ã€‚<br>é¦–å…ˆå®šä¹‰ PersonProtocolï¼Œè¿™ä¸ªåè®®åŒ…å«äº†ä¸€ä¸ªåå­—ä¸º name çš„ propertyã€‚</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@protocol</span> PersonProtocol &lt;NSObject&gt;</span><br><span class="line"></span><br><span class="line"><span class="variable">@property</span> (nonatomic, copy) NSString *name;</span><br><span class="line"></span><br><span class="line"><span class="variable">@end</span></span><br></pre></td></tr></table></figure>
<p>ç„¶åå®šä¹‰ Person éµä» PersonProtocol<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@interface</span> <span class="attribute">Person </span>: NSObject &lt;PersonProtocol&gt;</span><br><span class="line"></span><br><span class="line"><span class="variable">@end</span></span><br></pre></td></tr></table></figure></p>
<p>è¿™æ—¶ç³»ç»Ÿä¼šæç¤ºè­¦å‘Šï¼š<br><img src="/images/objc_memory_management/objc_mm_1.png" alt="è­¦å‘Šï¼šç¼–è¯‘å™¨ä¸ä¼šè‡ªåŠ¨åˆæˆ protocol ä¸­å®šä¹‰çš„ name property"><br>æˆ‘ä»¬å¯ä»¥ç”¨ synthesize åˆæˆå˜é‡æ¥å®ç°å¯¹åº”çš„ accessorã€‚</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@implementation</span> Person</span><br><span class="line"></span><br><span class="line"><span class="variable">@synthesize</span> name = _name;</span><br><span class="line"></span><br><span class="line"><span class="variable">@end</span></span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ä¹Ÿå¯ä»¥æ‰‹åŠ¨å®ç° getter å’Œ setter æ–¹æ³•ã€‚è¿™é‡Œå°±ä¸åœ¨èµ˜è¿°ã€‚</p>
<p>P.S. å¹³æ—¶æˆ‘ä»¬åœ¨ protocol ä¸­å¤§å¤šå®šä¹‰ä¸€äº›åŠ¨ä½œå‹çš„æ–¹æ³•ã€‚å…¶å®è¿™æºäºæ²¡æœ‰å½»åº•ç†è§£ protocol çš„æ¦‚å¿µã€‚protocol çš„æœ¬è´¨å°±æ˜¯å®šä¹‰ä¸€å¥—è§„èŒƒè®©åˆ«äººå»éµå®ˆï¼Œä»£ç†æ¨¡å¼åªæ˜¯ protocol çš„ä¸€ç§å¸¸ç”¨åœºæ™¯ã€‚æ˜ç™½äº†è¿™ä¸€ç‚¹ï¼Œåœ¨ protocol ä¸­å®šä¹‰ property è‡ªç„¶å°±å®¹æ˜“ç†è§£äº†ã€‚</p>
<h2 id="åœ¨_category_ä¸­ä½¿ç”¨_property">åœ¨ category ä¸­ä½¿ç”¨ property</h2><p>category æœ¬èº«æ˜¯ä¸èƒ½å®šä¹‰å±æ€§çš„ã€‚ä½† property çš„æœ¬è´¨æ˜¯å®ä¾‹å˜é‡çš„ accessor æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ associate æœºåˆ¶é‡å†™ property çš„ accessor æ–¹æ³•æ¥å®ç°ã€‚<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@interface</span> Person (name)</span><br><span class="line"></span><br><span class="line"><span class="variable">@property</span> (nonatomic, copy) NSString *name;</span><br><span class="line"></span><br><span class="line"><span class="variable">@end</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">"Person+name.h"</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">&lt;objc/runtime.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">char</span> *nameKey = <span class="literal">nil</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Person</span> (<span class="title">name</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setName:(<span class="built_in">NSString</span> *)name</span><br><span class="line">&#123;</span><br><span class="line">    objc_setAssociatedObject(<span class="keyword">self</span>, &amp;nameKey, name, OBJC_ASSO<span class="built_in">CIATION_COPY_NONATOMIC</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *)name</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> objc_getAssociatedObject(<span class="keyword">self</span>, &amp;nameKey);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>ç”¨ associate å…³è”çš„å¯¹è±¡ä¸ç”¨è‡ªå·±æ‰‹åŠ¨é‡Šæ”¾ã€‚NSObject dealloc çš„æœ€åä¸€æ­¥å°±æ˜¯æ¸…ç† associate å¯¹è±¡ã€‚è¯¦æƒ…å¯å‚è€ƒ runtime çš„æºç ã€‚</p>
<hr>
<h1 id="weak_å…³é”®å­—ç›¸å…³çŸ¥è¯†ç‚¹">weak å…³é”®å­—ç›¸å…³çŸ¥è¯†ç‚¹</h1><h2 id="å®šä¹‰-1">å®šä¹‰</h2><p>weak è¡¨ç¤º property ä¸æŒæœ‰å¯¹è±¡ï¼Œä¸”åœ¨å¯¹è±¡ dealloc çš„æ—¶å€™ï¼ŒæŠŠ weak å±æ€§çš„å€¼ç½®ä¸º nilã€‚</p>
<h2 id="weak,_assign,_unsafe_unretained_çš„åŒºåˆ«">weak, assign, unsafe_unretained çš„åŒºåˆ«</h2><ol>
<li><p>weak åªèƒ½ç”¨äºå¯¹è±¡ç±»å‹</p>
</li>
<li><p>assign æ—¢èƒ½ç”¨äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¹Ÿèƒ½ç”¨äºå¯¹è±¡æ•°æ®ç±»å‹ã€‚ä¸æŒæœ‰å¯¹è±¡ã€‚å¦‚æœç”¨äºå¯¹è±¡ç±»å‹ï¼Œåœ¨å¯¹è±¡ dealloc ä¹‹åï¼Œå±æ€§çš„å€¼ä¸å˜ï¼Œæœ‰è®¿é—®é‡æŒ‡é’ˆçš„å±é™©ã€‚</p>
</li>
<li><p>åœ¨ Cocoa å’Œ Cocoa Touch æœ‰å¾ˆå°‘ä¸€äº›ç±»è¿˜ä¸æ”¯æŒ weakï¼Œæ¯”å¦‚ NSTextView, NSFont ç­‰ã€‚å¯¹äºè¿™äº›ç±»å‹å¦‚æœæƒ³ç”¨ weak ç±»å‹ï¼Œä½ éœ€è¦ç”¨ unsafe_unretained å…³é”®å­—ã€‚unsafe_unretained å’Œ weak ç±»å‹ä¸€æ ·ä¸ä¼šæŒæœ‰å¯¹è±¡ï¼Œä½†æ˜¯åœ¨å¯¹è±¡ dealloc ä¹‹åï¼Œä¸ä¼šè‡ªåŠ¨ç½®ä¸ºç©ºã€‚æœ‰è®¿é—®é‡æŒ‡é’ˆçš„å±é™©ã€‚</p>
</li>
</ol>
<h2 id="ç”¨_runtime_å¦‚ä½•å®ç°_weak_å±æ€§">ç”¨ runtime å¦‚ä½•å®ç° weak å±æ€§</h2><h2 id="clang_å®ç°">clang å®ç°</h2><p><a href="http://clang.llvm.org/docs/AutomaticReferenceCounting.html#arc-runtime-objc-storeweak" target="_blank" rel="external">llvm å®˜ç½‘</a>åˆ—å‡ºäº† runtime ä¸­ç”¨æ¥å®ç° weak çš„å‡½æ•°ï¼Œå¦‚ä¸‹</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="property">id</span> objc_storeWeak(<span class="property">id</span>* object, <span class="property">id</span> value)</span><br></pre></td></tr></table></figure>
<ul>
<li>value æ˜¯ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸º weak å±æ€§èµ‹å€¼çš„å¯¹è±¡ï¼Œæˆ–è€…ä¸ºnull</li>
<li>object æ˜¯ weak å±æ€§çš„åœ°å€</li>
</ul>
<p>å¦‚æœ value æ˜¯ null æˆ–è€… value æŒ‡å‘çš„å¯¹è±¡å¼€å§‹ dealloc, object ä¼šè¢«èµ‹å€¼ä¸º null å¹¶ä¸”æ³¨é”€ __weak èº«ä»½ã€‚å¦åˆ™ object ä¼šæ³¨å†Œä¸º __weak å¯¹è±¡ï¼Œå¹¶æŠŠè‡ªå·±çš„å€¼æ”¹æˆ valueã€‚</p>
<p>æ ¹æ® weak çš„å®šä¹‰ï¼Œç”¨ objc_storeWeak å®ç° weak çš„ä¼ªä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨èµ‹å€¼ä¹‹å‰æŠŠ obj1 çš„å€¼æ”¹ä¸º obj çš„å€¼ï¼Œåœ¨ obj dealloc ä¹‹åï¼ŒæŠŠobj1çš„å€¼æ”¹ä¸º 0</span></span><br><span class="line">id obj1;</span><br><span class="line">obj1 = <span class="number">0</span>;</span><br><span class="line">objc_storeWeak(&amp;obj1, obj);</span><br><span class="line"><span class="comment">/* ... objçš„å¼•ç”¨è®¡æ•°å˜ä¸º0ï¼Œè¢«ç½®nil ... */</span></span><br><span class="line">objc_storeWeak(&amp;obj1, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<h2 id="è‡ªå·±æ¨¡æ‹Ÿ_weak_å®ç°">è‡ªå·±æ¨¡æ‹Ÿ weak å®ç°</h2><p>è‡ªå·±å®ç° weak æœ€å…³é”®çš„åœ°æ–¹åœ¨äºï¼šå¯¹è±¡ dealloc æ—¶æŠŠ property çš„å€¼ç½®ä¸º nilã€‚æ˜¾ç„¶ï¼Œç»§æ‰¿NSObject, é‡å†™ dealloc æ–¹æ³•çš„è§£å†³æ–¹æ¡ˆä¸å¤Ÿä¼˜é›…ã€‚æˆ‘ä»¬è€ƒè™‘ç”¨ category æ¥å®ç°ã€‚æ€è·¯æ˜¯ï¼š</p>
<ol>
<li><p>ç”¨ associate ç»™ NSObject å…³è”ä¸€ä¸ªå¯¹è±¡ DeallocExecutorï¼Œè¯¥å¯¹è±¡ç”¨ block çš„æ–¹å¼è®°å½•æˆ‘ä»¬å¸Œæœ›åœ¨ dealloc ä¸­çš„è¡Œä¸ºã€‚</p>
</li>
<li><p>associate å¯¹è±¡ä¼šåœ¨å®¿ä¸»å¯¹è±¡ dealloc æ—¶ï¼Œè‡ªåŠ¨ deallocã€‚</p>
</li>
<li><p>é‡å†™ property çš„ setter æ–¹æ³•</p>
</li>
</ol>
<p>DeallocExecutor çš„å®šä¹‰ï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">typedef</span> <span class="tag">void</span>(^<span class="tag">voidBlock</span>)(<span class="tag">void</span>);</span><br><span class="line"></span><br><span class="line"><span class="at_rule">@<span class="keyword">interface</span> DeallocExecutor : NSObject </span>&#123;</span><br><span class="line">    <span class="tag">voidBlock</span> _<span class="tag">block</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">-</span> (<span class="tag">instancetype</span>)<span class="rule"><span class="attribute">initWithBlock</span>:<span class="value">(voidBlock)block</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="at_rule">@<span class="keyword">end</span></span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">"DeallocExecutor.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">DeallocExecutor</span></span></span><br><span class="line"></span><br><span class="line">- (instancetype)initWithBlock:(voidBlock)block</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">        _block = [block <span class="keyword">copy</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)dealloc</span><br><span class="line">&#123;</span><br><span class="line">    _block ? _block() : <span class="literal">nil</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>ç»™ NSObject æ·»åŠ ä¸€ä¸ª category:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NSObject</span> (<span class="title">runAtDealloc</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)runAtDealloc:(voidBlock)block;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">NSObject</span> (<span class="title">runAtDealloc</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)runAtDealloc:(voidBlock)block</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (block) &#123;</span><br><span class="line">        DeallocExecutor *executor = [[DeallocExecutor alloc] initWithBlock:block];</span><br><span class="line">        objc_setAssociatedObject(<span class="keyword">self</span>, _cmd, executor, OBJC_ASSO<span class="built_in">CIATION_RETAIN</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>é‡å†™ property çš„ setter æ–¹æ³•</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (void)setObject:(<span class="type">NSObject</span> *)<span class="class"><span class="keyword">object</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    objc_setAssociatedObject(self, <span class="string">"object"</span>, <span class="class"><span class="keyword">object</span>, <span class="title">OBJC_ASSOCIATION_ASSIGN</span>);</span></span><br><span class="line">    [<span class="class"><span class="keyword">object</span> <span class="title">runAtDealloc</span>:</span>^&#123;</span><br><span class="line">        _object = nil;</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹è‡ªå·±å¦‚ä½•å®ç° weak æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å‚è€ƒè¿™ç¯‡å¸–å­ï¼š<a href="http://stackoverflow.com/questions/22809848/objective-c-runtime-run-code-at-deallocation-of-any-object/31560217#31560217" target="_blank" rel="external">å‚è€ƒé“¾æ¥</a></p>
<hr>
<p>å¥½äº†ï¼Œä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„ä¸»è¦å†…å®¹ï¼Œå¸Œæœ›å¤§å®¶å–œæ¬¢ã€‚</p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1><p><a href="http://weibo.com/u/1364395395">å¾®åš@æˆ‘å°±å«Sunnyæ€ä¹ˆäº†</a>å‘å¸ƒäº†ä¸€å¥—éš¾åº¦å¾ˆå¤§çš„<a href="http://blog.sunnyxx.com/2015/07/04/ios-interview/">iOSé¢è¯•é¢˜</a>ï¼Œ<a href="http://weibo.com/luohanchenyilong">å¾®åš@iOSç¨‹åºçŠ­è¢</a>ç»™å‡ºäº†ä¸€ä»½ä¼˜ç§€çš„<a href="https://github.com/ChenYilong/iOSInterviewQuestions">ç­”æ¡ˆ</a>ï¼Œç”±äºé¢è¯•é¢˜ä¸­æœ‰å¾ˆå¤šé—®é¢˜å…·æœ‰ç›¸å…³æ€§ï¼Œæ‰€ä»¥æˆ‘å‡†å¤‡å°†è¿™å¥—é¢è¯•é¢˜æ€»ç»“ä¸€ä¸‹ï¼Œå…¶ä¸­ä¸ä¹è‡ªå·±çš„ç†è§£ï¼Œå¦‚æœ‰ä¸å½“ä¹‹å¤„ï¼Œè¿˜æœ›æŒ‡å‡ºã€‚</p>
<p>è¿™ä»½é¢è¯•é¢˜ä¸»è¦æ¶‰åŠäº†å››ä¸ªæ–¹å‘çš„çŸ¥è¯†ç‚¹ï¼š</p>
<ol>
<li>Objective-C åŸºæœ¬æ¦‚å¿µï¼Œå…¶ä¸­åŒ…æ‹¬ propertyï¼Œkvoï¼Œå¯¹è±¡å†…å­˜å¸ƒå±€ç­‰</li>
<li>runtime ç›¸å…³çŸ¥è¯†ç‚¹</li>
<li>runloop ç›¸å…³çŸ¥è¯†ç‚¹</li>
<li>GCD å’Œ block ç›¸å…³çŸ¥è¯†ç‚¹</li>
</ol>
<p>æœ¬é—®ä¸»è¦æ€»ç»“äº† property ç›¸å…³çš„çŸ¥è¯†ç‚¹ã€‚å†…å®¹æ¶‰åŠ property è¯­æ³•ï¼Œweak å…³é”®å­—çš„æ„ä¹‰åŠå¦‚ä½•å®ç°ï¼Œåœ¨ category å’Œ protocol ä¸­å¦‚ä½•ä½¿ç”¨ propertyã€‚<br>]]>
    
    </summary>
    
      <category term="iOS" scheme="http://devliu.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ReactiveCocoa]]></title>
    <link href="http://devliu.com/2015/10/05/ReactiveCocoa/"/>
    <id>http://devliu.com/2015/10/05/ReactiveCocoa/</id>
    <published>2015-10-05T10:20:38.000Z</published>
    <updated>2015-10-12T03:32:14.000Z</updated>
    <content type="html"><![CDATA[<h1 id="Reactive_Philosophy">Reactive Philosophy</h1><h2 id="Imperative_programming">Imperative programming</h2><p>error-prone, relies too heavily on the infallibility of the programmer</p>
<h2 id="Functional_Reactive_programming">Functional Reactive programming</h2><h3 id="Functions_donâ€™t_have_side-effects">Functions donâ€™t have side-effects</h3><h3 id="thereâ€™s_no_mutable_state">thereâ€™s no mutable state</h3><p>Itâ€™s a difficult way to program since the real world is mutable. Modeling things like user input becomes a nightmare.</p>
<h2 id="Reactive_programming">Reactive programming</h2><p>the best way to describe reactive programming is to think of a spreadsheet. Imagine three cells, A, B, and C. A is defined as the sum of B and C. Whenever B or C changes, A reacts to update itself. Thatâ€™s reactive programming: changes propagate throughout a system automatically.</p>
<p>combination of functional and reactive paradigms.</p>
<h3 id="Core_â€”_signal">Core â€” signal</h3><p>At the core of FRP is a signal. A signal simply sends values over time. It sends values until it either completes, or errors out, at which point it stops sending values forever. A signal either completes or errors out, but not both. Signals become useful when theyâ€™re subscribed to or used with bindings.</p>
<h3 id="Signal_transform">Signal transform</h3><h3 id="Map">Map</h3><p>A map is an operator that takes in a signal as a receiver, performs some operation on the values sent over that signal, and generates a new signal with the new, mapped values.</p>
<h3 id="Side-effects">Side-effects</h3><h4 id="Subscribe_a_signal_and_perform_side_effects">Subscribe a signal and perform side effects</h4><p>A good example would be the signal emitted by a button  when itâ€™s pressed; we can subscribe to that signal in order to perform side effects.</p>
<h3 id="Bind_a_signal_to_a_property">Bind a signal to a property</h3><p>For example, a signal that sends the location of a gesture recognizer can be mapped to a color and bound to the background color of a view. Then, when the user changes their tap position, the view changes color.</p>
<p>In a summary, we can set up at the beginning of an application runtime and tell the code what to do without telling it how to do it. This is the value of functional reactive programming.</p>
<h2 id="Core_â€”_derived_state">Core â€” derived state</h2><p>The derived state means that you never explicitly set the value of a bound property, but rather rely on signal transformations to derive that state for you.</p>
<h1 id="Framework_Overview">Framework Overview</h1><h2 id="Streams">Streams</h2><p>RACStream is any series of object values. Stream allows complex operations to be built on a few basic primitives(-bind: in particular).</p>
<h2 id="Signals">Signals</h2><p>Signals generally represent data that will be delivered in the future. Users must subscribe to a signal in order to access its values.</p>
<p>Signals send three different types of events to their subscribers:</p>
<ul>
<li><p>The next event provides a new value from the stream. RACStream methods only operate on event of this type. Signal could include nil.</p>
</li>
<li><p>The error event indicates that an error occurred before the signal could finish. The event may include an NSError object that indicates what went wrong. Errors must be handled specially â€“ they are not included in the streamâ€™s values.</p>
</li>
<li><p>The completed event indicates that the signal finished successfully, and that no more values will be added to the stream. Completion must be handled specially â€“ it is not included in the stream of values.</p>
</li>
</ul>
<p>The lifetime of a signal consists of any number of next events, followed by one error or completed event (but not both).</p>
<h2 id="Subscription">Subscription</h2><p>A subscriber is anything that is waiting or capable of waiting for events from a signal. Within RAC, a subscriber is represented as any object that conforms to the RACSubscriber protocol.</p>
<p>A subscription is created through any call to -subscribeNext:error:completed:, or one of the corresponding convenience methods. Technically, most RACStream and RACSignal operators create subscriptions as well, but these intermediate subscriptions are usually an implementation detail.</p>
<h2 id="Subjects">Subjects</h2><p>A subject, represented by the RACSubject class, is a signal that can be manually controlled.</p>
<p>Subjects are useful for bridging non-RAC code into the world of signals.</p>
<p>For example, instead of handling logic in block callbacks, you can send events or values to a subject. You can subscribe the subject and perform your task.</p>
<h2 id="Commands">Commands</h2><p>A command, represented by the RACCommand class, creates and subscribes to a signal in response to some action. This makes it easy to perform side-effects when user interacts with the app.</p>
<p>Usually the action triggering a command is UI-driven, like when a button is clicked. Commands can also be automatically disabled based on a signal, and this disabled state can be represented in a UI by disabling any controls associated with the command.</p>
<p>On OS X, RAC adds a rac_command property to NSButton for setting up these behaviors automatically.</p>
<h2 id="Connections">Connections</h2><p>RAC å‚è€ƒæ•™ç¨‹</p>
<h2 id="å®˜æ–¹æ–‡æ¡£_-_é’ˆå¯¹objc">å®˜æ–¹æ–‡æ¡£ - é’ˆå¯¹objc</h2><p><a href="https://github.com/ReactiveCocoa/ReactiveCocoa/tree/master/Documentation/Legacy" target="_blank" rel="external">https://github.com/ReactiveCocoa/ReactiveCocoa/tree/master/Documentation/Legacy</a></p>
<h2 id="raywenderlich">raywenderlich</h2><p><a href="http://www.raywenderlich.com/62699/reactivecocoa-tutorial-pt1" target="_blank" rel="external">http://www.raywenderlich.com/62699/reactivecocoa-tutorial-pt1</a><br><a href="http://www.raywenderlich.com/62796/reactivecocoa-tutorial-pt2" target="_blank" rel="external">http://www.raywenderlich.com/62796/reactivecocoa-tutorial-pt2</a></p>
<h2 id="blog">blog</h2><p><a href="http://limboy.me/ios/2014/06/06/deep-into-reactivecocoa2.html" target="_blank" rel="external">http://limboy.me/ios/2014/06/06/deep-into-reactivecocoa2.html</a><br><a href="http://limboy.me/ios/2013/06/19/frp-reactivecocoa.html" target="_blank" rel="external">http://limboy.me/ios/2013/06/19/frp-reactivecocoa.html</a><br><a href="http://www.teehanlax.com/blog/getting-started-with-reactivecocoa/" target="_blank" rel="external">http://www.teehanlax.com/blog/getting-started-with-reactivecocoa/</a><br><a href="http://rcdp.io/flattenMap-vs-map-switchToLatest.html" target="_blank" rel="external">http://rcdp.io/flattenMap-vs-map-switchToLatest.html</a><br><a href="http://spin.atomicobject.com/" target="_blank" rel="external">http://spin.atomicobject.com/</a><br><a href="http://codeblog.shape.dk/blog/2013/12/05/reactivecocoa-essentials-understanding-and-using-raccommand/" target="_blank" rel="external">http://codeblog.shape.dk/blog/2013/12/05/reactivecocoa-essentials-understanding-and-using-raccommand/</a><br><a href="https://github.com/mailworks/LearnReactivecocoaSource" target="_blank" rel="external">https://github.com/mailworks/LearnReactivecocoaSource</a></p>
<h2 id="app">app</h2><p><a href="https://github.com/AshFurrow/C-41" target="_blank" rel="external">https://github.com/AshFurrow/C-41</a><br><a href="https://github.com/jspahrsummers/GroceryList" target="_blank" rel="external">https://github.com/jspahrsummers/GroceryList</a></p>
<p>RAC &amp;&amp; MVVM<br><a href="http://www.sprynthesis.com/2014/12/06/reactivecocoa-mvvm-introduction/" target="_blank" rel="external">http://www.sprynthesis.com/2014/12/06/reactivecocoa-mvvm-introduction/</a><br><a href="http://cocoasamurai.blogspot.com/2013/03/basic-mvvm-with-reactivecocoa.html" target="_blank" rel="external">http://cocoasamurai.blogspot.com/2013/03/basic-mvvm-with-reactivecocoa.html</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="Reactive_Philosophy">Reactive Philosophy</h1><h2 id="Imperative_programming">Imperative programming</h2><p>error-prone, relies too h]]>
    </summary>
    
  </entry>
  
  <entry>
    <title><![CDATA[resume]]></title>
    <link href="http://devliu.com/2015/08/31/resume/"/>
    <id>http://devliu.com/2015/08/31/resume/</id>
    <published>2015-08-31T05:50:17.000Z</published>
    <updated>2015-08-31T06:33:23.000Z</updated>
    <content type="html"><![CDATA[<h1 id="å­¦å†">å­¦å†</h1><h2 id="ç¡•å£«_ä¸œåŒ—å¤§å­¦_2010-09_-_2012-07_è®¡ç®—æœºåº”ç”¨æŠ€æœ¯">ç¡•å£« ä¸œåŒ—å¤§å­¦ 2010.09 - 2012.07 è®¡ç®—æœºåº”ç”¨æŠ€æœ¯</h2><h2 id="å­¦å£«_é•¿å®‰å¤§å­¦_2005-09_-_2009-07_å»ºç­‘è®¾æ–½æ™ºèƒ½æŠ€æœ¯">å­¦å£« é•¿å®‰å¤§å­¦ 2005.09 - 2009.07 å»ºç­‘è®¾æ–½æ™ºèƒ½æŠ€æœ¯</h2><h1 id="å·¥ä½œç»å†">å·¥ä½œç»å†</h1><h2 id="çŒè±¹ç§»åŠ¨_2013-04_è‡³ä»Š">çŒè±¹ç§»åŠ¨ 2013.04 è‡³ä»Š</h2><h3 id="iOS_ç”µæ± åŒ»ç”Ÿ">iOS ç”µæ± åŒ»ç”Ÿ</h3><ul>
<li>å……ç”µå±ä¿å¼€å‘ï¼Œè´Ÿè´£å……ç”µå±ä¿å¤æ‚åŠ¨ç”»çš„å¼€å‘å·¥ä½œ</li>
<li>åº”ç”¨å¸‚åœºï¼Œå®šåˆ¶TableViewï¼Œå®ç°ä¸Šæ»‘éšè—é¡¶éƒ¨å¯¼èˆªæ ï¼Œå®šåˆ¶tableViewå®ç°è¡¨æ ¼å¸ƒå±€ï¼Œä¼˜åŒ–æ»šåŠ¨é€Ÿåº¦ã€‚å°è£…åº”ç”¨å¸‚åœºSDKï¼Œæä¾›ç»™ç¬¬ä¸‰æ–¹å‚å•†ä½¿ç”¨</li>
<li>åº”ç”¨å¸‚åœºè‡ªå®šä¹‰é¡¶éƒ¨å¯¼èˆªæ </li>
<li>æ´»åŠ¨ä¸­å¿ƒ</li>
</ul>
<h3 id="iOS_shine">iOS shine</h3><ul>
<li>è‡ªå®šä¹‰UICollectionViewå¸ƒå±€ï¼Œå®ç°ç€‘å¸ƒæµæ•ˆæœ</li>
<li>å®šåˆ¶TabbarControllerï¼Œå®ç°æ¨å…¥é¡µé¢éšè—åº•éƒ¨tabbar.</li>
<li>æ‰©å±•SDWebImageï¼Œå®ç°å¯¹animated webpæ ¼å¼çš„æ”¯æŒ</li>
<li>ä½¿ç”¨autolayoutæ­å»ºè¯„è®ºç³»ç»Ÿï¼ŒIMç³»ç»Ÿçš„ç•Œé¢</li>
<li>è‡ªå®šä¹‰CoreTextLabelï¼Œæ”¯æŒè‡ªå®šä¹‰è¡¨æƒ…ï¼Œè¿æ¥ï¼Œæ ‡ç­¾ï¼Œç”µè¯å·ç ï¼Œåœ°å€ç­‰çš„åŒ¹é…å’Œç›¸å…³å›è°ƒï¼Œæ”¯æŒAautolayout</li>
<li>è‡ªå®šä¹‰è¡¨æƒ…é”®ç›˜ï¼ˆåŸºäºè‡ªå®šä¹‰UICollectionViewçš„å¸ƒå±€ï¼‰ï¼Œä¸ç³»ç»Ÿé”®ç›˜æ— ç¼åˆ‡æ¢</li>
<li>ä½¿ç”¨ReactiveCocoaå®ç°MVVMæ¨¡å¼ï¼Œå»æ‰å¤§é‡çŠ¶æ€ä¾èµ–ï¼Œå‡å°‘æ½œåœ¨bugï¼Œå®ç°ä¸šåŠ¡é€»è¾‘ä¸UIçš„å®Œç¾è§£è€¦</li>
<li>ä½¿ç”¨Core Dataï¼Œå­˜å‚¨ç”¨æˆ·æ•°æ®</li>
<li>å¤§é‡ä¼˜åŒ–CollectionViewå’ŒTableViewçš„æ»šåŠ¨é€Ÿåº¦</li>
<li>å¤§é‡è‡ªå®šä¹‰æ§ä»¶ï¼Œç†Ÿç»ƒä½¿ç”¨Quartz2Dï¼ŒCore Animation</li>
<li>ç†Ÿç»ƒä½¿ç”¨gitè¿›è¡Œç‰ˆæœ¬ç®¡ç†</li>
<li>å®ç°æ³¨å†Œç™»å½•æµç¨‹åŠFacebookçš„æ¥å…¥</li>
<li>70%ä»¥ä¸Šçš„æ¥å£å¯¹æ¥ï¼Œä½¿ç”¨JSONModelåºåˆ—åŒ–æ•°æ®</li>
</ul>
<h2 id="æ™ºä¿¡åˆ›æƒ³">æ™ºä¿¡åˆ›æƒ³</h2><h3 id="iOS_å®æ¥è¯é€š_2012-10_-_2013-04">iOS å®æ¥è¯é€š 2012.10 - 2013.04</h3><ul>
<li>å°è£…TableviewControlleråŸºç±»ï¼Œå°†ä¸Šä¸‹æ‹‰ï¼Œæ•°æ®å­˜å‚¨ç­‰åŠŸèƒ½è¿›è¡Œå°è£…</li>
<li>èŠå¤©ç³»ç»Ÿï¼Œé‡‡ç”¨Core Textå›¾æ–‡æ··æ’ï¼Œæ”¯æŒè‡ªå®šä¹‰è¡¨æƒ…ï¼Œè‡ªå®šä¹‰è¡¨æƒ…é”®ç›˜</li>
<li>ä½¿ç”¨Core Dataå­˜å‚¨ç”¨æˆ·æ•°æ®ï¼Œç†Ÿç»ƒä½¿ç”¨Magical Recordå’ŒRestKit</li>
<li>ä½¿ç”¨RestKitå’ŒAFNetworkingå¯¹æ¥æœåŠ¡ç«¯</li>
</ul>
<h1 id="ä¸ªäººä¼˜åŠ¿">ä¸ªäººä¼˜åŠ¿</h1><ul>
<li>å¾ˆå¼ºçš„å­¦ä¹ èƒ½åŠ›ï¼Œå¯¹æ–°æŠ€æœ¯èƒ½å¾ˆå¿«çš„æŒæ¡å¹¶åº”ç”¨</li>
<li>é‡è§†åŸºç¡€ï¼Œå¸¸è¯»Appleå®˜æ–¹æ–‡æ¡£å’Œè§‚çœ‹WWDCè§†é¢‘ï¼Œèƒ½å¿«é€Ÿå®šä½Bugçš„æ ¹æœ¬åŸå› </li>
<li>ç»å¸¸é˜…è¯»ä¼˜è´¨åšå®¢ï¼Œæ¯”å¦‚objcioï¼Œnshipsterç­‰ã€‚ç»å¸¸æµè§ˆGithubä¸Šä¼˜è´¨çš„å¼€æºé¡¹ç›®</li>
<li>æ”¯æŒæ­£ç‰ˆè½¯ä»¶</li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="å­¦å†">å­¦å†</h1><h2 id="ç¡•å£«_ä¸œåŒ—å¤§å­¦_2010-09_-_2012-07_è®¡ç®—æœºåº”ç”¨æŠ€æœ¯">ç¡•å£« ä¸œåŒ—å¤§å­¦ 2010.09 - 2012.07 è®¡ç®—æœºåº”ç”¨æŠ€æœ¯</h2><h2 id="å­¦å£«_é•¿å®‰å¤§å­¦_2005-09_-_2009-07_å»ºç­‘è®¾æ–½æ™ºèƒ½]]>
    </summary>
    
      <category term="resume" scheme="http://devliu.com/tags/resume/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[iOSå¸¸è§é¢è¯•é¢˜]]></title>
    <link href="http://devliu.com/2015/07/26/iOS%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    <id>http://devliu.com/2015/07/26/iOSå¸¸è§é¢è¯•é¢˜/</id>
    <published>2015-07-26T15:53:13.000Z</published>
    <updated>2015-07-26T16:02:53.000Z</updated>
    <content type="html"><![CDATA[<p>åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ç½‘ä¸Šæµè¡Œçš„iOSé¢è¯•é¢˜ï¼Œä»¥åé¢è¯•ç”¨ã€‚é¦–å…ˆå°±æ˜¯å”å·§æœ€è¿‘åœ¨å¾®ä¿¡é‡Œå‘å¸ƒäº†ä¸€å¥—é¢è¯•é¢˜ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ï¼Œä»¥åæ‰¾æ—¶é—´æ€»ç»“ä¸€ä¸‹å›ç­”ï¼Œå½“ç„¶æ˜¯åœ¨å¼„æ‡‚çš„å‰æä¸‹ã€‚ä»…ä»…å§ç­”æ¡ˆèƒŒä¸‹æ¥ï¼Œå´ä¸å¼„æ‡‚æ˜¯æ²¡ä»€ä¹ˆç”¨çš„ã€‚</p>
<a id="more"></a>
<h2 id="ä¸€ä¸ªåŒºåˆ†åº¦å¾ˆå¤§çš„é¢è¯•é¢˜">ä¸€ä¸ªåŒºåˆ†åº¦å¾ˆå¤§çš„é¢è¯•é¢˜</h2><hr>
<p>è€ƒå¯Ÿä¸€ä¸ªé¢è¯•è€…åŸºç¡€å’‹æ ·ï¼ŒåŸºæœ¬ä¸Šé—®ä¸€ä¸ª @property å°±å¤Ÿäº†ï¼š</p>
<p>@property åé¢å¯ä»¥æœ‰å“ªäº›ä¿®é¥°ç¬¦ï¼Ÿ<br>ä»€ä¹ˆæƒ…å†µä½¿ç”¨ weak å…³é”®å­—ï¼Œç›¸æ¯” assign æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ<br>æ€ä¹ˆç”¨ copy å…³é”®å­—ï¼Ÿ<br>è¿™ä¸ªå†™æ³•ä¼šå‡ºä»€ä¹ˆé—®é¢˜ï¼š @property (copy) NSMutableArray *array;<br>å¦‚ä½•è®©è‡ªå·±çš„ç±»ç”¨ copy ä¿®é¥°ç¬¦ï¼Ÿå¦‚ä½•é‡å†™å¸¦ copy å…³é”®å­—çš„ setterï¼Ÿ<br>è¿™ä¸€å¥—é—®é¢˜åŒºåˆ†åº¦æ¯”è¾ƒå¤§ï¼Œå¦‚æœä¸Šé¢çš„é—®é¢˜éƒ½èƒ½å›ç­”æ­£ç¡®ï¼Œå¯ä»¥å»¶ä¼¸é—®æ›´æ·±å…¥ç‚¹çš„ï¼š</p>
<p>@property çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿivarã€getterã€setter æ˜¯å¦‚ä½•ç”Ÿæˆå¹¶æ·»åŠ åˆ°è¿™ä¸ªç±»ä¸­çš„<br>@protocol å’Œ category ä¸­å¦‚ä½•ä½¿ç”¨ @property<br>runtime å¦‚ä½•å®ç° weak å±æ€§<br>æ¯ä¸ªäººæ“…é•¿çš„é¢†åŸŸä¸ä¸€æ ·ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šä»ç®€å†ä¸Šæ‰¾è‡ªå·±å†™æ“…é•¿çš„æŠ€æœ¯èŠï¼Œå‡å¦‚è‡ªå·±å¹¶ä¸æ˜¯å¾ˆç†Ÿï¼Œæœ€å¥½åˆ«å†™å‡ºæ¥æˆ–æ‰¯å‡ºæ¥ï¼Œä¸‡ä¸€é¢è¯•å®˜åˆšå¥½éå¸¸ç²¾é€šè¿™é‡Œå°±éœ²é¦…äº†ã€‚</p>
<h2 id="Checklist">Checklist</h2><hr>
<p>æ€»ç»“è¿‡äº›é¢è¯•é¢˜ï¼Œæ²¡åšæŒä¸‹å»ï¼Œåæ¥æŠŠè¿™äº›å½“ checklistï¼Œé¢è¯•çš„æ—¶å€™å®åœ¨æ²¡è¯èŠçš„æ—¶å€™åšä¸ªæé†’ï¼Œè¯­è¨€ã€æ¡†æ¶ã€è¿è¡Œæœºåˆ¶æ€§è´¨çš„ï¼š</p>
<p>[â€»]@propertyä¸­æœ‰å“ªäº›å±æ€§å…³é”®å­—ï¼Ÿ<br>[â€»]weakå±æ€§éœ€è¦åœ¨deallocä¸­ç½®nilä¹ˆï¼Ÿ<br>[â€»â€»]@synthesizeå’Œ@dynamicåˆ†åˆ«æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ<br>[â€»â€»â€»]ARCä¸‹ï¼Œä¸æ˜¾ç¤ºæŒ‡å®šä»»ä½•å±æ€§å…³é”®å­—æ—¶ï¼Œé»˜è®¤çš„å…³é”®å­—éƒ½æœ‰å“ªäº›ï¼Ÿ<br>[â€»â€»â€»]ç”¨@propertyå£°æ˜çš„NSStringï¼ˆæˆ–NSArrayï¼ŒNSDictionaryï¼‰ç»å¸¸ä½¿ç”¨copyå…³é”®å­—ï¼Œä¸ºä»€ä¹ˆï¼Ÿå¦‚æœæ”¹ç”¨strongå…³é”®å­—ï¼Œå¯èƒ½é€ æˆä»€ä¹ˆé—®é¢˜ï¼Ÿ<br>[â€»â€»â€»]@synthesizeåˆæˆå®ä¾‹å˜é‡çš„è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿå‡å¦‚propertyåä¸ºfooï¼Œå­˜åœ¨ä¸€ä¸ªåä¸º_fooçš„å®ä¾‹å˜é‡ï¼Œé‚£ä¹ˆè¿˜ä¼šè‡ªåŠ¨åˆæˆæ–°å˜é‡ä¹ˆï¼Ÿ<br>[â€»â€»â€»â€»â€»]åœ¨æœ‰äº†è‡ªåŠ¨åˆæˆå±æ€§å®ä¾‹å˜é‡ä¹‹åï¼Œ@synthesizeè¿˜æœ‰å“ªäº›ä½¿ç”¨åœºæ™¯ï¼Ÿ</p>
<p>[â€»â€»]objcä¸­å‘ä¸€ä¸ªnilå¯¹è±¡å‘é€æ¶ˆæ¯å°†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ<br>[â€»â€»â€»]objcä¸­å‘ä¸€ä¸ªå¯¹è±¡å‘é€æ¶ˆæ¯[obj foo]å’Œobjc_msgSend()å‡½æ•°ä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ<br>[â€»â€»â€»]ä»€ä¹ˆæ—¶å€™ä¼šæŠ¥unrecognized selectorçš„å¼‚å¸¸ï¼Ÿ<br>[â€»â€»â€»â€»]ä¸€ä¸ªobjcå¯¹è±¡å¦‚ä½•è¿›è¡Œå†…å­˜å¸ƒå±€ï¼Ÿï¼ˆè€ƒè™‘æœ‰çˆ¶ç±»çš„æƒ…å†µï¼‰<br>[â€»â€»â€»â€»]ä¸€ä¸ªobjcå¯¹è±¡çš„isaçš„æŒ‡é’ˆæŒ‡å‘ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ<br>[â€»â€»â€»â€»]ä¸‹é¢çš„ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Son</span> : <span class="title">Father</span></span></span><br><span class="line">- (<span class="keyword">id</span>)init</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> init];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, <span class="built_in">NSStringFromClass</span>([<span class="keyword">self</span> class]));</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, <span class="built_in">NSStringFromClass</span>([<span class="keyword">super</span> class]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>[â€»â€»â€»â€»]runtimeå¦‚ä½•é€šè¿‡selectoræ‰¾åˆ°å¯¹åº”çš„IMPåœ°å€ï¼Ÿï¼ˆåˆ†åˆ«è€ƒè™‘ç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•ï¼‰<br>[â€»â€»â€»â€»]ä½¿ç”¨runtime Associateæ–¹æ³•å…³è”çš„å¯¹è±¡ï¼Œéœ€è¦åœ¨ä¸»å¯¹è±¡deallocçš„æ—¶å€™é‡Šæ”¾ä¹ˆï¼Ÿ<br>[â€»â€»â€»â€»â€»]objcä¸­çš„ç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•æœ‰ä»€ä¹ˆæœ¬è´¨åŒºåˆ«å’Œè”ç³»ï¼Ÿ<br>[â€»â€»â€»â€»â€»]_objc_msgForwardå‡½æ•°æ˜¯åšä»€ä¹ˆçš„ï¼Œç›´æ¥è°ƒç”¨å®ƒå°†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ<br>[â€»â€»â€»â€»â€»]runtimeå¦‚ä½•å®ç°weakå˜é‡çš„è‡ªåŠ¨ç½®nilï¼Ÿ<br>[â€»â€»â€»â€»â€»]èƒ½å¦å‘ç¼–è¯‘åå¾—åˆ°çš„ç±»ä¸­å¢åŠ å®ä¾‹å˜é‡ï¼Ÿèƒ½å¦å‘è¿è¡Œæ—¶åˆ›å»ºçš„ç±»ä¸­æ·»åŠ å®ä¾‹å˜é‡ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>[â€»â€»â€»]runloopå’Œçº¿ç¨‹æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ<br>[â€»â€»â€»]runloopçš„modeä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<br>[â€»â€»â€»â€»]ä»¥+ scheduledTimerWithTimeIntervalâ€¦çš„æ–¹å¼è§¦å‘çš„timerï¼Œåœ¨æ»‘åŠ¨é¡µé¢ä¸Šçš„åˆ—è¡¨æ—¶ï¼Œtimerä¼šæš‚å®šå›è°ƒï¼Œä¸ºä»€ä¹ˆï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ<br>[â€»â€»â€»â€»â€»]çŒœæƒ³runloopå†…éƒ¨æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p>
<p>[â€»]objcä½¿ç”¨ä»€ä¹ˆæœºåˆ¶ç®¡ç†å¯¹è±¡å†…å­˜ï¼Ÿ<br>[â€»â€»â€»â€»]ARCé€šè¿‡ä»€ä¹ˆæ–¹å¼å¸®åŠ©å¼€å‘è€…ç®¡ç†å†…å­˜ï¼Ÿ<br>[â€»â€»â€»â€»]ä¸æ‰‹åŠ¨æŒ‡å®šautoreleasepoolçš„å‰æä¸‹ï¼Œä¸€ä¸ªautorealeseå¯¹è±¡åœ¨ä»€ä¹ˆæ—¶åˆ»é‡Šæ”¾ï¼Ÿï¼ˆæ¯”å¦‚åœ¨ä¸€ä¸ªvcçš„viewDidLoadä¸­åˆ›å»ºï¼‰<br>[â€»â€»â€»â€»]BAD_ACCESSåœ¨ä»€ä¹ˆæƒ…å†µä¸‹å‡ºç°ï¼Ÿ<br>[â€»â€»â€»â€»â€»]è‹¹æœæ˜¯å¦‚ä½•å®ç°autoreleasepoolçš„ï¼Ÿ</p>
<p>[â€»â€»]ä½¿ç”¨blockæ—¶ä»€ä¹ˆæƒ…å†µä¼šå‘ç”Ÿå¼•ç”¨å¾ªç¯ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ<br>[â€»â€»]åœ¨blockå†…å¦‚ä½•ä¿®æ”¹blockå¤–éƒ¨å˜é‡ï¼Ÿ<br>[â€»â€»â€»]ä½¿ç”¨ç³»ç»Ÿçš„æŸäº›block apiï¼ˆå¦‚UIViewçš„blockç‰ˆæœ¬å†™åŠ¨ç”»æ—¶ï¼‰ï¼Œæ˜¯å¦ä¹Ÿè€ƒè™‘å¼•ç”¨å¾ªç¯é—®é¢˜ï¼Ÿ</p>
<p>[â€»â€»]GCDçš„é˜Ÿåˆ—ï¼ˆdispatch_queue_tï¼‰åˆ†å“ªä¸¤ç§ç±»å‹ï¼Ÿ<br>[â€»â€»â€»â€»]å¦‚ä½•ç”¨GCDåŒæ­¥è‹¥å¹²ä¸ªå¼‚æ­¥è°ƒç”¨ï¼Ÿï¼ˆå¦‚æ ¹æ®è‹¥å¹²ä¸ªurlå¼‚æ­¥åŠ è½½å¤šå¼ å›¾ç‰‡ï¼Œç„¶ååœ¨éƒ½ä¸‹è½½å®Œæˆååˆæˆä¸€å¼ æ•´å›¾ï¼‰<br>[â€»â€»â€»â€»]dispatch_barrier_asyncçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<br>[â€»â€»â€»â€»â€»]è‹¹æœä¸ºä»€ä¹ˆè¦åºŸå¼ƒdispatch_get_current_queueï¼Ÿ<br>[â€»â€»â€»â€»â€»]ä»¥ä¸‹ä»£ç è¿è¡Œç»“æœå¦‚ä½•ï¼Ÿ</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"1"</span>);</span><br><span class="line">    <span class="built_in">dispatch_sync</span>(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"2"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"3"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>[â€»â€»]addObserver:forKeyPath:options:context:å„ä¸ªå‚æ•°çš„ä½œç”¨åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œobserverä¸­éœ€è¦å®ç°å“ªä¸ªæ–¹æ³•æ‰èƒ½è·å¾—KVOå›è°ƒï¼Ÿ<br>[â€»â€»â€»]å¦‚ä½•æ‰‹åŠ¨è§¦å‘ä¸€ä¸ªvalueçš„KVO<br>[â€»â€»â€»]è‹¥ä¸€ä¸ªç±»æœ‰å®ä¾‹å˜é‡NSString *_fooï¼Œè°ƒç”¨setValue:forKey:æ—¶ï¼Œå¯ä»¥ä»¥fooè¿˜æ˜¯_fooä½œä¸ºkeyï¼Ÿ<br>[â€»â€»â€»â€»]KVCçš„keyPathä¸­çš„é›†åˆè¿ç®—ç¬¦å¦‚ä½•ä½¿ç”¨ï¼Ÿ<br>[â€»â€»â€»â€»]KVCå’ŒKVOçš„keyPathä¸€å®šæ˜¯å±æ€§ä¹ˆï¼Ÿ<br>[â€»â€»â€»â€»â€»]å¦‚ä½•å…³é—­é»˜è®¤çš„KVOçš„é»˜è®¤å®ç°ï¼Œå¹¶è¿›å…¥è‡ªå®šä¹‰çš„KVOå®ç°ï¼Ÿ<br>[â€»â€»â€»â€»â€»]appleç”¨ä»€ä¹ˆæ–¹å¼å®ç°å¯¹ä¸€ä¸ªå¯¹è±¡çš„KVOï¼Ÿ</p>
<p>[â€»â€»]IBOutletè¿å‡ºæ¥çš„è§†å›¾å±æ€§ä¸ºä»€ä¹ˆå¯ä»¥è¢«è®¾ç½®æˆweak?<br>[â€»â€»â€»â€»â€»]IBä¸­User Defined Runtime Attributeså¦‚ä½•ä½¿ç”¨ï¼Ÿ</p>
<p>[â€»â€»â€»]å¦‚ä½•è°ƒè¯•BAD_ACCESSé”™è¯¯<br>[â€»â€»â€»]lldbï¼ˆgdbï¼‰å¸¸ç”¨çš„è°ƒè¯•å‘½ä»¤ï¼Ÿ</p>
<p>è¿™äº›å°é¢˜å¯ä»¥åšä¸ºè®¨è®ºçš„å…¥å£ï¼Œæ ¹æ®é¢è¯•è€…çš„å›ç­”å†ç»§ç»­èŠä¸‹å»ã€‚å…¶ä¸­ä¸€äº›é¢˜æ¯”è¾ƒåº•å±‚ï¼Œæ˜¯ç•™ç»™å±Œå±Œçš„é¢è¯•è€…æˆ–è€…è¯•æ¢è¯„çº§ç”¨çš„ï¼Œä¸€èˆ¬æƒ…å†µå¹¶ä¸æ˜¯é‡ç‚¹çš„è€ƒå¯Ÿå†…å®¹ã€‚</p>
<p>æœ€åè¿˜æœ‰ä¸¤æ®µè®²è½¯å®åŠ›çš„ï¼Œä¹Ÿè®°åœ¨è¿™é‡Œï¼Œå¸Œæœ›ä»¥åé¢è¯•èƒ½å¤Ÿæœ‰æ‰€å€Ÿé‰´ã€‚</p>
<h2 id="ä¸šåŠ¡èƒ½åŠ›">ä¸šåŠ¡èƒ½åŠ›</h2><p>æ¯•ç«Ÿå¹³å¸¸çš„å·¥ä½œå†…å®¹ä¸æ˜¯ runtimeã€runloopï¼Œä¸æ€ä¹ˆä¼šç”¨åˆ°åº•å±‚çš„é»‘é­”æ³•ï¼Œ80% çš„æ—¶é—´éƒ½æ˜¯å’Œæ­å»ºé¡µé¢ã€å†™ä¸šåŠ¡é€»è¾‘ã€ç½‘ç»œè¯·æ±‚æ‰“äº¤é“ã€‚<br>è¦æ±‚é¢è¯•è€…èƒ½å¤Ÿç†Ÿç»ƒæ„å»º UIï¼Œæˆ‘ä¼šæ‰¾ä¸€ä¸ªé¢è¯•è€…åšè¿‡çš„é¡µé¢è®©ä»–åˆ†æä¸‹é¡µé¢ç»“æ„ã€çº¦æŸæˆ–è€… frame å¸ƒå±€çš„è¿æ³•å’Œè®¡ç®—æ–¹æ³•ï¼›æœ‰æ—¶ä¹Ÿä¼šè®©é¢è¯•è€…è¯´è¯´ UITableView å¸¸ç”¨çš„å‡ ä¸ª delegate å’Œ data source ä»£ç†æ–¹æ³•ï¼ŒåŠ¨æ€ Cell é«˜åº¦è®¡ç®—ä»€ä¹ˆçš„ï¼›æ¥ä¸‹æ¥ï¼Œåœ¨æ‰‹æœºé‡Œéšä¾¿æ‰¾ä¸€ä¸ª App çš„é¡µé¢ï¼Œè®©é¢è¯•è€…å½“åœºè¯´è¯´å¦‚æœæ˜¯ä»–å†™åº”è¯¥ç”¨å“ªäº› UI ç»„ä»¶å’Œå¸ƒå±€æ–¹å¼ç­‰ã€‚é—®å‡ ä¸ªé—®é¢˜åå°±èƒ½å¤§æ¦‚äº†è§£ä¸šåŠ¡èƒ½åŠ›äº†ï¼Œæˆ‘ä»¬è¿™è¾¹é‡åº¦ä½¿ç”¨ IB å’Œ AutoLayoutï¼Œå‡å¦‚é¢è¯•è€…ä¾ç„¶ä½¿ç”¨ä»£ç ç  UI ä¹Ÿåˆ°æ²¡å…³ç³»ï¼Œæœ‰â€œä»è‰¯â€æ„æ„¿å°±å¾ˆå¥½~</p>
<p>ç¨‹åºæ¶æ„å’Œä¸€äº›è®¾è®¡æ¨¡å¼å¦‚æœé¢è¯•è€…è‡ªå·±è§‰å¾—è¿˜ä¸é”™çš„è¯ä¹Ÿä¼šèŠèŠï¼Œä½†è·ªæ±‚åˆ«è¯´ Singleton äº†ï¼Œç”¨çš„è¶Šå¤šå¯¹æ°´å¹³å°±è¶Šè¡¨ç¤ºæ€€ç–‘ã€‚å¯¹è®¾è®¡æ¨¡å¼è‡ªä¿¡çš„æˆ‘ä¸€èˆ¬é—®ä¸€ä¸ªé—®é¢˜ï¼ŒæŠ½è±¡å·¥å‚æ¨¡å¼åœ¨ Cocoa SDK ä¸­å“ªäº›ç±»ä¸­ä½“ç°ï¼Ÿ<br>æ¶æ„ä¸Š MVC è¿˜æ˜¯ MVVM è¿˜æ˜¯ MVP ç¥é©¬çš„åˆ°æ˜¯å¯ä»¥èŠèŠå„è‡ªçš„è§è§£ï¼Œåæ­£ä¹Ÿæ²¡æœ‰æ­£ç¡®ç­”æ¡ˆï¼Œåªè¦åˆ«æçš„å¤ªç¦»è°±å°±è¡Œï¼Œæ¯”å¦‚æœ‰çš„äººè¯´ç½‘ç»œè¯·æ±‚å’Œæ•°æ®åº“çš„æ“ä½œæœ€å¥½æ”¾åˆ° UIView çš„å­ç±»é‡Œé¢å¹²ã€‚</p>
<p>ç½‘ç»œè¯·æ±‚ã€æ•°æ®åº“ç­‰å„å®¶éƒ½æœ‰æˆç†Ÿçš„å°è£…ï¼ŒåŸºæœ¬çŸ¥é“å’‹ç”¨å°±è¡Œã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜ä¼šé¡ºå¸¦çš„é—®ä¸‹é™¤äº† iOS å¼€å‘å¤–ï¼Œè¿˜ä¼šä»€ä¹ˆå…¶ä»–ç¼–ç¨‹è¯­è¨€ã€æˆ–è€…ç†Ÿæ‚‰å“ªç§è„šæœ¬è¯­è¨€å’Œ Terminal æ“ä½œç­‰ï¼Œç”šè‡³è¿˜é—®é—®æ˜¯å¦‚ä½•ç¿»å¢™- -ï¼Œç›¸ä¿¡è¿™äº›æŠ€èƒ½éƒ½æ˜¯å¾ˆé‡è¦çš„ã€‚</p>
<h2 id="æ€§æ ¼">æ€§æ ¼</h2><p>å¤§å®¶éƒ½æ˜¯å†™ç¨‹åºçš„ï¼Œæ²¡å•¥å¿…è¦ç”¨å¥‡æ€ªçš„ã€å¾ˆéš¾çš„é—®é¢˜éš¾ä¸ºå¯¹æ–¹ï¼Œæ›´å…³é”®çš„è¿˜æ˜¯æ€§æ ¼ï¼Œå’Œ Team çš„é£æ ¼æ˜¯ä¸æ˜¯å’Œçš„æ¥ã€‚ä¸€ä¸ªå¿ƒæ€è‰¯å¥½çš„é¢è¯•è€…éœ€è¦æœ‰ä¸ªå¹³å¸¸å¿ƒï¼Œä¸å‚²å¨‡ä¹Ÿä¸è·ªèˆ”ï¼Œè¡¨è¾¾è¦æ­£å¸¸ï¼Œç»å¸¸é‡åˆ°é—®ä¸€ä¸ªé—®é¢˜åä¸€ä¸¤åˆ†é’Ÿä¸€ç›´å¤„äºæ²‰æ€çŠ¶æ€ï¼Œä¸€å¥è¯ä¸è¯´ï¼Œäº¤æµåƒæŒ¤ç‰™è†ä¸€æ ·ï¼Œå¾ˆæ˜¯æ†‹å±ˆï¼›è¿˜æœ‰éå¸¸å±Œå±Œçš„ï¼Œæ˜æ˜ä¸æ‡‚ä»ç„¶å¼ºè¡Œæ®ç†åŠ›äº‰ï¼Œé•‡å¾—ä½é¢è¯•å®˜ä¹Ÿç½¢ï¼Œæ’æªå£ä¸Šå°±åˆ«æ€ªä¸å®¢æ°”äº†- - ã€‚å†³å®šè¦ä¸è¦ä¸€ä¸ªäººåŸºæœ¬ä¸ŠèŠ 5 åˆ†é’Ÿå°±å¯ä»¥ç¡®å®šäº†ï¼Œå–œæ¬¢æ°´åˆ°æ¸ æˆçš„æ„Ÿè§‰ï¼Œçœ‹å¯¹çœ¼äº†æŒ¡éƒ½æŒ¡ä¸ä½ã€‚</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ç½‘ä¸Šæµè¡Œçš„iOSé¢è¯•é¢˜ï¼Œä»¥åé¢è¯•ç”¨ã€‚é¦–å…ˆå°±æ˜¯å”å·§æœ€è¿‘åœ¨å¾®ä¿¡é‡Œå‘å¸ƒäº†ä¸€å¥—é¢è¯•é¢˜ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ï¼Œä»¥åæ‰¾æ—¶é—´æ€»ç»“ä¸€ä¸‹å›ç­”ï¼Œå½“ç„¶æ˜¯åœ¨å¼„æ‡‚çš„å‰æä¸‹ã€‚ä»…ä»…å§ç­”æ¡ˆèƒŒä¸‹æ¥ï¼Œå´ä¸å¼„æ‡‚æ˜¯æ²¡ä»€ä¹ˆç”¨çš„ã€‚</p>]]>
    
    </summary>
    
      <category term="iOS" scheme="http://devliu.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[git æŠ€å·§]]></title>
    <link href="http://devliu.com/2015/07/26/git-%E6%8A%80%E5%B7%A7/"/>
    <id>http://devliu.com/2015/07/26/git-æŠ€å·§/</id>
    <published>2015-07-26T14:53:15.000Z</published>
    <updated>2015-07-26T16:01:17.000Z</updated>
    <content type="html"><![CDATA[<p>è¿™æ˜¯æˆ‘è¿‡å»ä½¿ç”¨gitæ€»ç»“çš„ä¸€äº›æŠ€å·§å’Œåœ¨googleå’Œssä¸Šæœåˆ°çš„ä¸€äº›çŸ¥è¯†ï¼Œå¸Œæœ›å¤§å®¶å–œæ¬¢ã€‚<br><a id="more"></a><br>1.åˆ—å‡ºæœ¬åœ°gitæ–‡ä»¶<br>git ls-tree â€”full-tree -r HEAD</p>
<ol>
<li>å‡å¦‚ä½ æƒ³è¦ä¸¢å¼ƒä½ æ‰€æœ‰çš„æœ¬åœ°æ”¹åŠ¨ä¸æäº¤ï¼Œå¯ä»¥åˆ°æœåŠ¡å™¨ä¸Šè·å–æœ€æ–°çš„ç‰ˆæœ¬å¹¶å°†ä½ æœ¬åœ°ä¸»åˆ†æ”¯æŒ‡å‘åˆ°å®ƒï¼š<br>git fetch origin<br>git reset â€”hard origin/master</li>
</ol>
<p>3.åˆ é™¤æ‰æœ¬åœ°ä»æš‚å­˜åŒºåˆ é™¤çš„æ–‡ä»¶<br>git rm $(git ls-files â€”deleted)</p>
<p>4.ä¿®æ”¹.gitignoreå¤±æ•ˆçš„è§£å†³åŠæ³• <a href="http://stackoverflow.com/questions/1139762/gitignore-file-not-ignoring" target="_blank" rel="external">http://stackoverflow.com/questions/1139762/gitignore-file-not-ignoring</a><br>     1&gt; åˆ é™¤æš‚å­˜åŒºçš„æ–‡ä»¶<br>     git rm -r â€”-cached .<br>     2&gt; æŠŠæ–‡ä»¶åŠ å›æ¥<br>     git add .<br>     3&gt; æäº¤<br>     git commit -m â€œ.gitignore is now workingâ€</p>
<p>5.alias<br>[alias]<br>    lg = log â€”graph â€”pretty=format:â€™%Cred%h%Creset -%C(yellow)%d%Creset %C(blue)%s%Creset %C(dim cyan<br>    st = status -sb<br>    co = checkout<br>    br = branch<br>    mg = merge<br>    ci = commit<br>    ds = diff â€”staged<br>    dt = difftool<br>    mt = mergetool<br>    last = log -1 HEAD<br>    latest = for-each-ref â€”sort=-committerdate â€”format=\â€%(committername)@%(refname:short) [%(committ<br>    ls = log â€”pretty=format:\â€%C(yellow)%h %C(blue)%ad %C(red)%d %C(reset)%s %C(green)[%cn]\â€ â€”decora<br>    hist = log â€”pretty=format:\â€%C(yellow)%h %C(red)%d %C(reset)%s %C(green)[%an] %C(blue)%ad\â€ â€”topo<br>    type = cat-file -t<br>    dump = cat-file -p<br>    pom = push origin master</p>
<p>6.è®¾ç½®è·Ÿè¸ª<br>     git config â€”global push.default simple</p>
<p>7.æ£€æŸ¥ä¸€ä¸ªæäº¤åŒ…å«åœ¨å“ªä¸ªtagä¸‹é¢<br>     git name-rev â€”name-only 50f3754</p>
<p>8.æ‰¾å‡ºå“ªä¸ªåˆ†æ”¯åŒ…å«æŸä¸ªæäº¤<br>     git branch â€”contains 50f3754</p>
<p>9.æ£€æŸ¥cherry pickçš„çŠ¶æ€<br>     å½“å‰åœ¨featureåˆ†æ”¯<br>     git cherry -v master<br>è¾“å‡ºï¼š</p>
<pre><code>+ <span class="number">497034</span>f2 Listener.<span class="built_in">new</span> now accepts <span class="operator">a</span> hash <span class="operator">of</span> options
- <span class="number">2</span>d0333ff cache <span class="operator">the</span> absolute images path <span class="keyword">for</span> growl messages
+ e4406858 <span class="built_in">rename</span> Listener<span class="comment">#run to #start</span>
</code></pre><p>+è¡¨ç¤ºæ²¡æœ‰åœ¨masteråˆ†æ”¯ä¸Šï¼Œ-è¡¨ç¤ºå·²ç»åœ¨masteråˆ†æ”¯ä¸Š</p>
<p>10.ç»™æäº¤å†™æ³¨é‡Š<br>     git notes add<br>æ³¨ï¼šæ³¨é‡Šåªå­˜åœ¨æœ¬åœ°</p>
<p>11.git æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯<br>     git branch -v -a</p>
<p>12.git reset æ¨¡å¼<br>     â€”soft ç¼“å­˜åŒºå’Œå·¥ä½œåŒºéƒ½ä¸å˜ï¼ŒåªæŠŠ HEAD æŒ‡é’ˆæŒ‡å‘commit<br>     â€”mixed æŠŠç¼“å­˜åŒºé‡ç½®ï¼Œä½†æ˜¯ä¸æ”¹å˜å·¥ä½œåŒºã€‚æ˜¯é»˜è®¤æ¨¡å¼<br>     â€”hard ç¼“å­˜åŒºå’Œå·¥ä½œåŒºéƒ½é‡ç½®</p>
<p>13.git rm â€”cached <file> vs. git reset â€” <file><br>git rm â€”cached <file> will completely remove the fileâ€™s contents from the index. This means that on commit the file will be removed from the HEAD commit. (If the file was only added to the index and not yet tracked this is a â€œno-opâ€.)<br>     ä»ç¼“å­˜ä¸­åˆ é™¤è¯¥æ–‡ä»¶ï¼Œä¸‹æ¬¡æäº¤ï¼Œè¯¥æ–‡ä»¶ä¼šå†ç‰ˆæœ¬åº“ä¸­åˆ é™¤ã€‚ä½†æœ¬åœ°è¿˜éœ€è¦æ‰‹åŠ¨åˆ é™¤ã€‚</file></file></file></p>
<p>git reset â€” <file> resets the contents of the file in the index to be the same as the head commit. This means that on commit no changes will be committed to the file. This operation is not valid if there is no tracked version of the file in the HEAD commit.<br>     é‡ç½®ç¼“å­˜åŒºä¸­è¯¥æ–‡ä»¶çš„å†…å®¹ï¼Œä¿æŒå’Œhead commitä¸€æ ·ã€‚ä½†å·¥ä½œåŒºä¸­ä¸å—å½±å“ã€‚å¯ä»¥ç”¨git checkout â€” <file> è¿˜åŸæ–‡ä»¶çš„å†…å®¹</file></file></p>
<p>14.git diff æ‰¾åˆ°å“ªè¡Œè¢«ä¿®æ”¹<br>git diff â€”unified=0 commit1 commit2</p>
<p>15.git checkoutæ—¶tagå’Œbranchæœ‰ç›¸åŒçš„åå­—<br>git checkout tags/<tagname></tagname></p>
<p>16.åœ¨è¿‡å»çš„æŸä¸€ä¸ªcommitåˆ›å»ºåˆ†æ”¯ï¼Œ(detached head)<br>     1.git checkout <commit> å›åˆ°é‚£ä¸ªcommit<br>     2.git checkout -b <branch_name> åˆ›å»ºæ–°åˆ†æ”¯<br>     ä¹Ÿå¯ä»¥è¿™æ ·åš<br>     git branch new_branch -v ee79123 åŸºäºè¿‡å»çš„æŸä¸ªæäº¤å»ºç«‹åˆ†æ”¯</branch_name></commit></p>
<p>17.<br>     git repack é‡æ–°æ‰“åŒ…<br>     git repack -d ç”¨æ¥å‹ç¼©ä½“ç§¯ï¼Œä¸å¤ªé‡ç”¨ï¼Œç›®å‰ä¸æ˜¯å¾ˆæ˜ç™½ã€‚</p>
<pre><code><span class="title">git</span> gc å‹ç¼©ä½“ç§¯
</code></pre><p>18.git æŸ¥æ‰¾å·¥ç¨‹ä¸­æ‰€æœ‰çš„TODO<br>     [alias] todo = grep -n -e TODO -e FIXME -e XXX -e OPTIMIZE</p>
<p>19.ä¿®æ”¹æŸä¸ªæäº¤çš„ä¿¡æ¯<br>     1.å¦‚æœæ˜¯ä¿®æ”¹æœ€è¿‘ä¸€æ¬¡æäº¤ git commit â€”amend -m â€œnew commit messageâ€<br>     2.å¦‚æœä¸æ˜¯æœ€è¿‘ä¸€æ¬¡æäº¤<br>               1.git rebase -i &lt;è¦ä¿®æ”¹æäº¤ä¹‹å‰çš„é‚£æ¬¡æäº¤&gt;<br>                2.git commit â€”amend -m â€œnew commit messageâ€<br>                3.git rebase â€”continue</p>
<p>20.å‹ç¼©æäº¤<br>å¦‚æœå¤šæ¬¡æäº¤çš„ä¿¡æ¯å¤§è‡´ç›¸åŒï¼Œå¯ä»¥æŠŠå®ƒä»¬å‹ç¼©æˆä¸€ä¸ªæäº¤<br>é¦–å…ˆæ‰¾åˆ°ä½ è¦å‹ç¼©çš„è¿™äº›æäº¤çš„å‰ä¸€ä¸ªæäº¤å« commit_before<br>     1.git rebase -i <commit_before><br>     2.è¿›å…¥ç¼–è¾‘ç•Œé¢<br>          1.ç¡®å®šä¸€ä¸ªæäº¤å· commit_retainï¼Œè™½ç„¶è¦å‹ç¼©æäº¤ï¼Œä¹Ÿå¾—ä¿ç•™ä¸€ä¸ªæäº¤ï¼ŒæŠŠè¿™ä¸ªæäº¤æ ‡è®°ä¸ºpick<br>          2.æŠŠå…¶ä»–æäº¤ç¬”è®°ä¸ºsquash</commit_before></p>
<pre><code><span class="number">3</span>. :wq é€€å‡ºç¼–è¾‘ç•Œé¢ï¼Œè¿™æ—¶ä¼šæç¤ºè¾“å…¥commit <span class="keyword">message</span>ï¼Œè¾“å…¥å°±å¥½äº†ï¼Œæ¯”å¦‚â€œSquash the <span class="keyword">message</span>.â€è¿™æ ·å°±å¥½äº†ã€‚
</code></pre><p>21.Merge å…¶ä»–åˆ†æ”¯ä¸Šçš„æ‰€æœ‰æäº¤ä½œä¸º1ä¸ªæäº¤<br>     1.git merge â€”squash <feature branch=""><br>     2.è¿™æ—¶å¯èƒ½ä¼šæœ‰æœªè·Ÿè¸ªçš„æ–‡ä»¶ï¼Œæˆ–è€…å†²çªï¼ˆè¿˜æ²¡é‡åˆ°è¿‡ï¼Œä½†æ˜¯åº”è¯¥ä¼šæœ‰è¿™ç§æƒ…å†µï¼‰ï¼Œç”¨ git addï¼Œæˆ–è€…è§£å®Œå†²çªï¼Œå†æäº¤å°±å¥½äº†ã€‚</feature></p>
<p>22.å¯¹æäº¤é‡æ–°æ’åº<br>     1.é¦–å…ˆgit logæŸ¥çœ‹æäº¤ä¿¡æ¯ï¼Œç¡®å®šå“ªäº›æäº¤éœ€è¦é‡æ–°æ’åºï¼Œæ‰¾åˆ°æœ€å‰é¢çš„commit<em>need_reorder<br>     2.git reabse -i <commit_need_reorder>ï¼Œè¿›å…¥ç¼–è¾‘ç•Œé¢<br>     3.é‡Œé¢åˆ—å‡ºäº†å„ä¸ªæäº¤ï¼Œç”¨vimæ’åºå°±å¥½äº†ï¼Œæ¯”å¦‚æŠŠæŸä¸€è¡Œç§»åˆ°æŸä¸€è¡Œçš„ä¸‹é¢ ^</commit_need_reorder></em>^</p>
<p>23.git bisect ç”¨gitäºŒåˆ†æ³•æŸ¥æ‰¾bug<br>     å¤§è‡´æ€è·¯ï¼š<br>     1.é¦–å…ˆç¡®è®¤ä¸¤ä¸ªèµ·å§‹ç‚¹ï¼Œä¸€ä¸ªæ ‡è®°ä¸ºgoodï¼Œä¸€ä¸ªæ ‡è®°ä¸ºbadï¼Œè¿™æ—¶ä¼šç¡®å®šä¸€ä¸ªä¸­é—´çš„æäº¤ï¼Œåœ¨è¿™ä¸ªæäº¤ä¸Šè¿è¡Œæµ‹è¯•ä»£ç ï¼Œæ ¹æ®ç»“æœæ ‡è®°ä¸ºgood æˆ–è€… badï¼Œè¿™æ—¶ä¼šè¿›å…¥å¦å¤–ä¸€åŠçš„commitsï¼ˆæ³¨æ„æ˜¯è´Ÿæ•°ï¼‰ã€‚è¿™æ ·é€’å½’å°±å¯ä»¥çœ‹åˆ°ï¼Œæœ€åæ˜¯åœ¨é‚£ä¸ªcommitå¼•å…¥äº†è¿™ä¸ªbugã€‚<br>     å‘½ä»¤ï¼š<br>     git bisect start<br>     git bisect good <commit_good><br>     git bisect bad <commit_bad><br>     â€”&gt; go to the mid commit<br>     â€”&gt; run the test code<br>     if good<br>          run git bisect good<br>          go to the [commit_goodâ€¦commit_mid] -&gt; new commit_mid<br>     else<br>          run git bisect bad<br>          go to the [commid_midâ€¦commit_bad] -&gt; new commid_mid</commit_bad></commit_good></p>
<pre><code><span class="keyword">finally</span> <span class="keyword">find</span> the commit_with_bug
</code></pre><p>24.git äº¤äº’å¼ add<br>     å¦‚æœåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä½ ç¼–è¾‘äº†å¤šè¡Œå†…å®¹ï¼Œä½†æ˜¯è¿™äº›å†…å®¹å¯èƒ½å±äºå¤šä¸ªæäº¤ï¼Œä½ å¯ä»¥è€ƒè™‘ç”¨git add -pæ¥åˆ†å¼€addè¿›ç¼“å­˜åŒºã€‚<br>     1.git add -p</p>
<pre><code>å¯ä»¥çœ‹åˆ°è¿™ä¸¤è¡Œå†…å®¹åº”è¯¥å±äºä¸åŒçš„æäº¤ï¼Œè¿™æ—¶é€‰æ‹©eï¼Œè¿›å…¥ç¼–è¾‘ç•Œé¢ã€‚
<span class="number">2.</span>åˆ é™¤æ‰ä¸éœ€è¦çš„å†…å®¹ï¼Œæ¯”å¦‚åˆ æ‰

ç„¶åç”¨git <span class="keyword">add</span>åŠ å…¥ç¼“å­˜åŒºå°±å¥½äº†ã€‚
</code></pre><p>25.git revert <commit><br>     æ”¾å¼ƒæŸä¸ªæäº¤ï¼Œä½†ä¸ä¿®æ”¹æäº¤å†å²ï¼Œè€Œæ˜¯æ–°å¢ä¸€ä¸ªæäº¤</commit></p>
<p>26.æ’¤é”€git reset â€”hard çš„ä¿®æ”¹<br>     æœ‰æ—¶å€™ä½ ä¼šç”¨git reset â€”hardæ¥æ’¤é”€æŸä¸ªcommitï¼Œå¹¶ä½¿ä½ çš„å·¥ä½œåŒºå›åˆ°é‚£ä¸ªcommitä¹‹å‰çš„çŠ¶æ€ï¼Œä½†æ˜¯ä½ å¯èƒ½åˆåæ‚”äº†ï¼Œè¿™æ—¶ä½ å¯ä»¥ç”¨git reflogæ¥æ‰§è¡Œä½ çš„åæ‚”æ“ä½œã€‚<br>     1.git reflog<br>          æ‰¾åˆ°ä½ ç”¨ git reset â€”hard æ’¤é”€çš„æäº¤ï¼Œå«commit_should_restored<br>     2.git reset â€”hard <commit_should_restored> è¿™æ ·å°±okäº†ã€‚</commit_should_restored></p>
<p>27.è§£å†³åˆå¹¶æ—¶å€™çš„å†²çª<br>     å½“åˆ†æ”¯åˆå¹¶æ—¶éš¾å…ä¼šé‡åˆ°å†²çªï¼Œä½¿åˆå¹¶ä¸­é€”å¤±è´¥ï¼Œè¿™æ—¶ä¸è¦æ€•ï¼Œæ‰¾åˆ°æœ‰å†²çªçš„æ–‡ä»¶ï¼Œè§£å®Œå†²çªï¼Œåœ¨æ¥ä¸€ä¸ªcommitå°±è¡Œäº†<br>     1.git branch <feature_branch><br>          è¿™é‡Œå‡ºç°äº†å†²çª<br>     2.ç”¨git statusæŸ¥çœ‹é‚£ä¸ªæ–‡ä»¶å­˜åœ¨å†²çªï¼Œå®ƒæ²¡è¢«åŠ åˆ°ç¼“å­˜åŒº<br>     3.ç”¨ä½ æœ€çˆ±çš„ç¼–è¾‘å™¨ä¿®æ”¹å®Œå†²çªï¼Œè¿™æ—¶å€™ä½ éœ€è¦æ³¨æ„ï¼Œ&lt;&lt;&lt;&lt;<headå’Œ=====æ ‡è®°çš„æ˜¯ä½ æ‰€åœ¨çš„åˆ†æ”¯ï¼Œ====å’Œ<feature_branch>æ ‡è®°çš„æ˜¯ä½ è¦åˆå¹¶è¿‡æ¥çš„åˆ†æ”¯ã€‚<br>     4.git add .<br>     5.git commit -m â€œmerge branchâ€</headå’Œ=====æ ‡è®°çš„æ˜¯ä½ æ‰€åœ¨çš„åˆ†æ”¯ï¼Œ====å’Œ<feature_branch></feature_branch></p>
<p>28.æ’¤é”€æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹<br>     1.git checkout â€” file ä»ç¼“å­˜ä¸­æ’¤é”€è¯¥æ–‡ä»¶çš„ä¿®æ”¹<br>     2.git checkout <branch>/<origin master="">/<head~> â€” file ä»æŸä¸ªåˆ†æ”¯/è¿œç«¯/HEADä¹‹å‰çš„æäº¤ä¸­æ’¤é”€è¯¥æ–‡ä»¶çš„ä¿®æ”¹ï¼ˆæˆ–è€…çœ‹åšè·å–æ–‡ä»¶å†…å®¹ï¼‰</head~></origin></branch></p>
<p>29.é‡ç½®ç¼“å­˜åŒº<br>     git reset HEAD . ï¼ˆåé¢çš„ . å¯ä»¥ä¸åŠ ï¼‰<br>     ä¸»è¦å¯ä»¥ç”¨åœ¨è¿™ç§æƒ…å†µï¼Œæ¯”å¦‚å…ˆåŠ åˆ°ç¼“å­˜åŒºä¸­çš„æ–‡ä»¶ï¼Œç„¶åæœ¬åœ°åˆåˆ é™¤äº†ä¸€äº›æ–‡ä»¶ï¼ˆå·²åŠ åˆ°ç¼“å­˜åŒºï¼‰ï¼Œè¿™æ—¶å¯ä»¥é‡ç½®ä¸€ä¸‹ç¼“å­˜åŒºï¼Œåœ¨git add .  é‡åŠ ä¸€ä¸‹ã€‚</p>
<p>30.git blame æŠ€å·§<br>git blame -w # å¿½ç•¥ç§»é™¤ç©ºç™½è¿™ç±»æ”¹åŠ¨<br>git blame -M # å¿½ç•¥ç§»åŠ¨æ–‡æœ¬å†…å®¹è¿™ç±»æ”¹åŠ¨<br>git blame -C # å¿½ç•¥ç§»åŠ¨æ–‡æœ¬å†…å®¹åˆ°å…¶å®ƒæ–‡ä»¶è¿™ç±»æ”¹åŠ¨</p>
<p>31.git rebase -i åˆ†å‰²æäº¤<br>     1.ç”¨ git rebase -i <commit> æ‰“å¼€ç¼–è¾‘ç•Œé¢<br>     2.ç”¨ edit é€‰æ‹©è¦åˆ†å‰²çš„commitï¼Œè¿™æ—¶commitä¼šè·³è½¬åˆ°è¦åˆ†éš”çš„commit_sep<br>     3.ç”¨git reset HEAD~ æŠŠcommitè·³åˆ°commit_sepä¹‹å‰<br>     4.æŒ‰æƒ…å†µæŠŠæäº¤åŠ ä¸Šå°±å¯ä»¥äº†ï¼Œæ¯”å¦‚ç”¨ git add -p</commit></p>
<p>32.æŸ¥çœ‹æŸä¸ªcommitçš„æ”¹åŠ¨<br>     git show <commit></commit></p>
<p>33.æŸ¥çœ‹æŸä¸ªæäº¤æ·»åŠ äº†å“ªäº›æ–‡ä»¶<br>     git diff-tree â€”no-commit-id â€”name-only -r â€”diff-filter=A <commit><br>     æ³¨æ„ï¼šâ€”diff-filter=A æ˜¯æ·»åŠ çš„æ„æ€ï¼ŒMæ˜¯ä¿®æ”¹çš„æ„æ€<br>The â€”no-commit-id suppresses the commit ID output.<br>The â€”pretty argument specifies an empty format string to avoid the cruft at the beginning.<br>The â€”name-only argument shows only the file names that were affected (Thanks Hank).<br>The -r argument is to recurse into sub-trees</commit></p>
<p>34.git æŸ¥çœ‹æ‰€æœ‰alias<br>     git config â€”get-regexp alias</p>
<p>35.git tag æ“ä½œ<br>     åŠ æ ‡ç­¾<br>     git tag -a v0.1.0 -m â€˜version 0.1.0â€™</p>
<pre><code>æœ¬åœ°åˆ æ ‡ç­¾
<span class="label">git</span> tag -d v0.<span class="number">1</span>.<span class="number">0</span>

è¿œç¨‹åˆ æ ‡ç­¾
<span class="label">git</span> <span class="keyword">push </span>origin :<span class="number">0</span>.<span class="number">1</span>.<span class="number">0</span>

<span class="keyword">pushæ ‡ç­¾
</span><span class="label">git</span> <span class="keyword">push </span>â€”tags

åˆ é™¤å…¨éƒ¨æœ¬åœ°æ ‡ç­¾
<span class="label">git</span> tag -l <span class="title">| xargs git tag -d</span>
</code></pre><p>36.gitæŸ¥çœ‹å½“å¤©çš„æäº¤ ï¼ˆå†™æ—¥æŠ¥ç”¨ï¼‰<br>     git log â€”since â€˜1 day agoâ€™ â€”oneline â€”author <youremail></youremail></p>
<p>37.git æ¢å¤å•ä¸ªæ–‡ä»¶çš„å†å²ç‰ˆæœ¬<br>     é¦–å…ˆæŸ¥çœ‹è¯¥æ–‡ä»¶çš„å†å²ç‰ˆæœ¬ä¿¡æ¯ï¼šgit log Default@2x.png<br>     è®°å½•ä¸‹éœ€è¦æ¢å¤çš„commitç‰ˆæœ¬å·ï¼šå¦‚ 9aa51d89799716aa68cff3f30c26f8815408e926<br>     æ¢å¤è¯¥æ–‡ä»¶ï¼šgit reset 9aa51d89799716aa68cff3f30c26f8815408e926 Default@2x.png<br>     æäº¤git:git commit -m â€œrevert old fileâ€</p>
<p>38.git checkout è¿œç¨‹åˆ†æ”¯<br>git checkout -b test origin/test</p>
<p>39.git æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯å¯¹åº”çš„è¿œç¨‹åˆ†æ”¯git branch -vv # doubly verbose!</p>
<p>40.git filter-branch ä¿®æ”¹å¤§é‡æäº¤<br>     1.ä»æ‰€æœ‰æäº¤ä¸­åˆ é™¤ä¸€ä¸ªæ–‡ä»¶<br>     git filter-branch â€”tree-filter â€˜rm -f passwords.txtâ€™ HEAD<br>     2.è®²ä¸€ä¸ªå­ç›®å½•è®¾ç½®ä¸ºæ–°çš„æ ¹ç›®å½•<br>     git filter-branch â€”subdirectory-filter trunk HEAD<br>   3.å…¨å±€æ€§çš„æ›´æ¢æäº¤çš„é‚®ä»¶åœ°å€<br>    git filter-branch â€”commit-filter â€˜<br>     if [ â€œ$GIT_AUTHOR_EMAILâ€ = â€œschacon@localhostâ€ ];<br>     then<br>          GIT_AUTHOR_NAME=â€Scott Chaconâ€;<br>          GIT_AUTHOR_EMAIL=â€schacon@example.comâ€;<br>          git commit-tree â€œ$@â€;<br>     else<br>          git commit-tree â€œ$@â€;<br>     fiâ€™ HEAD</p>
<p>41.HEAD~ å’Œ HEAD^<br>     HEAD~æ˜¯æ²¿ç€ä¸€æ¡æäº¤çº¿ï¼Œå¾€å‰æŸ¥æ‰¾ï¼Œæ¯”å¦‚HEAD~3æ˜¯è¿™ä¸ªæäº¤ä¹‹å‰çš„ç¬¬3ä¸ªæäº¤<br>     HEAD^æ˜¯å¹¿åº¦æŸ¥æ‰¾ï¼Œæ¯”å¦‚è¿™ä¸ªæäº¤æ˜¯ä¸¤ä¸ªåˆ†æ”¯çš„äº¤ç‚¹ï¼Œåˆ™HEAD^^ï¼Œå°±æ˜¯ç¬¬äºŒä¸ªåˆ†æ”¯ä¸Šçš„çˆ¶æäº¤ï¼ˆç¬¬äºŒçˆ¶æäº¤ï¼‰ï¼Œå¦‚æœä¸æ˜¯äº¤ç‚¹ï¼Œåˆ™å’ŒHEAD~~ä¸€æ ·</p>
<p>42.git stash<br>     1.git stashä¸åˆ†æ”¯æ— å…³ï¼Œå¦‚æœåœ¨featureåˆ†æ”¯ä¸Šstashäº†ï¼Œå¯ä»¥åœ¨masteråˆ†æ”¯ä¸Šapply stashä¸­çš„å†…å®¹<br>     2.åœ¨stashä¸Šåˆ›å»ºåˆ†æ”¯<br>          git stash branch <branch_name><br>     3.å–æ¶ˆå‚¨è—<br>          git stash show -p stash@{0} | git apply -R</branch_name></p>
<p>43.git reflog</p>
<pre><code>1. æ¯æ¬¡æ›´æ”¹gitçš„HEADçš„æ—¶å€™ï¼Œgitéƒ½ä¼šå¸®ä½ è®°å½•è¿™ä¸ªæ”¹åŠ¨ï¼Œè¿™æ ·å°±å¯ä»¥æ‰¾å›git <span class="operator"><span class="keyword">reset</span> â€”hard &lt;commit_id&gt; å¼„ä¸¢çš„<span class="keyword">commit</span>äº†ï¼Œå‚è€ƒç¬¬<span class="number">26</span>æ¡
 <span class="number">2.</span>

 æŸ¥çœ‹HEAD@{<span class="number">3</span>}ï¼Œgit <span class="keyword">show</span> HEAD@{<span class="number">3</span>}ï¼Œæ§åˆ¶å°ä¼šæ˜¾ç¤º<span class="number">1</span>c36188çš„<span class="keyword">commit</span> ä¿¡æ¯
 <span class="number">3.</span>æŸ¥çœ‹<span class="keyword">master</span>åˆ†æ”¯æ˜¨å¤©åœ¨å“ª
      git <span class="keyword">show</span> <span class="keyword">master</span>@{yesterday}</span>
</code></pre><p>44.æŸ¥çœ‹æŸä¸ªåˆ†æ”¯æŒ‡å‘é‚£ä¸ªæäº¤<br>     git rev-parse <branch></branch></p>
<p>45.git æäº¤èŒƒå›´</p>
<pre><code><span class="number">1.</span> åŒç‚¹ ..
ä¸»è¦æ˜¯gitåŒºåˆ†å‡ºå¯ä»ä¸€ä¸ªåˆ†æ”¯è·å¾—è€Œæ— æ³•ä»å¦ä¸€ä¸ªåˆ†æ”¯ä¸Šè·å¾—çš„æäº¤
git <span class="command">log</span> master..experiment
</code></pre><p>  D C<br>     æŸ¥çœ‹ä½ å°†æŠŠä»€ä¹ˆæ¨é€åˆ°è¿œç¨‹<br>     git log origin/master..HEAD<br>    2.å¤šç‚¹ï¼ŒæŸ¥çœ‹refA refBä¸­æœ‰ï¼ŒrefCä¸­æ²¡æœ‰çš„æäº¤<br>     git log refA refB â€”not refC = git log refA refB ^refC    </p>
<pre><code><span class="number">3</span>.ä¸‰ç‚¹ ...
è¿™ä¸ªå¯ä»¥æŒ‡å®šè¢«ä¸¤ä¸ªå¼•ç”¨ä¸­çš„ä¸€ä¸ªåŒ…å«ä½†åˆä¸è¢«ä¸¤è€…åŒæ—¶åŒ…å«çš„åˆ†æ”¯
</code></pre><p>46.git checkout è¿œç¨‹åˆ†æ”¯</p>
<p>git checkout -b test origin/test</p>
<p>47.git å±•ç¤ºæŸä¸ªæ–‡ä»¶ä¸åŒç‰ˆæœ¬é—´çš„å·®å¼‚</p>
<p>$ git diff $start_commit..$end_commit â€” path/to/file</p>
<p>48.æŸ¥çœ‹é‚£ä¸ªæäº¤åˆ é™¤äº†æŸä¸ªæ–‡ä»¶<br>git log â€” /path/to/file</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>è¿™æ˜¯æˆ‘è¿‡å»ä½¿ç”¨gitæ€»ç»“çš„ä¸€äº›æŠ€å·§å’Œåœ¨googleå’Œssä¸Šæœåˆ°çš„ä¸€äº›çŸ¥è¯†ï¼Œå¸Œæœ›å¤§å®¶å–œæ¬¢ã€‚<br>]]>
    
    </summary>
    
      <category term="git" scheme="http://devliu.com/tags/git/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[V]]></title>
    <link href="http://devliu.com/2015/07/26/V/"/>
    <id>http://devliu.com/2015/07/26/V/</id>
    <published>2015-07-26T14:40:58.000Z</published>
    <updated>2015-07-26T14:48:48.000Z</updated>
    <content type="html"><![CDATA[<p>ã€ŠVå­—ä»‡æ€é˜Ÿã€‹æ˜¯æˆ‘æœ€å–œæ¬¢çš„ç”µå½±ä¹‹ä¸€ï¼Œå½“ç„¶æˆ‘ä¸èƒ½è¯´æ²¡æœ‰ä¹‹ä¸€è¿™ç§å±è¯ï¼Œé‚£å¤ªç»å¯¹äº†ã€‚æˆ‘ä¸çŸ¥é“å¦‚ä½•è¯„è®ºè¿™éƒ¨ç”µå½±ï¼Œæˆ–è€…è¯´æˆ‘ä¸æ•¢åœ¨äº’è”ç½‘è¿™ä¸ªå¼€æ”¾çš„ç¯å¢ƒä¸‹å†™å‡ºæˆ‘å†…å¿ƒçœŸå®çš„æ„Ÿå—ã€‚æˆ–è€…ï¼Œæˆ‘æ€€ç–‘è‡ªå·±çš„æªè¾èƒ½åŠ›æ— æ³•è¡¨ç°å‡ºè¿™éƒ¨ç”µå½±çš„ä¼Ÿå¤§ã€‚Butï¼Œä½ éœ€è¦å»çœ‹è¿™éƒ¨ç”µå½±ã€‚</p>
<p>Væ€ªå®¢åœ¨ç”µè§†å°å‘å…¨å›½æ°‘ä¼—å‘è¡¨æ¼”è¯´çš„å°è¯ï¼šï¼ˆè¯·åŸè°…æˆ‘ç²˜è´´è‡ªç½‘ç»œï¼‰<br><a id="more"></a>ã€€ã€€ã€€ã€€ã€€ã€€<br>ã€€ã€€ã€€ã€€ã€€ã€€å°½ç®¡æ²‰é»˜ä»£æ›¿äº†è¨€è¯­<br>ã€€ã€€ã€€ã€€ã€€ã€€è¨€è¯­å´æ€»æ˜¯èƒ½ä¿æŒå®ƒçš„åŠ›é‡<br>ã€€ã€€ã€€ã€€ã€€ã€€å«ä¹‰æ·±åˆ»çš„è¨€è¯­<br>ã€€ã€€ã€€ã€€ã€€ã€€å®ƒå‘é‚£äº›æ„¿æ„å€¾å¬çš„<br>ã€€ã€€ã€€ã€€ã€€ã€€äººä»¬å‘å‡ºçœŸç›¸çš„å®£å‘Š<br>ã€€ã€€ã€€ã€€ã€€ã€€è€ŒçœŸç›¸æ˜¯ï¼Œè¿™ä¸ªå›½å®¶<br>ã€€ã€€ã€€ã€€ã€€ã€€æœ‰äº›äº‹æƒ…é”™å¾—å¯æ€•<br>ã€€ã€€ã€€ã€€ã€€ã€€äººæ°‘è¢«æ®‹æš´ã€ä¸å…¬ã€æ­§è§†å’Œé•‡å‹<br>ã€€ã€€ã€€ã€€ã€€ã€€ä½ æ›¾ç»æœ‰è¿‡åå¯¹çš„è‡ªç”±<br>ã€€ã€€ã€€ã€€ã€€ã€€å¯ä»¥è¯´å‡ºä½ æƒ³è¯´çš„è¯<br>ã€€ã€€ã€€ã€€ã€€ã€€ä½†æ˜¯ç°åœ¨æœ‰äº†ä¼ æ„Ÿå™¨å’Œå…¨å¤©24å°æ—¶çš„ç›‘è§†ç³»ç»Ÿ<br>ã€€ã€€ã€€ã€€ã€€ã€€- å¼ºè¿«ä½ æ²‰é»˜<br>ã€€ã€€ã€€ã€€ã€€ã€€- å¼ºè¿«ä½ æœä»<br>ã€€ã€€ã€€ã€€ã€€ã€€<br>ã€€ã€€ã€€ã€€ã€€ã€€è¿™æ˜¯æ€ä¹ˆå‘ç”Ÿçš„ï¼Ÿ<br>ã€€ã€€ã€€ã€€ã€€ã€€è¿™è¦æ€ªè°ï¼Ÿ<br>ã€€ã€€ã€€ã€€ã€€ã€€è°æ›´éœ€è¦è´Ÿä¸Šè¿™ä¸ªè´£ä»»ï¼Ÿ<br>ã€€ã€€ã€€ã€€ã€€ã€€ä½ æƒ³æ‰¾åˆ°è¿™ä¸ªç½ªäººçš„è¯<br>ã€€ã€€ã€€ã€€ã€€ã€€ä½ åªéœ€è¦ç…§ç…§é•œå­<br>ã€€ã€€ã€€ã€€ã€€ã€€<br>ã€€ã€€ã€€ã€€ã€€ã€€æˆ‘çŸ¥é“ä½ ä¸ºä»€ä¹ˆè¿™æ ·åš<br>ã€€ã€€ã€€ã€€ã€€ã€€æˆ‘çŸ¥é“ä½ å®³æ€•<br>ã€€ã€€ã€€ã€€ã€€ã€€è°ä¸ä¼šå‘¢ï¼Ÿ<br>ã€€ã€€ã€€ã€€ã€€ã€€æˆ˜äº‰ã€ææ€–äº‹ä»¶ã€ç–¾ç—…<br>ã€€ã€€ã€€ã€€ã€€ã€€å®ƒä»¬å°±åƒæ‚è‰ç§å­<br>ã€€ã€€ã€€ã€€ã€€ã€€ç”¨æ¥æ‘§æ¯ä½ çš„ç†æ™º<br>ã€€ã€€ã€€ã€€ã€€ã€€å¤ºèµ°ä½ çš„å¸¸è¯†<br>ã€€ã€€ã€€ã€€ã€€ã€€ææƒ§æ§åˆ¶äº†ä½ <br>ã€€ã€€ã€€ã€€ã€€ã€€è®©ä½ åœ¨æ…Œä¹±ä¸­æŠ•å‘äº†å…ƒé¦–å…ˆç”Ÿ<br>ã€€ã€€ã€€ã€€ã€€ã€€â€”â€”äºšå½“Â·è‹ç‰¹å‹’<br>ã€€ã€€ã€€ã€€ã€€ã€€ä»–å‘ä½ è®¸è¯ºç§©åº<br>ã€€ã€€ã€€ã€€ã€€ã€€ä»–å‘ä½ è®¸è¯ºå’Œå¹³<br>ã€€ã€€ã€€ã€€ã€€ã€€è€Œä»–æ‰€è¦çš„å›æŠ¥ä¸è¿‡<br>ã€€ã€€ã€€ã€€ã€€ã€€æ˜¯ä½ çš„æœä»å’Œæ²‰é»˜<br>ã€€ã€€ã€€ã€€ã€€ã€€<br>ã€€ã€€ã€€ã€€ã€€ã€€æ˜¨æ™šæˆ‘å†³å®šç»“æŸè¿™ç§æ²‰é»˜<br>ã€€ã€€ã€€ã€€ã€€ã€€æ˜¨æ™šæˆ‘æ‘§æ¯äº†è€å·´é‡Œè¡—<br>ã€€ã€€ã€€ã€€ã€€ã€€ä»¥æé†’è¿™ä¸ªå›½å®¶å¿˜è®°çš„äº‹æƒ…<br>ã€€ã€€ã€€ã€€ã€€ã€€å°†è¿‘400å¹´å‰<br>ã€€ã€€ã€€ã€€ã€€ã€€ä¸€ä½ä¼Ÿå¤§çš„å…¬æ°‘æ‰“ç®—å°†11æœˆ5æ—¥<br>ã€€ã€€ã€€ã€€ã€€ã€€æ°¸è¿œåˆ»å…¥æˆ‘ä»¬çš„è®°å¿†ä¸­<br>ã€€ã€€ã€€ã€€ã€€ã€€ä»¥æ­¤æé†’ä¸–ç•Œå…¬å¹³ã€æ­£ä¹‰å’Œè‡ªç”±<br>ã€€ã€€ã€€ã€€ã€€ã€€ä¸åªæ˜¯å£å¤´è¯´è¯´<br>ã€€ã€€ã€€ã€€ã€€ã€€å®ƒä»¬æ˜¯äººç”Ÿæ¥å°±æœ‰çš„æƒåˆ©<br>ã€€ã€€ã€€ã€€ã€€ã€€<br>ã€€ã€€ã€€ã€€ã€€ã€€æ‰€ä»¥å¦‚æœä½ ä»€ä¹ˆä¹Ÿæ²¡çœ‹è§<br>ã€€ã€€ã€€ã€€ã€€ã€€å¯¹è¿™ä¸ªæ”¿åºœçŠ¯ä¸‹çš„ç½ªè¡Œä¸€æ— æ‰€çŸ¥<br>ã€€ã€€ã€€ã€€ã€€ã€€æˆ‘å»ºè®®ä½ è®©è¿™ä¸ª11æœˆ5æ—¥å¹³æ·¡åœ°è¿‡å»<br>ã€€ã€€ã€€ã€€ã€€ã€€<br>ã€€ã€€ã€€ã€€ã€€ã€€å¯æ˜¯å¦‚æœä½ çœ‹è§æˆ‘æ‰€è§çš„<br>ã€€ã€€ã€€ã€€ã€€ã€€å¦‚æœä½ æœ‰è·Ÿæˆ‘ä¸€æ ·çš„æ„Ÿå—<br>ã€€ã€€ã€€ã€€ã€€ã€€å¦‚æœä½ æœ‰åƒæˆ‘ä¸€æ ·å»å¯»è§…çœŸç†å’Œè‡ªç”±<br>ã€€ã€€ã€€ã€€ã€€ã€€æˆ‘è¯·ä½ åœ¨ä¸€å¹´ä»¥åçš„ä»Šæ™š<br>ã€€ã€€ã€€ã€€ã€€ã€€ç«™åˆ°è®®ä¼šå¤§å¦çš„å¤–é¢<br>ã€€ã€€ã€€ã€€ã€€ã€€å›¢ç»“ä¸€è‡´ï¼Œæˆ‘ä»¬å°†ä½¿11æœˆ5æ—¥<br>ã€€ã€€ã€€ã€€ã€€ã€€æ°¸è¿œä¸ä¼šè¢«å¿˜æ€€ï¼ </p>
]]></content>
    <summary type="html">
    <![CDATA[<p>ã€ŠVå­—ä»‡æ€é˜Ÿã€‹æ˜¯æˆ‘æœ€å–œæ¬¢çš„ç”µå½±ä¹‹ä¸€ï¼Œå½“ç„¶æˆ‘ä¸èƒ½è¯´æ²¡æœ‰ä¹‹ä¸€è¿™ç§å±è¯ï¼Œé‚£å¤ªç»å¯¹äº†ã€‚æˆ‘ä¸çŸ¥é“å¦‚ä½•è¯„è®ºè¿™éƒ¨ç”µå½±ï¼Œæˆ–è€…è¯´æˆ‘ä¸æ•¢åœ¨äº’è”ç½‘è¿™ä¸ªå¼€æ”¾çš„ç¯å¢ƒä¸‹å†™å‡ºæˆ‘å†…å¿ƒçœŸå®çš„æ„Ÿå—ã€‚æˆ–è€…ï¼Œæˆ‘æ€€ç–‘è‡ªå·±çš„æªè¾èƒ½åŠ›æ— æ³•è¡¨ç°å‡ºè¿™éƒ¨ç”µå½±çš„ä¼Ÿå¤§ã€‚Butï¼Œä½ éœ€è¦å»çœ‹è¿™éƒ¨ç”µå½±ã€‚</p>
<p>Væ€ªå®¢åœ¨ç”µè§†å°å‘å…¨å›½æ°‘ä¼—å‘è¡¨æ¼”è¯´çš„å°è¯ï¼šï¼ˆè¯·åŸè°…æˆ‘ç²˜è´´è‡ªç½‘ç»œï¼‰<br>]]>
    
    </summary>
    
      <category term="ç”µå½±" scheme="http://devliu.com/tags/%E7%94%B5%E5%BD%B1/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[uicollectionview ç”¨æ³•å°ç»“]]></title>
    <link href="http://devliu.com/2015/05/20/uicollectionview-%E7%94%A8%E6%B3%95%E5%B0%8F%E7%BB%93/"/>
    <id>http://devliu.com/2015/05/20/uicollectionview-ç”¨æ³•å°ç»“/</id>
    <published>2015-05-20T14:37:53.000Z</published>
    <updated>2015-05-20T23:57:21.000Z</updated>
    <content type="html"><![CDATA[<p>æœ€è¿‘é¡¹ç›®ä¸­è¦ç”¨UICollectionViewå®ç°ç€‘å¸ƒæµï¼Œå…¶ä¸­é‡åˆ°äº†å‡ ä¸ªé—®é¢˜ï¼Œåœ¨æ­¤åšä¸€ä¸‹æ€»ç»“ã€‚</p>
<h2 id="é¡¹ç›®éœ€æ±‚ï¼š">é¡¹ç›®éœ€æ±‚ï¼š</h2><p>1.ç€‘å¸ƒæµéœ€æ±‚ã€‚å¦‚æœé‡‡ç”¨è‡ªå¸¦çš„flowlayoutï¼ŒåŒä¸€è¡Œçš„cellè™½ç„¶å¤§å°ä¸ä¸€è‡´ï¼Œä½†ä¼šå±…ä¸­å¯¹é½ï¼Œä¸ç¬¦åˆéœ€æ±‚ã€‚<br>2.cellä¸­åœ†è§’å’Œé˜´å½±å…±å­˜ã€‚</p>
<p>è¯·çœ‹æ•ˆæœå›¾<br><img src="/images/uicollectionview/uicollectionview.gif" alt="ç€‘å¸ƒæµæ•ˆæœå›¾"></p>
<a id="more"></a>
<h2 id="é¡¹ç›®å®ç°">é¡¹ç›®å®ç°</h2><h3 id="è‡ªå®šä¹‰uicollectionviewçš„å¸ƒå±€ï¼Œå®ç°ç€‘å¸ƒæµ">è‡ªå®šä¹‰uicollectionviewçš„å¸ƒå±€ï¼Œå®ç°ç€‘å¸ƒæµ</h3><p>1.åœ¨prepareLayoutå‡½æ•°ä¸­åˆå§‹åŒ–å˜é‡ï¼Œæ¯”å¦‚cellçš„é—´è·</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> *  åˆå§‹åŒ–layoutåè‡ªåŠ¨è°ƒåŠ¨ï¼Œå¯ä»¥åœ¨è¯¥æ–¹æ³•ä¸­åˆå§‹åŒ–ä¸€äº›è‡ªå®šä¹‰çš„å˜é‡å‚æ•°</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)prepareLayout &#123;</span><br><span class="line">    [<span class="keyword">super</span> prepareLayout];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–å‚æ•°</span></span><br><span class="line">    _cellCount = [<span class="keyword">self</span><span class="variable">.collectionView</span> numberOfItemsInSection:<span class="number">0</span>]; <span class="comment">// cellä¸ªæ•°ï¼Œç›´æ¥ä»collectionViewä¸­è·å¾—</span></span><br><span class="line">    _insert = <span class="number">5</span>; <span class="comment">// è®¾ç½®é—´è·</span></span><br><span class="line">    _itemWidth = SCREEN_WIDTH / <span class="number">2</span> - <span class="number">2</span> * _insert; <span class="comment">// cellå®½åº¦</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2.é‡å†™collectionViewContentSizeå‡½æ•°è¿”å›collectionviewçš„å¤§å°<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> *  è®¾ç½®UICollectionViewçš„å†…å®¹å¤§å°ï¼Œé“ç†ä¸UIScrollViewçš„contentSizeç±»ä¼¼</span><br><span class="line"> *</span><br><span class="line"> *  @return è¿”å›è®¾ç½®çš„UICollectionViewçš„å†…å®¹å¤§å°</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="built_in">CGSize</span>)collectionViewContentSize &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">CGSizeMake</span>(SCREEN_WIDTH, MAX(_leftY, _rightY));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>3.ç¡®å®šæ¯ä¸ªcellçš„æ˜¾ç¤ºå±æ€§<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> *  åˆå§‹Layoutå¤–è§‚</span><br><span class="line"> *</span><br><span class="line"> *  @param rect æ‰€æœ‰å…ƒç´ çš„å¸ƒå±€å±æ€§</span><br><span class="line"> *</span><br><span class="line"> *  @return æ‰€æœ‰å…ƒç´ çš„å¸ƒå±€</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="built_in">NSArray</span> *)layoutAttributesForElementsInRect:(<span class="built_in">CGRect</span>)rect &#123;</span><br><span class="line">    _leftY = _insert; <span class="comment">// å·¦è¾¹èµ·å§‹Yè½´</span></span><br><span class="line">    _rightY = _insert; <span class="comment">// å³è¾¹èµ·å§‹Yè½´</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSMutableArray</span> *attributes = [[<span class="built_in">NSMutableArray</span> alloc] init];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">self</span><span class="variable">.cellCount</span>; i ++) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">NSIndexPath</span> *indexPath = [<span class="built_in">NSIndexPath</span> indexPathForRow:i inSection:<span class="number">0</span>];</span><br><span class="line">        [attributes addObject:[<span class="keyword">self</span> layoutAttributesForItemAtIndexPath:indexPath]];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> attributes;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  æ ¹æ®ä¸åŒçš„indexPathï¼Œç»™å‡ºå¸ƒå±€</span><br><span class="line"> *</span><br><span class="line"> *  @param indexPath</span><br><span class="line"> *</span><br><span class="line"> *  @return å¸ƒå±€</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="built_in">UICollectionViewLayoutAttributes</span> *)layoutAttributesForItemAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</span><br><span class="line">    <span class="comment">// è·å–ä»£ç†ä¸­è¿”å›çš„æ¯ä¸€ä¸ªcellçš„å¤§å°</span></span><br><span class="line">    <span class="built_in">CGSize</span> itemSize = [<span class="keyword">self</span><span class="variable">.layoutDelegate</span> collectionView:<span class="keyword">self</span><span class="variable">.collectionView</span> collectionViewLayout:<span class="keyword">self</span> sizeOfItemAtIndexPath:indexPath];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é˜²æ­¢ä»£ç†ä¸­ç»™çš„size.widthå¤§äº(æˆ–å°äº)layoutä¸­å®šä¹‰çš„widthï¼Œæ‰€ä»¥ç­‰æ¯”ä¾‹ç¼©æ”¾size</span></span><br><span class="line">    <span class="built_in">CGFloat</span> itemHeight = itemSize<span class="variable">.height</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UICollectionViewLayoutAttributes</span> *attributes = [<span class="built_in">UICollectionViewLayoutAttributes</span> layoutAttributesForCellWithIndexPath:indexPath];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ¤æ–­å½“å‰çš„itemåº”è¯¥åœ¨å·¦ä¾§è¿˜æ˜¯å³ä¾§</span></span><br><span class="line">    <span class="built_in">BOOL</span> isLeft = _leftY &lt; _rightY;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (isLeft) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">CGFloat</span> x = _insert; <span class="comment">// xè½´èµ·å§‹ä½ç½®ä¸º0</span></span><br><span class="line">        attributes<span class="variable">.frame</span> = <span class="built_in">CGRectMake</span>(x, _leftY, _itemWidth, itemHeight);</span><br><span class="line">        _leftY += itemHeight + <span class="number">2</span> * _insert; <span class="comment">// è®¾ç½®æ–°çš„Yèµ·ç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (!isLeft) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">CGFloat</span> x = _itemWidth + <span class="number">3</span> * _insert;</span><br><span class="line">        attributes<span class="variable">.frame</span> = <span class="built_in">CGRectMake</span>(x, _rightY, _itemWidth, itemHeight);</span><br><span class="line">        _rightY += itemHeight + <span class="number">2</span> * _insert;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> attributes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å®ç°äº†è¿™äº›å‡½æ•°ï¼Œç€‘å¸ƒæµå°±å®ç°å¥½äº†ã€‚å…¶ä¸­çš„å…³é”®åœ¨äºå–åˆ°æ¯ä¸ªcellçš„å¤§å°ï¼Œç„¶ålayoutAttributesForItemAtIndexPathè¿™ä¸ªå‡½æ•°ä¼šè®¡ç®—æ¯ä¸ªcellçš„frameï¼Œä¹Ÿå°±æ˜¯cellçš„ä½ç½®ï¼Œæ¥è§£å†³flowlayoutåŒè¡Œcellå±…ä¸­å¯¹é½çš„é—®é¢˜ã€‚</p>
<h3 id="ç”¨masonryè‡ªå®šä¹‰cellå¸ƒå±€ï¼Œå¹¶å®ç°è‡ªåŠ¨è®¡ç®—é«˜åº¦">ç”¨masonryè‡ªå®šä¹‰cellå¸ƒå±€ï¼Œå¹¶å®ç°è‡ªåŠ¨è®¡ç®—é«˜åº¦</h3><p>1.è®¾ç½®autolayoutå¸ƒå±€<br>cellå¸ƒå±€é«˜åº¦ä¹‹æ‰€ä»¥ä¸ä¸€æ ·ï¼Œæ˜¯å› ä¸ºæœ‰è¡Œæ•°ä¸º0çš„labelã€‚è‡ªåŠ¨è®¡ç®—cellçš„å…³é”®æœ‰3æ­¥ï¼Œé¦–å…ˆç”¨masonryå®šä¹‰å¥½å¸ƒå±€ï¼Œè¦æ±‚å¾—é«˜åº¦ï¼Œæ¯ä¸ªç©ºé—´çš„ä¸Šä¸‹çº¦æŸå¿…é¡»å®Œæ•´ï¼Œä¹Ÿå°±æ˜¯è¯´æœ€ä¸Šé¢æ§ä»¶çš„topï¼Œæœ€ä¸‹é¢æ§ä»¶çš„bottomï¼Œè¿˜æœ‰å„ä¸ªæ§ä»¶ä¸­é—´çš„é—´è·éƒ½éœ€è¦å®šä¹‰ã€‚è¯·çœ‹ä»£ç ã€‚<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)setupUI</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">CGFloat</span> natureOffset = <span class="number">8.</span>f;	<span class="comment">//è‹¹æœå»ºè®®çš„æ§ä»¶é—´è·</span></span><br><span class="line">    <span class="keyword">self</span><span class="variable">.dummyView</span> = [[<span class="built_in">UIView</span> alloc] init];</span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.contentView</span> addSubview:<span class="keyword">self</span><span class="variable">.dummyView</span>];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.dummyView</span><span class="variable">.backgroundColor</span> = [<span class="built_in">UIColor</span> whiteColor];</span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.dummyView</span> mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">        make<span class="variable">.edges</span><span class="variable">.equalTo</span>(<span class="keyword">self</span><span class="variable">.contentView</span>);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span><span class="variable">.dummyView</span><span class="variable">.layer</span><span class="variable">.cornerRadius</span> = cornerRadius;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.dummyView</span><span class="variable">.layer</span><span class="variable">.masksToBounds</span> = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIView</span> *superView = <span class="keyword">self</span><span class="variable">.dummyView</span>;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.pic</span> = [[<span class="built_in">UIImageView</span> alloc] init];</span><br><span class="line">    [superView addSubview:<span class="keyword">self</span><span class="variable">.pic</span>];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.contentView</span> mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">        make<span class="variable">.width</span><span class="variable">.equalTo</span>(@((SCREEN_WIDTH - <span class="number">20</span>) / <span class="number">2.</span>f));</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.pic</span> mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">        make<span class="variable">.top</span><span class="variable">.equalTo</span>(superView<span class="variable">.mas_top</span>);	<span class="comment">// æœ€ä¸Šé¢æ§ä»¶çš„top</span></span><br><span class="line">        make<span class="variable">.left</span><span class="variable">.equalTo</span>(superView<span class="variable">.mas_left</span>);</span><br><span class="line">        make<span class="variable">.right</span><span class="variable">.equalTo</span>(superView<span class="variable">.mas_right</span>);</span><br><span class="line">        make<span class="variable">.height</span><span class="variable">.equalTo</span>(superView<span class="variable">.mas_width</span>)<span class="variable">.multipliedBy</span>(<span class="number">4.0</span> / <span class="number">3.0</span>);</span><br><span class="line">    &#125;];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.pic</span><span class="variable">.userInteractionEnabled</span> = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">CGFloat</span> avatarOffset = <span class="number">8</span>;</span><br><span class="line">    <span class="built_in">CGFloat</span> avatarSize = <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.avatar</span> = [[<span class="built_in">UIImageView</span> alloc] init];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.avatar</span><span class="variable">.image</span> = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"touch_focus"</span>];</span><br><span class="line">    [superView addSubview:<span class="keyword">self</span><span class="variable">.avatar</span>];</span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.avatar</span> mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">        make<span class="variable">.left</span><span class="variable">.equalTo</span>(superView<span class="variable">.mas_left</span>)<span class="variable">.offset</span>(avatarOffset);</span><br><span class="line">        make<span class="variable">.top</span><span class="variable">.equalTo</span>(<span class="keyword">self</span><span class="variable">.pic</span><span class="variable">.mas_bottom</span>)<span class="variable">.offset</span>(avatarOffset);</span><br><span class="line">        make<span class="variable">.width</span><span class="variable">.equalTo</span>(@(avatarSize));</span><br><span class="line">        make<span class="variable">.height</span><span class="variable">.equalTo</span>(@(avatarSize));</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span><span class="variable">.name</span> = [[<span class="built_in">UILabel</span> alloc] init];</span><br><span class="line">    [superView addSubview:<span class="keyword">self</span><span class="variable">.name</span>];</span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.name</span> mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">        make<span class="variable">.left</span><span class="variable">.equalTo</span>(<span class="keyword">self</span><span class="variable">.avatar</span><span class="variable">.mas_right</span>)<span class="variable">.offset</span>(natureOffset);</span><br><span class="line">        make<span class="variable">.right</span><span class="variable">.equalTo</span>(superView<span class="variable">.mas_right</span>)<span class="variable">.offset</span>(-natureOffset);</span><br><span class="line">        make<span class="variable">.centerY</span><span class="variable">.equalTo</span>(<span class="keyword">self</span><span class="variable">.avatar</span><span class="variable">.mas_centerY</span>);</span><br><span class="line">    &#125;];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.name</span><span class="variable">.numberOfLines</span> = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.name</span><span class="variable">.font</span> = [<span class="built_in">UIFont</span> boldSystemFontOfSize:<span class="number">14</span>];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.name</span><span class="variable">.textColor</span> = [<span class="built_in">UIColor</span> colorWithRed:<span class="number">66</span> / <span class="number">255.</span>f green:<span class="number">66</span> / <span class="number">255.</span>f blue:<span class="number">66</span> / <span class="number">255.</span>f alpha:<span class="number">1.0</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span><span class="variable">.signature</span> = [[<span class="built_in">UILabel</span> alloc] init];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.signature</span><span class="variable">.numberOfLines</span> = <span class="number">0</span>;	<span class="comment">//å¤šè¡Œlabel</span></span><br><span class="line">    <span class="keyword">self</span><span class="variable">.signature</span><span class="variable">.lineBreakMode</span> = <span class="built_in">NSLineBreakByWordWrapping</span>;</span><br><span class="line">    [superView addSubview:<span class="keyword">self</span><span class="variable">.signature</span>];</span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.signature</span> mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">        make<span class="variable">.top</span><span class="variable">.equalTo</span>(<span class="keyword">self</span><span class="variable">.name</span><span class="variable">.mas_bottom</span>)<span class="variable">.offset</span>(avatarOffset);</span><br><span class="line">        make<span class="variable">.left</span><span class="variable">.equalTo</span>(<span class="keyword">self</span><span class="variable">.name</span><span class="variable">.mas_left</span>);</span><br><span class="line">        make<span class="variable">.right</span><span class="variable">.equalTo</span>(<span class="keyword">self</span><span class="variable">.name</span><span class="variable">.mas_right</span>);</span><br><span class="line">        make<span class="variable">.bottom</span><span class="variable">.equalTo</span>(superView<span class="variable">.mas_bottom</span>)<span class="variable">.offset</span>(-natureOffset);	<span class="comment">// æœ€ä¸‹é¢æ§ä»¶çš„bottom</span></span><br><span class="line">    &#125;];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.signature</span><span class="variable">.font</span> = [<span class="built_in">UIFont</span> systemFontOfSize:<span class="number">12</span>];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.signature</span><span class="variable">.textColor</span> = [<span class="built_in">UIColor</span> colorWithRed:<span class="number">117</span> / <span class="number">255.</span>f green:<span class="number">117</span> / <span class="number">255.</span>f blue:<span class="number">117</span> / <span class="number">255.</span>f alpha:<span class="number">1.0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>2.é‡å†™intrinsicSizeè¿”å›cellçš„å¤§å°<br>è¯·çœ‹ä»£ç </p>
<ul>
<li>(CGSize)intrinsicContentSize<br>{<br>  CGFloat desiredHeight = [self.contentView systemLayoutSizeFittingSize:UILayoutFittingCompressedSize].height;<br>  CGSize size = CGSizeMake((SCREEN_WIDTH - 20) / 2.f, desiredHeight);<br>  return size;<br>}<br>åªéœ€è¦systemLayoutSizeFittingSizeè¿™ä¸ªå‡½æ•°å°±å¯ä»¥å¾—åˆ°cellçš„é«˜åº¦ï¼Œå°±ä¸ç”¨ç®—frameäº†ã€‚</li>
</ul>
<p>åˆ°è¿™é‡Œç€‘å¸ƒæµå¸ƒå±€å°±å®ç°äº†ï¼Œåªéœ€è¦å¾ˆå°‘çš„ä»£ç ï¼Œæ˜¯ä¸æ˜¯å¾ˆèµã€‚</p>
<h3 id="æ·»åŠ dummyviewæ¥å®ç°åœ†è§’å’Œé˜´å½±å…±å­˜">æ·»åŠ dummyviewæ¥å®ç°åœ†è§’å’Œé˜´å½±å…±å­˜</h3><p>é—®é¢˜ï¼šä¸ºä»€ä¹ˆåœ†è§’å’Œé˜´å½±ä¸èƒ½å…±å­˜ã€‚<br>ç­”æ¡ˆï¼šå¦‚æœè¦è®¾ç½®åœ†è§’ï¼Œå¿…é¡»è®¾ç½®layerçš„masktobounds = YES; ä½†æ˜¯è®¾ç½®è¿™ä¸ªå±æ€§ä¼šå¯¼è‡´é˜´å½±ä¸èƒ½ç»˜åˆ¶ã€‚å› ä¸ºmasktoboundsçš„æ„æ€å°±æ˜¯åˆ‡æ‰layerå¤–é¢çš„å†…å®¹ã€‚stackoverflowä¸Šç»™å‡ºçš„è§£å†³åŠæ³•æ˜¯æŠŠåœ†è§’è®¾ç½®åœ¨cellçš„ä¸ç”¨çš„viewä¸Šï¼Œæ¯”å¦‚åœ†è§’è®¾ç½®åœ¨contentviewçš„layerä¸Šï¼Œé˜´å½±è®¾ç½®åœ¨selfçš„layerä¸Šã€‚æˆ‘è¯•äº†ä¸åŒçš„ç»„åˆï¼Œéƒ½æ²¡æœ‰ç”Ÿæ•ˆã€‚æ‰€ä»¥å†³å®šåœ¨cellä¸ŠåŠ ä¸€ä¸ªåŒæ ·å¤§å°çš„dummyviewï¼Œåœ¨dummyviewä¸Šè®¾ç½®åœ†è§’ã€‚åœ¨self.layerä¸Šè®¾ç½®é˜´å½±ã€‚è¯·çœ‹ä»£ç ã€‚<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span><span class="variable">.dummyView</span> = [[<span class="built_in">UIView</span> alloc] init];	<span class="comment">//åœ¨dummyviewä¸Šè®¾ç½®åœ†è§’</span></span><br><span class="line">[<span class="keyword">self</span><span class="variable">.contentView</span> addSubview:<span class="keyword">self</span><span class="variable">.dummyView</span>];</span><br><span class="line"><span class="keyword">self</span><span class="variable">.dummyView</span><span class="variable">.backgroundColor</span> = [<span class="built_in">UIColor</span> whiteColor];</span><br><span class="line">[<span class="keyword">self</span><span class="variable">.dummyView</span> mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make<span class="variable">.edges</span><span class="variable">.equalTo</span>(<span class="keyword">self</span><span class="variable">.contentView</span>);</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"><span class="keyword">self</span><span class="variable">.dummyView</span><span class="variable">.layer</span><span class="variable">.cornerRadius</span> = cornerRadius;</span><br><span class="line"><span class="keyword">self</span><span class="variable">.dummyView</span><span class="variable">.layer</span><span class="variable">.masksToBounds</span> = <span class="literal">YES</span>;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)layoutSubviews</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> layoutSubviews];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.layer</span><span class="variable">.cornerRadius</span> = cornerRadius;	<span class="comment">//åœ¨self.layerä¸Šè®¾ç½®é˜´å½±</span></span><br><span class="line">    <span class="keyword">self</span><span class="variable">.layer</span><span class="variable">.shadowColor</span> = [<span class="built_in">UIColor</span> darkGrayColor]<span class="variable">.CGColor</span>;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.layer</span><span class="variable">.masksToBounds</span> = <span class="literal">NO</span>;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.layer</span><span class="variable">.shadowOffset</span> = <span class="built_in">CGSizeMake</span>(<span class="number">1</span>, <span class="number">3.0</span>f);</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.layer</span><span class="variable">.shadowRadius</span> = cornerRadius;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.layer</span><span class="variable">.shadowOpacity</span> = <span class="number">0.75</span>f;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.layer</span><span class="variable">.shadowPath</span> = [<span class="built_in">UIBezierPath</span> bezierPathWithRoundedRect:<span class="keyword">self</span><span class="variable">.bounds</span> cornerRadius:cornerRadius]<span class="variable">.CGPath</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆè¦åœ¨layoutSubviewsä¸­è®¾ç½®é˜´å½±å‘¢ï¼Œå› ä¸ºåœ¨initçš„æ—¶å€™è®¾ç½®æœ‰çš„cellçš„é˜´å½±ä¼šè·‘åï¼Œæˆ‘è¯•äº†ä¸‹åœ¨layoutSubviewsä¸­è®¾ç½®é˜´å½±ï¼Œå‘ç°å¯ä»¥ã€‚ä½†å…·ä½“ä¸ºä»€ä¹ˆæš‚æ—¶ä¸çŸ¥é“ã€‚</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2><p>ä»¥ä¸Šå°±æ˜¯åœ¨ç”¨collectionviewçš„ä¸€ç‚¹å¿ƒå¾—ã€‚<br>1.è‡ªå®šä¹‰collectionviewçš„layoutå®ç°ç€‘å¸ƒæµ<br>2.ç”¨masonryå®ç°autolayoutï¼Œå¹¶è®¡ç®—cellçš„é«˜åº¦<br>3.é˜´å½±å’Œåœ†è§’å¹¶å­˜</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>æœ€è¿‘é¡¹ç›®ä¸­è¦ç”¨UICollectionViewå®ç°ç€‘å¸ƒæµï¼Œå…¶ä¸­é‡åˆ°äº†å‡ ä¸ªé—®é¢˜ï¼Œåœ¨æ­¤åšä¸€ä¸‹æ€»ç»“ã€‚</p>
<h2 id="é¡¹ç›®éœ€æ±‚ï¼š">é¡¹ç›®éœ€æ±‚ï¼š</h2><p>1.ç€‘å¸ƒæµéœ€æ±‚ã€‚å¦‚æœé‡‡ç”¨è‡ªå¸¦çš„flowlayoutï¼ŒåŒä¸€è¡Œçš„cellè™½ç„¶å¤§å°ä¸ä¸€è‡´ï¼Œä½†ä¼šå±…ä¸­å¯¹é½ï¼Œä¸ç¬¦åˆéœ€æ±‚ã€‚<br>2.cellä¸­åœ†è§’å’Œé˜´å½±å…±å­˜ã€‚</p>
<p>è¯·çœ‹æ•ˆæœå›¾<br><img src="/images/uicollectionview/uicollectionview.gif" alt="ç€‘å¸ƒæµæ•ˆæœå›¾"></p>]]>
    
    </summary>
    
      <category term="iOS" scheme="http://devliu.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[iOSåœ¨è·å–ç”¨æˆ·çš„ä½ç½®æˆæƒä¹‹åï¼Œåšä¸€äº›äº‹æƒ…]]></title>
    <link href="http://devliu.com/2015/04/26/ios%E5%9C%A8%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E7%9A%84%E4%BD%8D%E7%BD%AE%E6%8E%88%E6%9D%83%E4%B9%8B%E5%90%8E%EF%BC%8C%E5%81%9A%E4%B8%80%E4%BA%9B%E4%BA%8B%E6%83%85/"/>
    <id>http://devliu.com/2015/04/26/iosåœ¨è·å–ç”¨æˆ·çš„ä½ç½®æˆæƒä¹‹åï¼Œåšä¸€äº›äº‹æƒ…/</id>
    <published>2015-04-25T16:07:37.000Z</published>
    <updated>2015-04-25T16:10:19.000Z</updated>
    <content type="html"><![CDATA[<p>åœ¨åšå¤©æ°”æ¨¡å—æ—¶ï¼Œéœ€è¦è·å–ç”¨æˆ·çš„ä½ç½®æˆæƒï¼Œåœ¨è·å–å®Œæƒé™åï¼Œæˆ‘ä»¬éœ€è¦è§£ç åŸå¸‚ï¼Œç„¶åå»æœåŠ¡å™¨è¯·æ±‚å¤©æ°”ä¿¡æ¯<br>1.è·å–æˆæƒåè¯·æ±‚å¤©æ°”<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)locationManager:(CLLocationManager *)manager didChangeAuthorizationStatus:(CLAuthorizationStatus)status</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (status == kCLAuthorizationStatusAuthorizedAlways || status == kCLAuthorizationStatusAuthorizedWhenInUse) &#123;</span><br><span class="line">        [[<span class="built_in">NSNotificationCenter</span> defaultCenter] postNotificationName:kLocationManagerAuthorizationStatusChangeNotification object:<span class="literal">nil</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>2.è§£ç åŸå¸‚<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation &#123;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.location2D</span> = newLocation<span class="variable">.coordinate</span>;</span><br><span class="line">    [PersistenceHelper setData:@(<span class="keyword">self</span><span class="variable">.location2D</span><span class="variable">.latitude</span>) forKey:LAT];</span><br><span class="line">    [PersistenceHelper setData:@(<span class="keyword">self</span><span class="variable">.location2D</span><span class="variable">.longitude</span>) forKey:LONG];</span><br><span class="line">    CLGeocoder * geoCoder = [[CLGeocoder alloc] init];</span><br><span class="line">    [geoCoder reverseGeocodeLocation:newLocation completionHandler:^(<span class="built_in">NSArray</span> *placemarks, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line">        <span class="keyword">for</span> (CLPlacemark * placemark <span class="keyword">in</span> placemarks) &#123;</span><br><span class="line">            <span class="built_in">NSString</span> *city = placemark<span class="variable">.administrativeArea</span>;</span><br><span class="line">            <span class="keyword">if</span> ([city hasSuffix:<span class="string">@"å¸‚"</span>]) &#123;</span><br><span class="line">                city = [city substringToIndex:city<span class="variable">.length</span>-<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (city<span class="variable">.length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">self</span><span class="variable">.cityName</span> = city;</span><br><span class="line">                [PersistenceHelper setData:city forKey:<span class="built_in">CITY</span>];</span><br><span class="line">                [[<span class="built_in">NSNotificationCenter</span> defaultCenter] postNotificationName:kLocationManagerAuthorizationStatusChangeNotification object:<span class="literal">nil</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    [manager stopUpdatingLocation];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>åœ¨åšå¤©æ°”æ¨¡å—æ—¶ï¼Œéœ€è¦è·å–ç”¨æˆ·çš„ä½ç½®æˆæƒï¼Œåœ¨è·å–å®Œæƒé™åï¼Œæˆ‘ä»¬éœ€è¦è§£ç åŸå¸‚ï¼Œç„¶åå»æœåŠ¡å™¨è¯·æ±‚å¤©æ°”ä¿¡æ¯<br>1.è·å–æˆæƒåè¯·æ±‚å¤©æ°”<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><sp]]>
    </summary>
    
      <category term="iOS" scheme="http://devliu.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[reactivecocoaç”¨æ³•å°è®°]]></title>
    <link href="http://devliu.com/2015/04/25/reactivecocoa%E7%94%A8%E6%B3%95%E5%B0%8F%E8%AE%B0/"/>
    <id>http://devliu.com/2015/04/25/reactivecocoaç”¨æ³•å°è®°/</id>
    <published>2015-04-25T15:51:46.000Z</published>
    <updated>2015-04-25T16:04:31.000Z</updated>
    <content type="html"><![CDATA[<p>1.ç»‘å®šUIå…ƒç´ å’Œæ•°æ®<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RAC(<span class="keyword">self</span>, city<span class="variable">.text</span>) = RACObserve(<span class="keyword">self</span>, weatherModel<span class="variable">.city_name</span>);</span><br></pre></td></tr></table></figure></p>
<p>2.è§‚å¯Ÿæ•°æ®ï¼Œæ•°æ®å˜åŒ–æ—¶åšä¸‹ä¸€æ­¥æ“ä½œ<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[RACObserve(<span class="keyword">self</span>, weizhangData<span class="variable">.zongmoney</span>) subscribeNext:^(<span class="built_in">NSNumber</span> *zongmoney) &#123;</span><br><span class="line">    <span class="keyword">if</span> (zongmoney) &#123;</span><br><span class="line">        <span class="built_in">NSString</span> *string = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@%@å…ƒ"</span>, <span class="string">@"ç½šæ¬¾ï¼š"</span>, zongmoney];</span><br><span class="line">        <span class="built_in">NSMutableAttributedString</span> *attrString = [[<span class="built_in">NSMutableAttributedString</span> alloc] initWithString:string];</span><br><span class="line">        <span class="built_in">UIColor</span> *color = [<span class="built_in">UIColor</span> redColor]; <span class="comment">// select needed color</span></span><br><span class="line">        <span class="built_in">NSDictionary</span> *attrs = @&#123;<span class="built_in">NSForegroundColorAttributeName</span>: color&#125;;</span><br><span class="line">        [attrString addAttributes:attrs range:[string rangeOfString:[zongmoney stringValue]]];</span><br><span class="line">        <span class="keyword">self</span><span class="variable">.penalty</span><span class="variable">.attributedText</span> = attrString;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
<p>3.uibutton è®¾ç½®äº‹ä»¶<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="keyword">self</span><span class="variable">.askBtn</span> rac_signalForControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>] subscribeNext:^(<span class="keyword">id</span> x) &#123;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">self</span><span class="variable">.delegate</span> respondsToSelector:<span class="keyword">@selector</span>(addCarTextCellAskPress:)]) &#123;</span><br><span class="line">        [<span class="keyword">self</span><span class="variable">.delegate</span> addCarTextCellAskPress:<span class="keyword">self</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
<p>4.æ£€æµ‹nsuserdefault<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[[<span class="built_in">NSUserDefaults</span> standardUserDefaults] rac_valuesForKeyPath:<span class="built_in">UID</span> observer:<span class="keyword">self</span>] subscribeNext:^(<span class="built_in">NSNumber</span> *uid) &#123;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.uid</span> = uid;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>1.ç»‘å®šUIå…ƒç´ å’Œæ•°æ®<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="cod]]>
    </summary>
    
      <category term="iOS" scheme="http://devliu.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[autolayoutä¸‹æ›´æ–°å¸ƒå±€æ–‡ä»¶æ—¶é‡‡ç”¨åŠ¨ç”»]]></title>
    <link href="http://devliu.com/2015/04/25/autolayout%E4%B8%8B%E6%9B%B4%E6%96%B0%E5%B8%83%E5%B1%80%E6%96%87%E4%BB%B6%E6%97%B6%E9%87%87%E7%94%A8%E5%8A%A8%E7%94%BB/"/>
    <id>http://devliu.com/2015/04/25/autolayoutä¸‹æ›´æ–°å¸ƒå±€æ–‡ä»¶æ—¶é‡‡ç”¨åŠ¨ç”»/</id>
    <published>2015-04-25T15:44:59.000Z</published>
    <updated>2015-04-25T15:49:21.000Z</updated>
    <content type="html"><![CDATA[<p>1.åœ¨IBä¸­æ‰¾åˆ°å¯¹åº”çš„constraints<br>2.æ”¹å˜è¿™ä¸ªconstraints<br>3.å¯¹ç›¸åº”çš„å…ƒç´ è°ƒç”¨ setNeedsUpdateConstraints<br>4.åœ¨åŠ¨ç”»ä¸­å¯¹è¯¥å…ƒç´ è°ƒç”¨ layoutIfNeeded</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)bindAd</span><br><span class="line">&#123;</span><br><span class="line">    [RACObserve(<span class="keyword">self</span>, adModel) subscribeNext:^(AdModel *ad) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ad) &#123;</span><br><span class="line">            <span class="keyword">self</span><span class="variable">.adBanner</span><span class="variable">.hidden</span> = <span class="literal">NO</span>;</span><br><span class="line">            <span class="keyword">self</span><span class="variable">.adBanner</span><span class="variable">.adModel</span> = ad;</span><br><span class="line">            <span class="keyword">self</span><span class="variable">.weatherIconTopSpace</span><span class="variable">.constant</span> = <span class="number">12</span> + <span class="built_in">CGRectGetHeight</span>(<span class="keyword">self</span><span class="variable">.adBanner</span><span class="variable">.frame</span>);</span><br><span class="line">            [<span class="keyword">self</span><span class="variable">.weatherIcon</span> setNeedsUpdateConstraints];</span><br><span class="line">            [<span class="built_in">UIView</span> animateWithDuration:<span class="number">0.3</span> animations:^&#123;</span><br><span class="line">                [<span class="keyword">self</span><span class="variable">.weatherIcon</span> layoutIfNeeded];</span><br><span class="line">            &#125;];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">self</span><span class="variable">.adBanner</span><span class="variable">.hidden</span> = <span class="literal">YES</span>;</span><br><span class="line">            <span class="built_in">CGFloat</span> topSpace = <span class="number">12</span>;</span><br><span class="line">            <span class="keyword">self</span><span class="variable">.weatherIconTopSpace</span><span class="variable">.constant</span> = topSpace;</span><br><span class="line">            [<span class="keyword">self</span><span class="variable">.weatherIcon</span> setNeedsUpdateConstraints];</span><br><span class="line">            [<span class="built_in">UIView</span> animateWithDuration:<span class="number">0.3</span> animations:^&#123;</span><br><span class="line">                [<span class="keyword">self</span><span class="variable">.weatherIcon</span> layoutIfNeeded];</span><br><span class="line">            &#125;];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œä½ å†æ”¹å˜æŸä¸ªconstraintçš„æ—¶å€™ï¼Œç›¸å…³çš„constraintsæ˜¯ä¼šè”åŠ¨çš„</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>1.åœ¨IBä¸­æ‰¾åˆ°å¯¹åº”çš„constraints<br>2.æ”¹å˜è¿™ä¸ªconstraints<br>3.å¯¹ç›¸åº”çš„å…ƒç´ è°ƒç”¨ setNeedsUpdateConstraints<br>4.åœ¨åŠ¨ç”»ä¸­å¯¹è¯¥å…ƒç´ è°ƒç”¨ layoutIfNeeded</p>
<figure class="hig]]>
    </summary>
    
      <category term="iOS" scheme="http://devliu.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[åœ¨autolayoutä¸‹å“åº”é”®ç›˜äº‹ä»¶]]></title>
    <link href="http://devliu.com/2015/04/25/%E5%9C%A8autolayout%E4%B8%8B%E5%93%8D%E5%BA%94%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6/"/>
    <id>http://devliu.com/2015/04/25/åœ¨autolayoutä¸‹å“åº”é”®ç›˜äº‹ä»¶/</id>
    <published>2015-04-25T15:37:18.000Z</published>
    <updated>2015-04-25T15:41:38.000Z</updated>
    <content type="html"><![CDATA[<p>åœ¨é”®ç›˜å‡ºç°æ—¶ï¼Œæœ‰çš„è¾“å…¥åœ°æ–¹ä¼šè¢«é®ç›–ä½ï¼Œè§£å†³åŠæ³•æ˜¯ç›‘å¬é”®ç›˜å‡ºç°å’Œæ¶ˆå¤±çš„å¹¿æ’­ï¼Œå¹¶è®¾ç½®viewçš„frameã€‚å¦‚æœæ˜¯tableviewï¼Œå¯ä»¥è®¾ç½®tableviewçš„contentinsetï¼Œè®©tableviewå¯ä»¥æ»šåŠ¨</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)registKeyboardNotify</span><br><span class="line">&#123;</span><br><span class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter] addObserverForName:<span class="built_in">UIKeyboardWillShowNotification</span> object:<span class="literal">nil</span> queue:<span class="literal">nil</span> usingBlock:^(<span class="built_in">NSNotification</span> *note) &#123;</span><br><span class="line">        <span class="keyword">id</span> _obj = [note<span class="variable">.userInfo</span> valueForKey:<span class="built_in">UIKeyboardFrameEndUserInfoKey</span>];</span><br><span class="line">        <span class="built_in">CGRect</span> _keyboardFrame = <span class="built_in">CGRectNull</span>;</span><br><span class="line">        <span class="keyword">if</span> ([_obj respondsToSelector:<span class="keyword">@selector</span>(getValue:)]) [_obj getValue:&amp;_keyboardFrame];</span><br><span class="line">        [<span class="built_in">UIView</span> animateWithDuration:<span class="number">0.25</span>f delay:<span class="number">0.</span>f options:<span class="built_in">UIViewAnimationOptionCurveEaseInOut</span> animations:^&#123;</span><br><span class="line">            [_tableView setContentInset:<span class="built_in">UIEdgeInsetsMake</span>(<span class="number">0.</span>f, <span class="number">0.</span>f, _keyboardFrame<span class="variable">.size</span><span class="variable">.height</span>, <span class="number">0.</span>f)];</span><br><span class="line">        &#125; completion:<span class="literal">nil</span>];</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter] addObserverForName:<span class="built_in">UIKeyboardWillHideNotification</span> object:<span class="literal">nil</span> queue:<span class="literal">nil</span> usingBlock:^(<span class="built_in">NSNotification</span> *note) &#123;</span><br><span class="line">        [<span class="built_in">UIView</span> animateWithDuration:<span class="number">0.25</span>f delay:<span class="number">0.</span>f options:<span class="built_in">UIViewAnimationOptionCurveEaseInOut</span> animations:^&#123;</span><br><span class="line">            [_tableView setContentInset:<span class="built_in">UIEdgeInsetsZero</span>];</span><br><span class="line">        &#125; completion:<span class="literal">nil</span>];</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    <summary type="html">
    <![CDATA[<p>åœ¨é”®ç›˜å‡ºç°æ—¶ï¼Œæœ‰çš„è¾“å…¥åœ°æ–¹ä¼šè¢«é®ç›–ä½ï¼Œè§£å†³åŠæ³•æ˜¯ç›‘å¬é”®ç›˜å‡ºç°å’Œæ¶ˆå¤±çš„å¹¿æ’­ï¼Œå¹¶è®¾ç½®viewçš„frameã€‚å¦‚æœæ˜¯tableviewï¼Œå¯ä»¥è®¾ç½®tableviewçš„contentinsetï¼Œè®©tableviewå¯ä»¥æ»šåŠ¨</p>
<figure class="highlight ob]]>
    </summary>
    
      <category term="iOS" scheme="http://devliu.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[è§£é‡Šä¸€ä¸‹kvoå’Œå¸¸ç”¨ä½¿ç”¨åœºæ™¯]]></title>
    <link href="http://devliu.com/2015/04/25/%E8%A7%A3%E9%87%8A%E4%B8%80%E4%B8%8Bkvo%E5%92%8C%E5%B8%B8%E7%94%A8%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/"/>
    <id>http://devliu.com/2015/04/25/è§£é‡Šä¸€ä¸‹kvoå’Œå¸¸ç”¨ä½¿ç”¨åœºæ™¯/</id>
    <published>2015-04-25T03:08:36.000Z</published>
    <updated>2015-04-25T04:06:53.000Z</updated>
    <content type="html"><![CDATA[<p>kvoï¼škey value observerï¼Œç¿»è¯‘æˆé”®å€¼è§‚å¯Ÿã€‚å…·ä½“æ˜¯è¯´å¯¹è±¡çš„å±æ€§åœ¨å‘ç”ŸæŸç§å˜åŒ–çš„æ—¶å€™ï¼Œå¦‚æœä½ å¯¹è¯¥å€¼å¾—å˜åŒ–è¿›è¡Œäº†æ³¨å†Œï¼Œå°±å¯ä»¥æ¥åˆ°ç›¸åº”çš„é€šçŸ¥ã€‚ä»è€Œå¯ä»¥è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>kvoï¼škey value observerï¼Œç¿»è¯‘æˆé”®å€¼è§‚å¯Ÿã€‚å…·ä½“æ˜¯è¯´å¯¹è±¡çš„å±æ€§åœ¨å‘ç”ŸæŸç§å˜åŒ–çš„æ—¶å€™ï¼Œå¦‚æœä½ å¯¹è¯¥å€¼å¾—å˜åŒ–è¿›è¡Œäº†æ³¨å†Œï¼Œå°±å¯ä»¥æ¥åˆ°ç›¸åº”çš„é€šçŸ¥ã€‚ä»è€Œå¯ä»¥è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚</p>
]]>
    </summary>
    
      <category term="iOS" scheme="http://devliu.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ä»€ä¹ˆæ˜¯å¤šæ€ï¼Œå¤šæ€åœ¨OCé‡Œé¢æ˜¯æ€ä¹ˆå®ç°çš„]]></title>
    <link href="http://devliu.com/2015/04/25/%E4%BB%80%E4%B9%88%E6%98%AF%E5%A4%9A%E6%80%81%EF%BC%8C%E5%A4%9A%E6%80%81%E5%9C%A8oc%E9%87%8C%E9%9D%A2%E6%98%AF%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0%E7%9A%84/"/>
    <id>http://devliu.com/2015/04/25/ä»€ä¹ˆæ˜¯å¤šæ€ï¼Œå¤šæ€åœ¨océ‡Œé¢æ˜¯æ€ä¹ˆå®ç°çš„/</id>
    <published>2015-04-25T02:28:51.000Z</published>
    <updated>2015-04-25T02:59:49.000Z</updated>
    <content type="html"><![CDATA[<p>å¤šæ€ï¼šä¸åŒçš„å¯¹è±¡å¯ä»¥å®šä¹‰ç›¸åŒåå­—çš„æ–¹æ³•</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">id</span> animal;</span><br><span class="line"></span><br><span class="line">Dog *dog = [[Dog alloc] init];</span><br><span class="line">Cat *cat = [[Cat alloc] init];</span><br><span class="line">animal = dog;</span><br><span class="line">[animal cry];</span><br><span class="line">animal = cat;</span><br><span class="line">[animal cry];</span><br></pre></td></tr></table></figure>
<p>animal æ˜¯idç±»å‹ï¼Œobjcä¸­æ¯ä¸€ä¸ªç±»éƒ½æœ‰ä¸€ä¸ªisaæŒ‡é’ˆï¼Œç”¨æ¥æŒ‡å‘è‡ªå·±æ‰€å±çš„ç±»å‹ã€‚å¯¹è±¡æ‰€å±çš„ç±»å‹ä¸»è¦è®°å½•äº†å¯¹è±¡çš„æ‰€æŒæœ‰çš„å˜é‡å’Œæ–¹æ³•ã€‚ç¨‹åºåœ¨è¿è¡Œæ—¶å¯¹è±¡æ ¹æ®æ–¹å‘è¡¨å’Œå˜é‡è¡¨å»æ‰¾å¯»å¯¹åº”çš„æ–¹æ³•ã€‚å¦‚æœæ‰¾ä¸åˆ°å°±ä¼šå¯¼è‡´å´©æºƒã€‚æ¯”å¦‚animalåœ¨æ‰§è¡Œcryæ–¹æ³•æ—¶ï¼Œå¦‚æœä»–æœ¬èº«æ˜¯dogç±»ï¼Œå°±ä¼šæ ¹æ®Dogç±»çš„æ–¹å‘è¡¨å»æ‰¾åˆ°dogçš„cryæ–¹æ³•ã€‚çŒ«æ˜¯ä¸€æ ·çš„é“ç†ã€‚</p>
<p>è¯´ç™½äº†è¿™é“é¢è¯•é¢˜ä¸»è¦è€ƒå¯Ÿé¢è¯•è€…å¯¹äºiOSè¿è¡Œæ—¶çš„ç†è§£ã€‚</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>å¤šæ€ï¼šä¸åŒçš„å¯¹è±¡å¯ä»¥å®šä¹‰ç›¸åŒåå­—çš„æ–¹æ³•</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="lin]]>
    </summary>
    
      <category term="iOS" scheme="http://devliu.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ä¿æŒè‰¯å¥½å¿ƒæ€]]></title>
    <link href="http://devliu.com/2014/08/06/%E4%BF%9D%E6%8C%81%E8%89%AF%E5%A5%BD%E5%BF%83%E6%80%81/"/>
    <id>http://devliu.com/2014/08/06/ä¿æŒè‰¯å¥½å¿ƒæ€/</id>
    <published>2014-08-05T16:16:23.000Z</published>
    <updated>2014-08-05T16:18:54.000Z</updated>
    <content type="html"><![CDATA[<h1 id="ä¿æŒè‰¯å¥½å¿ƒæ€">ä¿æŒè‰¯å¥½å¿ƒæ€</h1><h2 id="1-æ—©ç¡æ—©èµ·">1.æ—©ç¡æ—©èµ·</h2><h2 id="2-ä¿æŒå®¤å†…å’Œå·¥ä½œç¯å¢ƒçš„æ•´æ´ï¼Œæœ‰åº">2.ä¿æŒå®¤å†…å’Œå·¥ä½œç¯å¢ƒçš„æ•´æ´ï¼Œæœ‰åº</h2><h2 id="3-è®²ç©¶ä¸ªäººå«ç”Ÿ">3.è®²ç©¶ä¸ªäººå«ç”Ÿ</h2><h2 id="4-æŒºèƒ¸æŠ¬å¤´">4.æŒºèƒ¸æŠ¬å¤´</h2><h2 id="5-æ¯å¤©æ—©ä¸Šç»™è‡ªå·±ä¸€ä¸ªå¾®ç¬‘">5.æ¯å¤©æ—©ä¸Šç»™è‡ªå·±ä¸€ä¸ªå¾®ç¬‘</h2><h2 id="6-ä¸æŠ±æ€¨">6.ä¸æŠ±æ€¨</h2>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="ä¿æŒè‰¯å¥½å¿ƒæ€">ä¿æŒè‰¯å¥½å¿ƒæ€</h1><h2 id="1-æ—©ç¡æ—©èµ·">1.æ—©ç¡æ—©èµ·</h2><h2 id="2-ä¿æŒå®¤å†…å’Œå·¥ä½œç¯å¢ƒçš„æ•´æ´ï¼Œæœ‰åº">2.ä¿æŒå®¤å†…å’Œå·¥ä½œç¯å¢ƒçš„æ•´æ´ï¼Œæœ‰åº</h2><h2 id="3-è®²ç©¶ä¸ªäººå«ç”Ÿ">3.è®²ç©¶ä¸ªäººå«ç”Ÿ</h2><h2 id]]>
    </summary>
    
      <category term="life" scheme="http://devliu.com/tags/life/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[GCDå­¦ä¹ ç¬”è®°]]></title>
    <link href="http://devliu.com/2014/08/04/gcd%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://devliu.com/2014/08/04/gcdå­¦ä¹ ç¬”è®°/</id>
    <published>2014-08-04T13:21:20.000Z</published>
    <updated>2014-08-06T02:10:29.000Z</updated>
    <content type="html"><![CDATA[<h1 id="GCDå®šä¹‰">GCDå®šä¹‰</h1><h1 id="GCDæœ¯è¯­">GCDæœ¯è¯­</h1><h2 id="é¡ºåº_vs_å¹¶å‘_(serial_vs_concurrent)">é¡ºåº vs å¹¶å‘ (serial vs concurrent)</h2><h2 id="åŒæ­¥_vs_å¼‚æ­¥_(synchronous_vs_asynchronous)">åŒæ­¥ vs å¼‚æ­¥ (synchronous vs asynchronous)</h2><h2 id="å…³é”®åŒº_(critical_section)">å…³é”®åŒº (critical section)</h2><h2 id="ç«äº‰æ¡ä»¶_(race_condition)">ç«äº‰æ¡ä»¶ (race condition)</h2><h2 id="æ­»é”_(Deadlock)">æ­»é” (Deadlock)</h2><h2 id="çº¿ç¨‹å®‰å…¨_(Thread_safe)">çº¿ç¨‹å®‰å…¨ (Thread safe)</h2><h2 id="ä¸Šä¸‹æ–‡åˆ‡æ¢_(Context_switch)">ä¸Šä¸‹æ–‡åˆ‡æ¢ (Context switch)</h2><h2 id="dispatch_asyn_æŠŠè€—æ—¶å·¥ä½œæ”¾åˆ°å­çº¿ç¨‹">dispatch_asyn æŠŠè€—æ—¶å·¥ä½œæ”¾åˆ°å­çº¿ç¨‹</h2><h2 id="dispatch_after_å»¶æ—¶æ‰§è¡Œ">dispatch_after å»¶æ—¶æ‰§è¡Œ</h2><h2 id="dispatch_once_çº¿ç¨‹å®‰å…¨å•ä¾‹">dispatch_once çº¿ç¨‹å®‰å…¨å•ä¾‹</h2><h2 id="dispatch_barrier_è¯»è€…/å†™è€…é—®é¢˜">dispatch_barrier è¯»è€…/å†™è€…é—®é¢˜</h2><h2 id="dispatch_group">dispatch_group</h2><h2 id="semaphore">semaphore</h2><h2 id="dispatch_source">dispatch_source</h2><h2 id="dispatch_apply">dispatch_apply</h2>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="GCDå®šä¹‰">GCDå®šä¹‰</h1><h1 id="GCDæœ¯è¯­">GCDæœ¯è¯­</h1><h2 id="é¡ºåº_vs_å¹¶å‘_(serial_vs_concurrent)">é¡ºåº vs å¹¶å‘ (serial vs concurrent)</h2><h2 id="åŒæ­¥_vs]]>
    </summary>
    
      <category term="gcd" scheme="http://devliu.com/tags/gcd/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[XVimä»‹ç»]]></title>
    <link href="http://devliu.com/2014/08/01/xvim%E4%BB%8B%E7%BB%8D/"/>
    <id>http://devliu.com/2014/08/01/xvimä»‹ç»/</id>
    <published>2014-08-01T14:18:42.000Z</published>
    <updated>2014-08-03T06:29:09.000Z</updated>
    <content type="html"><![CDATA[<p>XVimæ˜¯Xcodeä¸‹çš„vimæ’ä»¶ï¼Œè€Œä¸”æ”¯æŒvimçš„å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œå–œæ¬¢vimçš„åŒå­¦ï¼Œç»å¯¹ä¸èƒ½é”™è¿‡è¿™ä¸ªæ’ä»¶ã€‚<br>ä¸‹é¢ç®€è¦ä»‹ç»ä¸€ä¸‹XVimçš„åŸºæœ¬åŠŸèƒ½ã€‚<br><a id="more"></a></p>
<h2 id="ç§»åŠ¨">ç§»åŠ¨</h2><h3 id="åŸºæœ¬">åŸºæœ¬</h3><p>h,j,k,l å·¦ï¼Œä¸Šï¼Œä¸‹ï¼Œå³</p>
<h3 id="ç§»åŠ¨è¯">ç§»åŠ¨è¯</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>w</td>
<td style="text-align:left">ç§»åˆ°ä¸‹ä¸€ä¸ªè¯çš„å¼€å¤´</td>
</tr>
<tr>
<td>W</td>
<td style="text-align:left">ç§»åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´</td>
</tr>
<tr>
<td>b</td>
<td style="text-align:left">ç§»åˆ°ä¸Šä¸€ä¸ªè¯çš„å¼€å¤´</td>
</tr>
<tr>
<td>B</td>
<td style="text-align:left">ç§»åˆ°ä¸Šä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´</td>
</tr>
<tr>
<td>e</td>
<td style="text-align:left">ç§»åˆ°ä¸‹ä¸€ä¸ªè¯çš„æœ«å°¾</td>
</tr>
<tr>
<td>E</td>
<td style="text-align:left">ç§»åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²çš„æœ«å°¾</td>
</tr>
<tr>
<td>f {char}</td>
<td style="text-align:left">å‘å³æ‰¾åˆ°char</td>
</tr>
<tr>
<td>F {char}</td>
<td style="text-align:left">å‘å·¦æ‰¾åˆ°char</td>
</tr>
<tr>
<td>t {char}</td>
<td style="text-align:left">å‘å·¦æ‰¾åˆ°charï¼Œå…‰æ ‡åœåœ¨charå·¦è¾¹</td>
</tr>
<tr>
<td>T {char}</td>
<td style="text-align:left">å‘å³æ‰¾åˆ°charï¼Œå…‰æ ‡åœåœ¨charå³è¾¹</td>
</tr>
<tr>
<td>;</td>
<td style="text-align:left">é‡å¤æœ€è¿‘çš„f, t, F, Tï¼Œå¯é‡å¤</td>
</tr>
<tr>
<td>,</td>
<td style="text-align:left">é‡å¤æœ€è¿‘çš„f, t, F, Tï¼Œå¯é‡å¤ï¼Œä½†æ˜¯ç›¸åæ–¹å‘</td>
</tr>
</tbody>
</table>
<h3 id="è¡Œå†…ç§»åŠ¨">è¡Œå†…ç§»åŠ¨</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td style="text-align:left">ç§»åˆ°è¡Œé¦–</td>
</tr>
<tr>
<td>^</td>
<td style="text-align:left">ç§»åˆ°ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦</td>
</tr>
<tr>
<td>$</td>
<td style="text-align:left">ç§»åˆ°è¡Œå°¾</td>
</tr>
</tbody>
</table>
<h3 id="æ®µè½ç§»åŠ¨">æ®µè½ç§»åŠ¨</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>{</td>
<td style="text-align:left">ç§»åˆ°ä¸Šä¸ªæ®µè½å¼€å¤´</td>
</tr>
<tr>
<td>}</td>
<td style="text-align:left">ç§»åˆ°ä¸‹ä¸ªæ®µè½å¼€å¤´</td>
</tr>
</tbody>
</table>
<h3 id="é¡µé¢ç§»åŠ¨">é¡µé¢ç§»åŠ¨</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>ctrl-f</td>
<td style="text-align:left">å‘ä¸‹ç§»åŠ¨ä¸€é¡µ</td>
</tr>
<tr>
<td>ctrl-b</td>
<td style="text-align:left">å‘ä¸Šç§»åŠ¨ä¸€é¡µ</td>
</tr>
<tr>
<td>ctrl-d</td>
<td style="text-align:left">å‘ä¸‹ç§»åŠ¨åŠé¡µ</td>
</tr>
<tr>
<td>ctrl-u</td>
<td style="text-align:left">å‘ä¸Šç§»åŠ¨åŠé¡µ</td>
</tr>
</tbody>
</table>
<h3 id="æ–‡ä»¶å†…ç§»åŠ¨">æ–‡ä»¶å†…ç§»åŠ¨</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>gg</td>
<td style="text-align:left">ç§»åˆ°æ–‡ä»¶å¤´</td>
</tr>
<tr>
<td>G</td>
<td style="text-align:left">ç§»åˆ°æ–‡ä»¶æœ«å°¾</td>
</tr>
</tbody>
</table>
<h3 id="æ’å…¥">æ’å…¥</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td style="text-align:left">å…‰æ ‡åæ’å…¥</td>
</tr>
<tr>
<td>A</td>
<td style="text-align:left">è¡Œåæ’å…¥</td>
</tr>
<tr>
<td>i</td>
<td style="text-align:left">å…‰æ ‡å¤„æ’å…¥</td>
</tr>
<tr>
<td>I</td>
<td style="text-align:left">è¡Œå‰æ’å…¥</td>
</tr>
<tr>
<td>o</td>
<td style="text-align:left">åœ¨å…‰æ ‡æ‰€åœ¨è¡Œä¸‹é¢æ–°èµ·ä¸€è¡Œï¼Œæ’å…¥</td>
</tr>
<tr>
<td>O</td>
<td style="text-align:left">åœ¨å…‰æ ‡æ‰€åœ¨è¡Œä¸Šé¢æ–°èµ·ä¸€è¡Œï¼Œæ’å…¥</td>
</tr>
</tbody>
</table>
<h3 id="åˆ é™¤">åˆ é™¤</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td style="text-align:left">åˆ é™¤å…‰æ ‡å¤„å­—ç¬¦</td>
</tr>
<tr>
<td>X</td>
<td style="text-align:left">åˆ é™¤å…‰æ ‡å‰å­—ç¬¦</td>
</tr>
<tr>
<td>dd</td>
<td style="text-align:left">åˆ é™¤å½“å‰è¡Œ</td>
</tr>
<tr>
<td>D</td>
<td style="text-align:left">ä»å…‰æ ‡åˆ é™¤è‡³è¡Œå°¾</td>
</tr>
</tbody>
</table>
<p>æ³¨æ„åœ¨visual æ¨¡å¼ä¸‹ï¼Œè¿™äº›åˆ é™¤æ“ä½œåŒæ ·å¯ä»¥ä½¿ç”¨</p>
<h3 id="ä¿®æ”¹_å’Œ_æ›¿æ¢">ä¿®æ”¹ å’Œ æ›¿æ¢</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>r{char}</td>
<td style="text-align:left">å°†å…‰æ ‡å¤„å­—ç¬¦æ›¿æ¢æˆchar</td>
<td>æ³¨é‡Šï¼š {}ä¸éœ€è¦è¾“å…¥</td>
</tr>
<tr>
<td>~</td>
<td style="text-align:left">æ”¹å˜å½“å‰å­—ç¬¦çš„å¤§å°å†™</td>
</tr>
<tr>
<td>g~{ç§»åŠ¨}</td>
<td style="text-align:left">æ”¹å˜ç§»åŠ¨èŒƒå›´å†…æ–‡å­—çš„å¤§å°å†™</td>
<td>æ³¨é‡Šï¼š {}ä¸éœ€è¦è¾“å…¥</td>
</tr>
<tr>
<td>{visual}~</td>
<td style="text-align:left">å¯è§†æ¨¡å¼æ”¹å˜é€‰ä¸­åŒºåŸŸçš„å¤§å°å†™</td>
<td>æ³¨é‡Šï¼š visual æ¨¡å¼ä¸‹</td>
</tr>
</tbody>
</table>
<h3 id="æ›¿æ¢">æ›¿æ¢</h3><p>:s/{pattern}/{string}/<br>:%s/{pattern}/{string}/g<br><strong>åœ¨æ–‡ä»¶èŒƒå›´å†…ï¼Œç”¨stringæ›¿æ¢patternã€‚%è¡¨ç¤ºæ‰€æœ‰è¡Œä¸­ï¼Œgæ›¿æ¢è¡Œä¸­æ‰€æœ‰åŒ¹é…ç‚¹ã€‚</strong><br>:{visual}/{pattern}/{string}    visual æ¨¡å¼ä¸‹æ›¿æ¢</p>
<h3 id="è·³è½¬_(Xcode_ç‰¹æœ‰)">è·³è½¬ (Xcode ç‰¹æœ‰)</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>ctrl-o, ctrl-i, gd</td>
<td style="text-align:left">è·³åˆ°å‡½æ•°å®šä¹‰</td>
</tr>
<tr>
<td>gd</td>
<td style="text-align:left">å½“å…‰æ ‡åœ¨æŸä¸ªæ–‡ä»¶å¤„æ—¶ï¼Œè·³åˆ°è¯¥æ–‡ä»¶</td>
</tr>
</tbody>
</table>
<h3 id="è¡Œè¿æ¥">è¡Œè¿æ¥</h3><p>J æ³¨é‡Šï¼šå¤§å†™</p>
<h3 id="æ’ç‰ˆ">æ’ç‰ˆ</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;&lt;</td>
<td style="text-align:left">å·¦ç§»ä¸€ä¸ªtab</td>
</tr>
<tr>
<td>&gt;&gt;</td>
<td style="text-align:left">å³ç§»ä¸€ä¸ªtab</td>
</tr>
<tr>
<td>=</td>
<td style="text-align:left">è‡ªåŠ¨æ’ç‰ˆ</td>
</tr>
</tbody>
</table>
<p><strong>æ–‡ä»¶å†…å…¨å±€æ’ç‰ˆ</strong><br>gg=G</p>
<h3 id="ç²˜è´´">ç²˜è´´</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>y{count}y</td>
<td style="text-align:left">å¤åˆ¶countè¡Œ</td>
</tr>
<tr>
<td>y{count}w</td>
<td style="text-align:left">å¤åˆ¶countè¯</td>
</tr>
<tr>
<td>p</td>
<td style="text-align:left">å…‰æ ‡åï¼ˆä¸‹ï¼‰ç²˜è´´</td>
</tr>
<tr>
<td>P</td>
<td style="text-align:left">å…‰æ ‡å‰ï¼ˆä¸Šï¼‰ç²˜è´´</td>
</tr>
</tbody>
</table>
<p><strong>ç”¨dæ“ä½œåˆ é™¤çš„å†…å®¹åŒæ ·å¯ä»¥ç”¨pç²˜è´´</strong></p>
<h3 id="ä¿®æ”¹">ä¿®æ”¹</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>cw</td>
<td style="text-align:left">åˆ é™¤å…‰æ ‡æ‰€åœ¨è¯ï¼Œå¹¶æ’å…¥</td>
</tr>
<tr>
<td>c^</td>
<td style="text-align:left">åˆ é™¤åˆ°è¡Œå‰ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œå¹¶æ’å…¥</td>
</tr>
<tr>
<td>c0</td>
<td style="text-align:left">åˆ é™¤åˆ°è¡Œå‰å¹¶æ’å…¥</td>
</tr>
<tr>
<td>c$</td>
<td style="text-align:left">åˆ é™¤åˆ°è¡Œå°¾å¹¶æ’å…¥</td>
</tr>
</tbody>
</table>
<h3 id="æ ‡è®°">æ ‡è®°</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>m{char}</td>
<td style="text-align:left">æ ‡è®°å…‰æ ‡å¤„çš„char</td>
</tr>
<tr>
<td>`{char}</td>
<td style="text-align:left">å›åˆ°æ ‡è®°å¤„</td>
</tr>
<tr>
<td>:marks</td>
<td style="text-align:left">åˆ—å‡ºæ‰€æœ‰æ ‡è®°</td>
</tr>
</tbody>
</table>
<h3 id="æŸ¥æ‰¾">æŸ¥æ‰¾</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>/{pattern}</td>
<td style="text-align:left">æŸ¥æ‰¾pattern</td>
</tr>
<tr>
<td>n / N</td>
<td style="text-align:left">å‘ä¸‹/ä¸ŠæŸ¥æ‰¾</td>
</tr>
</tbody>
</table>
<h3 id="å¯è§†æ¨¡å¼">å¯è§†æ¨¡å¼</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>ctrl-v</td>
<td style="text-align:left">çºµå‘å¯è§†æ¨¡å¼</td>
</tr>
<tr>
<td>shift-v</td>
<td style="text-align:left">æ¨ªå‘å¯è§†æ¨¡å¼</td>
</tr>
</tbody>
</table>
<h3 id="-_æ“ä½œç¬¦">. æ“ä½œç¬¦</h3><p>é‡å¤ä¸Šæ¬¡æ“ä½œ<br>æ¯”å¦‚ddä¹‹åï¼ŒæŒ‰.å°±ä¼šé‡å¤ddã€‚ä¸èƒ½é‡å¤ç§»åŠ¨æ“ä½œ</p>
<h3 id="å¸¸ç”¨æŠ€å·§">å¸¸ç”¨æŠ€å·§</h3><p>1.åœ¨è¡Œåæ’å…¥å­—ç¬¦<br>:s/$/{char}/g<br>2.åœ¨è¡Œå‰æ’å…¥å­—ç¬¦<br>:s/^/{char}/g<br>3.åˆ—æ¨¡å¼å¯è§†æ¨¡å¼ä¸‹ï¼Œæ’å…¥<br>ctrl-vé€‰ä¸­åˆ—æ¨¡å¼ï¼Œshift-iæ’å…¥å­—ç¬¦ï¼Œesc 3æ¬¡</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>XVimæ˜¯Xcodeä¸‹çš„vimæ’ä»¶ï¼Œè€Œä¸”æ”¯æŒvimçš„å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œå–œæ¬¢vimçš„åŒå­¦ï¼Œç»å¯¹ä¸èƒ½é”™è¿‡è¿™ä¸ªæ’ä»¶ã€‚<br>ä¸‹é¢ç®€è¦ä»‹ç»ä¸€ä¸‹XVimçš„åŸºæœ¬åŠŸèƒ½ã€‚<br>]]>
    
    </summary>
    
      <category term="Xcode" scheme="http://devliu.com/tags/Xcode/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ç¾¤è¾‰å…¥é—¨æ•™ç¨‹]]></title>
    <link href="http://devliu.com/2014/07/31/%E7%BE%A4%E8%BE%89%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"/>
    <id>http://devliu.com/2014/07/31/ç¾¤è¾‰å…¥é—¨æ•™ç¨‹/</id>
    <published>2014-07-31T13:52:43.000Z</published>
    <updated>2014-07-31T15:55:29.000Z</updated>
    <content type="html"><![CDATA[<p>å…ˆä¸Šå›¾ç‰‡ï¼Œæ¥è‡ªå®˜ç½‘ï¼Œæˆ‘è§‰å¾—æœºå­è¿˜æ˜¯å¾ˆæ¼‚äº®çš„ï¼Œç™½è‰²æœºèº«ï¼Œéå¸¸å¹²å‡€ã€‚<br><a id="more"></a><br><img src="!--ï¿¼0--&gt;/images/qunhui/001.jpg" alt="æ­£é¢å›¾"><br><img src="!--ï¿¼1--&gt;/images/qunhui/003.jpg" alt="ä¾§é¢å›¾"><br><img src="!--ï¿¼2--&gt;/images/qunhui/004.jpg" alt="èƒŒé¢å›¾"></p>
<h2 id="å®‰è£…æ­¥éª¤">å®‰è£…æ­¥éª¤</h2><p>å®‰è£…æ­¥éª¤å¾ˆç®€å•ï¼ŒæŠŠå¤–å£³æ‰“å¼€ï¼ŒæŠŠç¡¬ç›˜å¡è¿›å»ï¼Œç›–ä¸Šå¤–å£³å°±è¡Œäº†ã€‚æ³¨æ„åŒ…è£…é‡Œé¢æœ‰èºä¸ï¼Œæ˜¯ç”¨æ¥å›ºå®šç¡¬ç›˜ç”¨çš„ï¼Œä¸è¦å¿˜äº†ã€‚<br>å®‰è£…å®Œæ¯•åï¼Œç”¨ç½‘çº¿æ¥ä¸Šä½ çš„è·¯ç”±å™¨ï¼Œå¼€å¯ç¾¤è¾‰çš„ç”µæºï¼Œè¿™æ—¶å€™å°±å¯ä»¥åœ¨å±€åŸŸç½‘ä¸­çœ‹åˆ°äº†ã€‚</p>
<h2 id="è½¯ä»¶è®¾ç½®">è½¯ä»¶è®¾ç½®</h2><h3 id="1-åœ¨æµè§ˆå™¨ä¸­è¾“å…¥http://find-synology-com/ï¼Œå°±å¯ä»¥æ‰“å¼€è”æœºç¾¤è¾‰çš„é¡µé¢äº†ã€‚">1.åœ¨æµè§ˆå™¨ä¸­è¾“å…¥<a><a href="http://find.synology.com/" target="_blank" rel="external">http://find.synology.com/</a></a>ï¼Œå°±å¯ä»¥æ‰“å¼€è”æœºç¾¤è¾‰çš„é¡µé¢äº†ã€‚</h3><p><img src="!--ï¿¼3--&gt;/images/qunhui/connect.png" alt="è”æœºç•Œé¢"></p>
<h3 id="2-ç„¶åä¼šå‡ºç°ç™»å½•ç•Œé¢ï¼Œè¾“å…¥ä½ çš„ç”¨æˆ·åï¼Œå¯†ç å°±è¿›å…¥åˆ°ç¾¤è¾‰çš„æ§åˆ¶å°äº†ï¼ˆæš‚ä¸”å«æ§åˆ¶å°å§ï¼‰ã€‚">2.ç„¶åä¼šå‡ºç°ç™»å½•ç•Œé¢ï¼Œè¾“å…¥ä½ çš„ç”¨æˆ·åï¼Œå¯†ç å°±è¿›å…¥åˆ°ç¾¤è¾‰çš„æ§åˆ¶å°äº†ï¼ˆæš‚ä¸”å«æ§åˆ¶å°å§ï¼‰ã€‚</h3><p><img src="!--ï¿¼4--&gt;/images/qunhui/login.png" alt="ç™»å½•ç•Œé¢"><br><img src="!--ï¿¼5--&gt;/images/qunhui/control_panel.png" alt="æ§åˆ¶å°"></p>
<h3 id="3-é¦–å…ˆè¿›å…¥å¥—ä»¶ä¸­å¿ƒï¼Œä¸‹è½½å¿…é¡»çš„å¥—ä»¶">3.é¦–å…ˆè¿›å…¥å¥—ä»¶ä¸­å¿ƒï¼Œä¸‹è½½å¿…é¡»çš„å¥—ä»¶</h3><p><img src="!--ï¿¼6--&gt;/images/qunhui/widget_center.png" alt="å¥—ä»¶ä¸­å¿ƒ"><br>ç¾¤è¾‰æä¾›äº†è€å¤šè€å¤šçš„å¥—ä»¶ï¼Œå…ˆä»‹ç»å‡ ä¸ªç®€å•å¸¸ç”¨çš„ã€‚</p>
<h4 id="Download_station">Download station</h4><p>Download stationå’Œè¿…é›·çš„ç•Œé¢å·®ä¸å¤šï¼Œå¤§å®¶ä¸€ç”¨åº”è¯¥å°±æ˜ç™½äº†ï¼Œæœ‰ä¸€ä¸ªurlæ‰¹é‡ä¸‹è½½åŠŸèƒ½ï¼Œä½ åªéœ€è¦æŠŠè¦ä¸‹è½½çš„urlæ”¾å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åæ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼Œç¾¤è¾‰å°±ä¼šå…¨éƒ¨å¸®ä½ ä¸‹è½½ã€‚<br><img src="!--ï¿¼7--&gt;/images/qunhui/download_center.png" alt="ä¸‹è½½ä¸­å¿ƒ"><br><img src="!--ï¿¼8--&gt;/images/qunhui/download_center_urls.png" alt="ä¸‹è½½ä¸­å¿ƒ"></p>
<h4 id="File_station">File station</h4><p>File stationæ˜¯ç”¨æ¥ç®¡ç†ç¾¤ä¼šä¸Šçš„æ–‡ä»¶çš„ï¼Œæ“ä½œä¹Ÿå¾ˆç®€å•ï¼Œå¤åˆ¶ï¼Œç²˜è´´ï¼Œå‰ªåˆ‡ï¼Œå°±æ˜¯è¿™äº›åŸºæœ¬æ“ä½œã€‚ä»‹ç»ä¸€ä¸‹å¦‚ä½•å»ºç«‹å…±äº«æ–‡ä»¶å¤¹ï¼Œå…±äº«æ–‡ä»¶å¤¹æŒ‡çš„æ˜¯èƒ½åœ¨File stationæ ¹ç›®å½•ä¸­çœ‹è§çš„ã€‚<br>1.ç‚¹å‡»æ§åˆ¶é¢æ¿ï¼Œå…±äº«æ–‡ä»¶å¤¹<br><img src="!--ï¿¼9--&gt;/images/qunhui/share_folder.png" alt="å…±äº«æ–‡ä»¶å¤¹"><br>2.æ–°å¢ï¼Œç„¶åå–åå­—æ¯”å¦‚back_up<br><img src="!--ï¿¼10--&gt;/images/qunhui/back_up.png" alt="å…±äº«æ–‡ä»¶å¤¹"><br>3.æŒ‡å®šæƒé™ä¸ºè¯»å†™<br>è¿™æ—¶å€™åœ¨ä½ çš„File stationæ ¹ç›®å½•ä¸­å°±å¯ä»¥çœ‹è§back_upäº†ã€‚<br><img src="!--ï¿¼11--&gt;/images/qunhui/back_up_charge.png" alt="å…±äº«æ–‡ä»¶å¤¹"></p>
<h4 id="QuickConnect">QuickConnect</h4><p>å¯ä»¥ç”¨QuickConnectåŠŸèƒ½é€šè¿‡å¤–ç½‘é“¾æ¥ç¾¤è¾‰ã€‚æˆ‘è¯•äº†ä¸€ä¸‹å¤–éƒ¨è®¿é—®é‚£ä¸ªåŠŸèƒ½ï¼Œæ²¡æœ‰é…æˆåŠŸï¼Œå¯èƒ½ç”±äºDDNSæ²¡æœ‰å¤ªç†è§£ï¼Œæˆ–è€…ç¾¤è¾‰é‡Œé¢é‚£äº›DNSæä¾›å•†è¢«å¢™çš„åŸå› å§ã€‚QuickConnectä¸€æ¬¡æ€§å°±é…æˆåŠŸäº†ï¼Œåªéœ€è¦æ³¨å†Œä¸€ä¸ªè´¦å·å°±å¯ä»¥äº†ã€‚<br><img src="!--ï¿¼12--&gt;/images/qunhui/quick_connect.png" alt="Quick connect"></p>
<h4 id="Time_machine">Time machine</h4><p>ç¾¤è¾‰è‡ªå¸¦time machineåŠŸèƒ½ï¼Œå¯ä»¥è¯´æ˜¯æœç²‰ä¸å¯ç¼ºå°‘çš„åŠŸèƒ½äº†ã€‚ç”±äºå›¾æ–‡è¾ƒå¤šï¼Œå°±ä¸ä»‹ç»äº†ï¼Œ é…ç½®å¯å‚è€ƒå®˜æ–¹æ•™ç¨‹ã€‚<br><a href="http://www.synology.com/zh-tw/support/tutorials/481" target="_blank" rel="external">http://www.synology.com/zh-tw/support/tutorials/481</a><br>å¤§æ¦‚æ€è·¯å°±æ˜¯å»ºç«‹ä¸ªå…±äº«æ–‡ä»¶å¤¹ï¼Œç„¶ååˆ¶å®šç»™macä½œä¸ºtime machineçš„å¤‡ä»½ã€‚</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>å…ˆä¸Šå›¾ç‰‡ï¼Œæ¥è‡ªå®˜ç½‘ï¼Œæˆ‘è§‰å¾—æœºå­è¿˜æ˜¯å¾ˆæ¼‚äº®çš„ï¼Œç™½è‰²æœºèº«ï¼Œéå¸¸å¹²å‡€ã€‚<br>]]>
    
    </summary>
    
      <category term="ç¾¤è¾‰" scheme="http://devliu.com/tags/%E7%BE%A4%E8%BE%89/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[iOS æ€§èƒ½ä¼˜åŒ–]]></title>
    <link href="http://devliu.com/2014/04/10/ios-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    <id>http://devliu.com/2014/04/10/ios-æ€§èƒ½ä¼˜åŒ–/</id>
    <published>2014-04-10T13:06:08.000Z</published>
    <updated>2014-04-10T14:22:46.000Z</updated>
    <content type="html"><![CDATA[<a id="more"></a>
<h1 id="æ­¤æ–‡æ˜¯å¯¹ç½‘ç»œä¸Šä¸€äº›åšå®¢å’Œè‡ªå·±å¼€å‘ä¸­é‡åˆ°çš„æ€§èƒ½é—®é¢˜çš„æ€»ç»“ã€‚">æ­¤æ–‡æ˜¯å¯¹ç½‘ç»œä¸Šä¸€äº›åšå®¢å’Œè‡ªå·±å¼€å‘ä¸­é‡åˆ°çš„æ€§èƒ½é—®é¢˜çš„æ€»ç»“ã€‚</h1><h2 id="1-å¾ªç¯å¼•ç”¨">1.å¾ªç¯å¼•ç”¨</h2><p>åœ¨ä½¿ç”¨blockçš„æ—¶å€™ä¼šå‡ºç°å¼•ç”¨è®¡æ•°çš„é—®é¢˜ï¼Œåœ¨MRCå’ŒARCä¸‹åˆ†åˆ«ç”¨<strong>blockå’Œ</strong>weakæ¥æ¥è§¦å¾ªç¯å¼•ç”¨ï¼Œæˆ–è€…åœ¨blockæ‰§è¡Œç»“æŸä¹‹å‰ï¼Œå°†blockå¼•ç”¨çš„å¯¹è±¡èµ‹å€¼ä¸ºnilã€‚ä½†æœ‰æ—¶blockå±‚æ¬¡æ¯”è¾ƒæ·±ï¼Œç”¨static analysiså’Œinstrumentéƒ½æ£€æµ‹ä¸åˆ°ï¼Œè¿™æ—¶å€™æœ‰ä¸€ä¸ªç®€å•çš„åŠæ³•å°±æ˜¯åœ¨deallocä¸­æ‰“å°ä¸€æ¡è¯­å¥ï¼Œçœ‹çœ‹deallocæ˜¯å¦è°ƒç”¨å°±å¥½äº†ã€‚</p>
<h2 id="2-å›¾ç‰‡">2.å›¾ç‰‡</h2><p>å¸¸ç”¨ä¸”è¾ƒå°çš„å›¾ç‰‡å°±[UIImage imageNamed:@â€imageNameâ€]ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šæŠŠå›¾ç‰‡è¿›è¡Œç¼“å­˜ã€‚è€Œå¯¹äºé‚£äº›sizeæ¯”è¾ƒå¤§çš„å›¾ç‰‡ï¼Œä¸”ä½¿ç”¨æ¬¡æ•°å¾ˆå°‘æœ€å¥½ç”¨[[UIImage alloc] initWithContentsOfFile:@â€filePathâ€]ã€‚</p>
<h2 id="3-drawRect">3.drawRect</h2><p>å¯¹äºç»“æ„å¤æ‚çš„viewå¯ä»¥è€ƒè™‘ç”¨drawRectè¿›è¡Œç»˜åˆ¶ï¼Œè€Œä¸æ˜¯ä»nibè½½å…¥ã€‚drawRectæœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼šå³ä½¿åœ¨drawRectå‡½æ•°ä¸­æ²¡æœ‰ä»»ä½•ä»£ç å®ç°ï¼Œç³»ç»Ÿä¸€æ ·ä¼šåˆ›å»ºä¸€å¼ ç”»å¸ƒï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ—¶å€™ä½ ç™½ç™½çš„è€—è´¹äº†å†…å­˜ï¼Œæ‰€ä»¥åœ¨å†³å®šä¸è¿›è¡Œç»˜åˆ¶çš„æ—¶å€™ï¼Œåº”è¯¥æ³¨é‡Šæ‰è¿™ä¸ªå‡½æ•°ã€‚</p>
<h2 id="4-tableViewçš„ä¼˜åŒ–">4.tableViewçš„ä¼˜åŒ–</h2><p>éšç€snsåº”ç”¨çš„å¹¿æ³›å‘å±•ï¼ŒtableViewå˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œå¦‚æœä¸è¿›è¡Œä¼˜åŒ–ï¼ŒUIå°±ä¼šå¡é¡¿ã€‚å…³äºtableViewä¼˜åŒ–æˆ‘çš„ä¸€äº›ç»éªŒæ˜¯ï¼š</p>
<ol>
<li>è®¾ç½®cellçš„opaqueå±æ€§ï¼ŒåŠ å¿«ç³»ç»Ÿçš„é¢œè‰²ç»˜åˆ¶ã€‚</li>
<li>ç¼“å­˜cellé«˜åº¦ï¼Œæ¯”å¦‚æœ‹å‹åœˆè¿™ç§åº”ç”¨ï¼Œå¦‚æœæ¯æ¬¡éƒ½åœ¨heightForCellä¸­è®¡ç®—é«˜åº¦ï¼Œè‚¯å®šä¼šå¡ï¼Œæ‰€ä»¥åœ¨è¯»å–å®Œæ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨åå°çº¿ç¨‹ä¸­è®¡ç®—æ•°æ®æ‰€å¯¹åº”çš„é«˜åº¦ï¼Œå¹¶åœ¨modelä¸­å¢åŠ heightå­—æ®µç”¨æ¥ä¿ç•™heightã€‚åœ¨åº”ç”¨æ•°æ®åº“çš„æƒ…å†µä¸‹è¦å­˜å–heightã€‚</li>
<li>coretextä¼˜åŒ–ï¼Œåœ¨æ”¯æŒè‡ªå®šä¹‰è¡¨æƒ…çš„æ—¶å€™ï¼Œè¦åº”ç”¨æ­£åˆ™è¡¨è¾¾å¼ç®—å‡ºå¯¹åº”çš„attributedStringï¼Œå…¶ä¸­ç”¨ctrundelegateè®°å½•emojçš„å›¾ç‰‡ï¼Œé«˜åº¦ï¼Œå®½åº¦ç­‰ä¿¡æ¯ï¼Œç”¨æ¥åœ¨è‡ªå®šä¹‰labelä¸­è¿›è¡Œç»˜åˆ¶ï¼Œæ˜¾ç„¶åœ¨cellé‡ç”¨çš„è¿‡ç¨‹ä¸­é‡æ–°è®¡ç®—ä¸¥é‡å½±å“æ•ˆç‡ï¼Œæ‰€ä»¥ä¸€ç§è§£å†³åŠæ³•æ˜¯ï¼ŒmodelæŒæœ‰ä¸€ä¸ªè®°å½•attributedStringçš„ç±»Matchï¼Œè¯¥ç±»è®°å½•attributedStringå’Œheightç­‰ä¿¡æ¯ã€‚å½“æ•°æ®è¯»å–å®Œæ¯•ï¼Œä¸è®ºæ˜¯ä»ç½‘ä¸Šè¿˜æ˜¯æœ¬åœ°ï¼Œé¦–å…ˆåœ¨åå°çº¿ç¨‹ä¸­è®¡ç®—Matchçš„ç›¸å…³ä¿¡æ¯ï¼Œç„¶åå†å‰å°åˆ·æ–°ã€‚æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼Œåœ¨ä»æœ¬åœ°è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœåœ¨åå°æ›´æ–°å¥½ï¼Œåœ¨å›åˆ°ä¸»çº¿ç¨‹æ›´æ–°UIï¼Œä¼šå­˜åœ¨ä¸€å®šçš„å»¶æ—¶ï¼Œæˆ‘çš„è§£å†³åŠæ³•æ˜¯åœ¨ä¸»çº¿ç¨‹è®¡ç®—å‰5æ¡ä¿¡æ¯ï¼Œåœ¨åå°çº¿ç¨‹ä¸­åˆ†æ‰¹æ¬¡è®¡ç®—å¹¶åˆ·æ–°tableViewï¼Œä¸ºäº†ä¿æŒé¡ºåºï¼Œåå°çº¿ç¨‹ä½¿ç”¨serialQueueï¼Œç”¨dispatch_barrierè¿›è¡Œæ‰¹æ¬¡å¤„ç†ã€‚</li>
<li>imageViewçš„antialiasï¼ˆåé”¯é½¿ï¼‰ï¼Œå¦‚æœimageViewçš„å¤§å°å’Œä½¿ç”¨çš„imageå¤§å°ä¸ä¸€æ ·ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¿›è¡Œå‹ç¼©ï¼Œå¾ˆæ˜æ˜¾è¿™ä¼šæ¶ˆè€—ä¸€äº›æ—¶é—´ï¼Œæ‰€ä»¥æœ€å¥½æŠŠsizeå¼„æˆä¸€æ ·çš„ã€‚</li>
</ol>
<p>æ€»ç»“å°±æ˜¯ï¼Œå°½å¯èƒ½å¤šçš„ç¼“å­˜tableViewæ‰€éœ€çš„ä¸œè¥¿ã€‚</p>
<h2 id="5-autoreleasepool">5.autoreleasepool</h2><p>å…³äºautoreleaseçš„é‡Šæ”¾æ—¶æœºï¼Œæ¯æ¬¡runloopè¿è¡Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªautoreleasepoolï¼Œåœ¨è¿™æ¬¡runloopç»“æŸæ—¶ï¼Œå¯¹è¿™ä¸ªpoolä¸­æŒ‚è½½çš„å¯¹è±¡è¿›è¡Œä¸€æ¬¡releaseæ“ä½œã€‚æ‰€ä»¥å¦‚æœä¸€ä¸ªæ–¹æ³•æˆ–è€…å¾ªç¯å†…éƒ¨æœ‰å¤§é‡çš„ä¸´æ—¶å¯¹è±¡ï¼Œæœ€å¥½ç”¨@autorelease{}åŒ…ä¸€ä¸‹ï¼Œä»¥ä¾¿æœ€å¿«çš„é‡Šæ”¾å†…å­˜ã€‚</p>
<h2 id="6-ä¸è¦å†viewWillAppearä¸­åšè€—æ—¶çš„æ“ä½œ">6.ä¸è¦å†viewWillAppearä¸­åšè€—æ—¶çš„æ“ä½œ</h2><h2 id="7-ä½¿ç”¨IMP">7.ä½¿ç”¨IMP</h2><p>å¦‚æœä¸€ä¸ªæ–¹æ³•åœ¨ä¸€ä¸ªå¾ªç¯æ¬¡æ•°éå¸¸å¤šçš„å¾ªç¯ä¸­ä½¿ç”¨ï¼Œåœ¨è¿›å…¥å¾ªç¯å‰ä½¿ç”¨ methodForSelector è·å–è¯¥æ–¹æ³• IMPï¼Œç„¶ååœ¨å¾ªç¯ä½“ä¸­ç›´æ¥ä½¿ç”¨è¯¥ IMPã€‚</p>
<h2 id="8-core_dataä¼˜åŒ–">8.core dataä¼˜åŒ–</h2><ol>
<li>è®¾ç½®fetchrequestçš„batch sizeï¼Œæ¯”å¦‚ä¸€æ¬¡å–20.</li>
<li>ä½¿ç”¨nest managedObjectContextï¼ŒæŠŠsaveæ“ä½œæ”¾åœ¨privateContextä¸­è¿›è¡Œã€‚</li>
<li>è”åˆfetchResultControllerå’ŒtableViewï¼Œæé«˜ç”¨æˆ·ä½“éªŒã€‚</li>
<li>å†æœ‰relationshipæ—¶å¯ä»¥è€ƒè™‘å¯¹relationshipè¿›è¡Œprefetchã€‚</li>
</ol>
<h2 id="9-æé«˜appåŠ è½½é€Ÿåº¦">9.æé«˜appåŠ è½½é€Ÿåº¦</h2><p>å¦‚æœappå¯åŠ¨æ—¶é—´è¿‡é•¿ï¼Œç³»ç»Ÿçš„watchdogä¼škillæ‰appã€‚ç³»ç»Ÿå¯¹appçš„å¯åŠ¨æ—¶é—´æœ‰ä¸¥æ ¼è¦æ±‚ï¼Œexampleï¼šlaunch 20sï¼Œresume 10ç§’ï¼Œsuspend 10ç§’ï¼ŒQuit 6ç§’ï¼Œbackground task 10ç§’ã€‚<br>appå¯åŠ¨ä¼šåŒ…æ‹¬ä»¥ä¸‹éƒ¨åˆ†ã€‚<br>1ï¼‰    é“¾æ¥å’Œè½½å…¥ï¼šå¯ä»¥åœ¨Time Profileä¸­æ˜¾ç¤ºdyldè½½å…¥åº“å‡½æ•°ï¼Œåº“ä¼šè¢«æ˜ å°„åˆ°åœ°å€ç©ºé—´ï¼ŒåŒæ—¶å®Œæˆç»‘å®šä»¥åŠé™æ€åˆå§‹åŒ–ã€‚<br>2ï¼‰    UIKitåˆå§‹åŒ–ï¼šå¦‚æœåº”ç”¨çš„Root View Controlleræ˜¯ç”±XIBå®ç°çš„ï¼Œä¹Ÿä¼šåœ¨å¯åŠ¨æ—¶è¢«åˆå§‹åŒ–ã€‚<br>3ï¼‰    åº”ç”¨å›è°ƒï¼šè°ƒç”¨UIApplicationDeleagteçš„å›è°ƒï¼šapplication:didFinishLaunchingWithOptions<br>4ï¼‰    ç¬¬ä¸€æ¬¡Core Animationè°ƒç”¨ï¼šåœ¨å¯åŠ¨åçš„æ–¹æ³•-[UIApplication _resportAppLaunchFinished]ä¸­è°ƒç”¨CA::Transaction::commitå®ç°ç¬¬ä¸€å¸§ç”»é¢çš„ç»˜åˆ¶ã€‚</p>
<h3 id="è§£å†³åŠæ³•ï¼š">è§£å†³åŠæ³•ï¼š</h3><ol>
<li>å°†ä¸æ˜¾ç¤ºç¬¬ä¸€å±ç”»é¢æ— å…³çš„æ“ä½œæ”¾åˆ°ä¹‹åæ‰§è¡Œï¼›</li>
<li>å¦‚æœæ˜¯ç”¨XIBæ–‡ä»¶loadç¬¬ä¸€å±ï¼ŒXIBæ–‡ä»¶ä¸­çš„Viewå±‚ä¹Ÿè¦å¦‚æœæ‰å¹³ï¼Œä¸è¦æœ‰å¤ªå¤šå›¾å±‚ã€‚</li>
<li>å‡å°‘+(void)loadçš„ä½¿ç”¨ã€‚</li>
<li>å‡å°‘å¯åŠ¨æ—¶å¤æ‚xibçš„ä½¿ç”¨ï¼Œå°½é‡ç”¨ä»£ç ã€‚</li>
<li>æé«˜core dataçš„è¯»å–æ•ˆç‡ï¼Œå¦‚è®¾ç½®fetchSize = 20.</li>
</ol>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a><a href="http://www.hrchen.com/2013/05/performance-with-instruments/" target="_blank" rel="external">http://www.hrchen.com/2013/05/performance-with-instruments/</a></a><br><a><a href="http://itindex.net/detail/48367-ios-%E6%80%A7%E8%83%BD-%E4%BC%98%E5%8C%96" target="_blank" rel="external">http://itindex.net/detail/48367-ios-%E6%80%A7%E8%83%BD-%E4%BC%98%E5%8C%96</a></a><br><a><a href="http://www.cnblogs.com/kesalin/archive/2013/04/05/ios_opt.html" target="_blank" rel="external">http://www.cnblogs.com/kesalin/archive/2013/04/05/ios_opt.html</a></a></p>
]]></content>
    <summary type="html">
    <![CDATA[<a id="more"></a>
<h1 id="æ­¤æ–‡æ˜¯å¯¹ç½‘ç»œä¸Šä¸€äº›åšå®¢å’Œè‡ªå·±å¼€å‘ä¸­é‡åˆ°çš„æ€§èƒ½é—®é¢˜çš„æ€»ç»“ã€‚">æ­¤æ–‡æ˜¯å¯¹ç½‘ç»œä¸Šä¸€äº›åšå®¢å’Œè‡ªå·±å¼€å‘ä¸­é‡åˆ°çš„æ€§èƒ½é—®é¢˜çš„æ€»ç»“ã€‚</h1><h2 id="1-å¾ªç¯å¼•ç”¨">1.å¾ªç¯å¼•ç”¨</h2><p>åœ¨ä½¿ç”¨blockçš„æ—¶å€™ä¼šå‡ºç°å¼•ç”¨è®¡æ•°çš„é—®é¢˜]]>
    </summary>
    
      <category term="iOS" scheme="http://devliu.com/tags/iOS/"/>
    
  </entry>
  
</feed>
